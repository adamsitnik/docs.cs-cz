---
ms.openlocfilehash: 0c49c8fd5201b1e247b210e86644de027a91bbd9
ms.sourcegitcommit: 4d8efe00f2e5ab42e598aff298d13b8c052d9593
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/16/2019
ms.locfileid: "68237675"
---
### <a name="improved-wcf-chain-trust-certificate-validation-for-nettcp-certificate-authentication"></a><span data-ttu-id="6f3b5-101">Vylepšené WCF řetězu vztahu důvěryhodnosti ověření certifikátu pro ověřování pomocí certifikátu Net.Tcp</span><span class="sxs-lookup"><span data-stu-id="6f3b5-101">Improved WCF chain trust certificate validation for Net.Tcp certificate authentication</span></span>

|   |   |
|---|---|
|<span data-ttu-id="6f3b5-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="6f3b5-102">Details</span></span>|<span data-ttu-id="6f3b5-103">Rozhraní .NET framework 4.7.2 zlepšuje ověřování řetězu důvěryhodných certifikátů při ověřování pomocí certifikátů pomocí zabezpečení přenosu s použitím technologie WCF.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-103">.NET Framework 4.7.2 improves chain trust certificate validation when using certificate authentication with transport security with WCF.</span></span> <span data-ttu-id="6f3b5-104">Díky tomuto vylepšení je třeba nastavit klientské certifikáty, které se používají k ověřování na server pro ověřování klientů.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-104">With this improvement, client certificates that are used to authenticate to a server must be configured for client authentication.</span></span>  <span data-ttu-id="6f3b5-105">Podobně certifikáty serveru, které jsou pro ověřování serveru musí být nakonfigurovaný pro ověřování serveru.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-105">Similarly server certificates that are for the authenticating a server must be configured for server authentication.</span></span> <span data-ttu-id="6f3b5-106">Díky této změně pokud kořenový certifikát je zakázaná, ověřování řetězu certifikátů se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-106">With this change, if the root certificate is disabled, the certificate chain validation fails.</span></span> <span data-ttu-id="6f3b5-107">Stejné změny byl také proveden rozhraní .NET Framework 3.5 a novějších verzích prostřednictvím zabezpečení Windows souhrn.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-107">The same change was also made to .NET Framework 3.5 and later versions via Windows security roll-up.</span></span> <span data-ttu-id="6f3b5-108">Další informace najdete [tady](https://support.microsoft.com/en-us/help/4055269/security-only-update-for-net-framework-3-5-1-4-5-2-4-6-4-6-1-4-6-2-4-7). Tato změna je ve výchozím a můžete vypnout pomocí nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-108">You can find more information [here](https://support.microsoft.com/en-us/help/4055269/security-only-update-for-net-framework-3-5-1-4-5-2-4-6-4-6-1-4-6-2-4-7).This change is on by default and can be turned off by a configuration setting.</span></span>|
|<span data-ttu-id="6f3b5-109">Doporučení</span><span class="sxs-lookup"><span data-stu-id="6f3b5-109">Suggestion</span></span>|<ul><li><span data-ttu-id="6f3b5-110">Ověřte, jestli má certifikace serveru a klienta vyžaduje OID rozšířeného použití klíče.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-110">Validate if your server and client certification has the required EKU OID.</span></span> <span data-ttu-id="6f3b5-111">V opačném případě aktualizujte vaše certifikace.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-111">If not, update your certification.</span></span></li><li><span data-ttu-id="6f3b5-112">Ověřte, jestli kořenový certifikát je neplatný.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-112">Validate if your root certificate is invalid.</span></span> <span data-ttu-id="6f3b5-113">Pokud ano, aktualizace kořenového certifikátu.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-113">If so, update the root certificate.</span></span></li><li><span data-ttu-id="6f3b5-114">Jak se odhlásit ze změny: Pokud certifikát nelze aktualizovat, dočasně rozbíjející změnu lze obejít s následujícím nastavením konfigurace, ale nesouhlasu s generováním změnu ponechá systému citlivé na potíže se zabezpečením.</span><span class="sxs-lookup"><span data-stu-id="6f3b5-114">How to opt out of the change: If you can't update the certificate, you can work around the breaking change temporarily with the following configration setting,  However, opting out of the change will leave your system vulnerable to the security issue.</span></span></li></ul><pre><code class="lang-xml">&lt;appSettings&gt;&#13;&#10;&lt;add key=&quot;wcf:useLegacyCertificateUsagePolicy&quot; value=&quot;true&quot; /&gt;&#13;&#10;&lt;/appSettings&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="6f3b5-115">Scope</span><span class="sxs-lookup"><span data-stu-id="6f3b5-115">Scope</span></span>|<span data-ttu-id="6f3b5-116">Vedlejší</span><span class="sxs-lookup"><span data-stu-id="6f3b5-116">Minor</span></span>|
|<span data-ttu-id="6f3b5-117">Version</span><span class="sxs-lookup"><span data-stu-id="6f3b5-117">Version</span></span>|<span data-ttu-id="6f3b5-118">4.7.2</span><span class="sxs-lookup"><span data-stu-id="6f3b5-118">4.7.2</span></span>|
|<span data-ttu-id="6f3b5-119">type</span><span class="sxs-lookup"><span data-stu-id="6f3b5-119">Type</span></span>|<span data-ttu-id="6f3b5-120">Modul runtime</span><span class="sxs-lookup"><span data-stu-id="6f3b5-120">Runtime</span></span>|
