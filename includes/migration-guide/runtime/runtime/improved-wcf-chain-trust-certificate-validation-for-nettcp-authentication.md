---
ms.openlocfilehash: e69ed64390504af872fa6785aa0b7d6c4db84ef0
ms.sourcegitcommit: cdf67135a98a5a51913dacddb58e004a3c867802
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/21/2019
ms.locfileid: "69671031"
---
### <a name="improved-wcf-chain-trust-certificate-validation-for-nettcp-certificate-authentication"></a><span data-ttu-id="865b4-101">Vylepšené ověřování certifikátu důvěryhodnosti řetězu WCF pro ověřování certifikátů NET. TCP</span><span class="sxs-lookup"><span data-stu-id="865b4-101">Improved WCF chain trust certificate validation for Net.Tcp certificate authentication</span></span>

|   |   |
|---|---|
|<span data-ttu-id="865b4-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="865b4-102">Details</span></span>|<span data-ttu-id="865b4-103">.NET Framework 4.7.2 vylepšuje ověřování certifikátů důvěryhodnosti řetězu při použití ověřování certifikátů s zabezpečením přenosu pomocí WCF.</span><span class="sxs-lookup"><span data-stu-id="865b4-103">.NET Framework 4.7.2 improves chain trust certificate validation when using certificate authentication with transport security with WCF.</span></span> <span data-ttu-id="865b4-104">S tímto vylepšením je nutné pro ověřování klientů nakonfigurovat klientské certifikáty, které se používají k ověřování na serveru.</span><span class="sxs-lookup"><span data-stu-id="865b4-104">With this improvement, client certificates that are used to authenticate to a server must be configured for client authentication.</span></span>  <span data-ttu-id="865b4-105">Podobně serverové certifikáty, které jsou pro ověřování serveru, musí být nakonfigurovány pro ověřování serveru.</span><span class="sxs-lookup"><span data-stu-id="865b4-105">Similarly server certificates that are for the authenticating a server must be configured for server authentication.</span></span> <span data-ttu-id="865b4-106">V případě této změny je-li kořenový certifikát zakázán, ověření řetězu certifikátů se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="865b4-106">With this change, if the root certificate is disabled, the certificate chain validation fails.</span></span> <span data-ttu-id="865b4-107">Stejná změna byla také provedena v .NET Framework 3,5 a novějších verzích prostřednictvím souhrnu zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="865b4-107">The same change was also made to .NET Framework 3.5 and later versions via Windows security roll-up.</span></span> <span data-ttu-id="865b4-108">Další informace najdete [tady](https://support.microsoft.com/help/4055269/security-only-update-for-net-framework-3-5-1-4-5-2-4-6-4-6-1-4-6-2-4-7). Tato změna je ve výchozím nastavení zapnutá a dá se vypnout nastavením konfigurace.</span><span class="sxs-lookup"><span data-stu-id="865b4-108">You can find more information [here](https://support.microsoft.com/help/4055269/security-only-update-for-net-framework-3-5-1-4-5-2-4-6-4-6-1-4-6-2-4-7).This change is on by default and can be turned off by a configuration setting.</span></span>|
|<span data-ttu-id="865b4-109">Doporučení</span><span class="sxs-lookup"><span data-stu-id="865b4-109">Suggestion</span></span>|<ul><li><span data-ttu-id="865b4-110">Ověřte, zda má server a certifikace klienta požadované identifikátory objektu EKU.</span><span class="sxs-lookup"><span data-stu-id="865b4-110">Validate if your server and client certification has the required EKU OID.</span></span> <span data-ttu-id="865b4-111">V takovém případě aktualizujte certifikaci.</span><span class="sxs-lookup"><span data-stu-id="865b4-111">If not, update your certification.</span></span></li><li><span data-ttu-id="865b4-112">Ověřte, zda je kořenový certifikát neplatný.</span><span class="sxs-lookup"><span data-stu-id="865b4-112">Validate if your root certificate is invalid.</span></span> <span data-ttu-id="865b4-113">V takovém případě aktualizujte kořenový certifikát.</span><span class="sxs-lookup"><span data-stu-id="865b4-113">If so, update the root certificate.</span></span></li><li><span data-ttu-id="865b4-114">Jak se odhlásit ze změny: Pokud certifikát nemůžete aktualizovat, můžete dočasně obejít zásadní změnu s následujícím nastavením konfiguračního. Pokud ale nebudete mít jistotu, že se váš systém bude zranitelný vůči bezpečnostnímu problému.</span><span class="sxs-lookup"><span data-stu-id="865b4-114">How to opt out of the change: If you can't update the certificate, you can work around the breaking change temporarily with the following configration setting,  However, opting out of the change will leave your system vulnerable to the security issue.</span></span></li></ul><pre><code class="lang-xml">&lt;appSettings&gt;&#13;&#10;&lt;add key=&quot;wcf:useLegacyCertificateUsagePolicy&quot; value=&quot;true&quot; /&gt;&#13;&#10;&lt;/appSettings&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="865b4-115">Scope</span><span class="sxs-lookup"><span data-stu-id="865b4-115">Scope</span></span>|<span data-ttu-id="865b4-116">Vedlejší</span><span class="sxs-lookup"><span data-stu-id="865b4-116">Minor</span></span>|
|<span data-ttu-id="865b4-117">Version</span><span class="sxs-lookup"><span data-stu-id="865b4-117">Version</span></span>|<span data-ttu-id="865b4-118">4.7.2</span><span class="sxs-lookup"><span data-stu-id="865b4-118">4.7.2</span></span>|
|<span data-ttu-id="865b4-119">type</span><span class="sxs-lookup"><span data-stu-id="865b4-119">Type</span></span>|<span data-ttu-id="865b4-120">Modul runtime</span><span class="sxs-lookup"><span data-stu-id="865b4-120">Runtime</span></span>|
