---
ms.openlocfilehash: 1ebae379b641cbddb2a2c07a199fca057a0d5db0
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61639449"
---
### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>Přidělení prostoru na hvězdičku sloupce mřížky WPF

|   |   |
|---|---|
|Podrobnosti|Od verze rozhraní .NET Framework 4.7, WPF nahrazuje algoritmus, který <xref:System.Windows.Controls.Grid> používá k přidělení místa pro \*– sloupce. Tato akce změní šířku skutečné přiřazená \*-sloupců v mnoha případech:<ul><li>Pokud jeden nebo více \*– sloupce také mít minimální nebo maximální šířku, která přepíše proporcionální přidělení pro tento sloupec. (Minimální šířku lze odvodit z explicitní deklarace hodnota MinWidth nebo ze implicitní minimální získané z obsahu sloupce. Maximální šířka lze definovat pouze explicitně, od deklarace MaxWidth.)</li><li>Když jeden nebo více \*– sloupce deklarovat velmi velký \*– váha, větší než 10 ^ 298.</li><li>Když \*-vah se dostatečně neliší setkat s plovoucí desetinnou čárkou nestabilitu (přetečení, podtečení, ztrátu přesnosti).</li><li>Při zaokrouhlení rozložení je povolená a efektivní DPI displeje je dostatečně vysoký.</li></ul>V prvních dvou případech může být výrazně liší od těch, které vytvářených staré algoritmus; šířky vytvářených nový algoritmus v posledním případě bude rozdíl maximálně jeden nebo dva pixelů.<p/>Nový algoritmus řeší několik chyb v původní algoritmus:<ol><li>Celkový přidělený na sloupce může být delší než šířka mřížky. Tato situace může nastat při přidělování místa na sloupec jehož Proporcionální sdílené složky je menší než minimální velikost. Algoritmus přiděluje minimální velikost, takže se sníží na místo dostupné ke ostatní sloupce. Pokud neexistují žádné \*– sloupce vlevo přidělit, bude celkový přidělený bude příliš velký.</li><li>Celkový počet přidělení může nedosahují Šířka mřížky. Toto je duální problém, který chcete #1, které při přidělování na sloupec jehož Proporcionální sdílenou složku je větší než maximální velikosti, bez \*-sloupců doleva tak, aby zabíraly slack.</li><li>Dvě \*-sloupců můžou získat přidělení není přímo úměrná jejich \*-váhy. Toto je pouze mírnější verze z 1 / #2, vzniklé při přidělování \*-sloupců A, B a C (v uvedeném pořadí), kde B proporcionální sdílené složky v rozporu s omezením jeho min (nebo max). Jako výše, tím se změní na místo dostupné ke sloupci C, který získá méně (nebo více) přímo úměrná přidělení, než bylo A,</li><li>Sloupce s velmi váhou (&gt; 10 ^ 298) jsou všechny zacházeno, jako kdyby měly váhu 10 ^ 298. Proporcionální rozdíly mezi nimi (a mezi sloupci s mírně nižší váhy) se neuplatňují.</li><li>Sloupce s nekonečnou váhy nejsou správně zpracovány. [Ve skutečnosti nelze nastavit váhu na nekonečno, ale je toto umělá omezení. Kód přidělení se snažil to zpracovat ho, ale, že úlohu chybná.]</li><li>Několik menších problémů při předcházení přetečení, podtečení, ztráty přesnosti a podobné problémy s plovoucí desetinnou čárkou.</li><li>Úpravy při zaokrouhlení rozložení jsou nesprávné na dostatečně vysoké rozlišení DPI.</li></ol>Nový algoritmus generuje výsledky, které splňují následující kritéria:<p/>A. Skutečné šířka přiřazeno \*– sloupec není nikdy menší než minimální šířku ani větší než maximální šířku.<br/>B. Každý <em>– sloupec, který není přiřazen minimální nebo maximální šířka se přiřadí přímo úměrná šířku jeho <em>-váhu. Abychom byli přesní, pokud jsou deklarovány dva sloupce s šířkou x</em> a y</em> , a pokud ani jedno z těchto sloupců obdrží minimální nebo maximální šířku, skutečné šířku v a w přiřazená sloupce, které jsou ve stejném poměru: v / w == x a y.<br/>C. Celková šířka přidělené &quot;proporcionální&quot; \*– sloupce je rovna volné místo dostupné po přidělení omezených sloupců (pevně daná, auto, a \*– sloupce, které jsou přiděleny jejich šířka argumenty min a max). To může být nula, pokud součet minimální šířku přesahuje mřížky je k dispozici šířku.<br/>D. Tyto příkazy mají být interpretovány s ohledem na &quot;ideální&quot; rozložení. Při zaokrouhlení rozložení je v platnosti, skutečné šířky se může lišit od ideální šířky o co jeden pixel.<br/>Staré algoritmus dodržet (A), ale nepovedlo případném dalším sdílení dodržovat jiných kritérií v případech uvedených výše.<p/>Všechno, co říkají o sloupce a šířku v tomto článku se vztahuje také na řádky a výšky.|
|Doporučení|Ve výchozím nastavení aplikace, která cílová verze rozhraní .NET Framework počínaje .NET Framework 4.7 se zobrazí nový algoritmus při aplikace, která cílového rozhraní .NET Framework 4.6.2 nebo starší verze se zobrazí původní algoritmus.<p/>Výchozí hodnotu přepsat, použijte následující nastavení:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Hodnota <code>true</code> vybere původní algoritmus <code>false</code> vybere nový algoritmus.|
|Rozsah|Vedlejší|
|Version|4.7|
|Type|Změna cílení|
