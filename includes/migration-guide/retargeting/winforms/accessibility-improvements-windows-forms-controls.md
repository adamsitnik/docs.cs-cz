---
ms.openlocfilehash: 8c031198a1faad58ac5c5f5d5f042a1d9a35e8d5
ms.sourcegitcommit: 337bdc5a463875daf2cc6883e5a2da97d56f5000
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/24/2019
ms.locfileid: "72887750"
---
### <a name="accessibility-improvements-in-windows-forms-controls"></a><span data-ttu-id="3fd90-101">Vylepšení usnadnění v ovládacích prvcích model Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3fd90-101">Accessibility improvements in Windows Forms controls</span></span>

|   |   |
|---|---|
|<span data-ttu-id="3fd90-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="3fd90-102">Details</span></span>|<span data-ttu-id="3fd90-103">Model Windows Forms vylepšuje, jak funguje s technologiemi usnadnění, aby lépe podporovaly model Windows Forms zákazníky.</span><span class="sxs-lookup"><span data-stu-id="3fd90-103">Windows Forms is improving how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="3fd90-104">Mezi ně patří následující změny počínaje .NET Framework 4.7.1:</span><span class="sxs-lookup"><span data-stu-id="3fd90-104">These include the following changes starting with the .NET Framework 4.7.1:</span></span><ul><li><span data-ttu-id="3fd90-105">Změny pro zlepšení zobrazení v režimu Vysoký kontrast.</span><span class="sxs-lookup"><span data-stu-id="3fd90-105">Changes to improve display during High Contrast mode.</span></span></li><li><span data-ttu-id="3fd90-106">Změny pro zlepšení prostředí prohlížeče vlastností.</span><span class="sxs-lookup"><span data-stu-id="3fd90-106">Changes to improve the property browser experience.</span></span> <span data-ttu-id="3fd90-107">Mezi vylepšení prohlížeče vlastností patří:</span><span class="sxs-lookup"><span data-stu-id="3fd90-107">Property browser improvements include:</span></span></li><li><span data-ttu-id="3fd90-108">Lepší navigace pomocí klávesnice v různých oknech pro výběr rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="3fd90-108">Better keyboard navigation through the various drop-down selection windows.</span></span></li><li><span data-ttu-id="3fd90-109">Byla snížena nepotřebná zastavení tabulátoru.</span><span class="sxs-lookup"><span data-stu-id="3fd90-109">Reduced unnecessary tab stops.</span></span></li><li><span data-ttu-id="3fd90-110">Lepší vytváření sestav typů ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="3fd90-110">Better reporting of control types.</span></span></li><li><span data-ttu-id="3fd90-111">Vylepšené chování Předčítání.</span><span class="sxs-lookup"><span data-stu-id="3fd90-111">Improved narrator behavior.</span></span></li><li><span data-ttu-id="3fd90-112">Změny pro implementaci chybějících vzorů usnadnění uživatelského rozhraní v ovládacích prvcích.</span><span class="sxs-lookup"><span data-stu-id="3fd90-112">Changes to implement missing UI accessibility patterns in controls.</span></span></li></ul>|
|<span data-ttu-id="3fd90-113">Doporučení</span><span class="sxs-lookup"><span data-stu-id="3fd90-113">Suggestion</span></span>|<span data-ttu-id="3fd90-114">**Jak vyjádřit nebo odhlásit tyto změny**</span><span class="sxs-lookup"><span data-stu-id="3fd90-114">**How to opt in or out of these changes**</span></span><br><span data-ttu-id="3fd90-115">Aby aplikace mohla tyto změny využívat, musí běžet na .NET Framework 4.7.1 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="3fd90-115">In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.1 or later.</span></span> <span data-ttu-id="3fd90-116">Aplikace může tyto změny využít v jednom z následujících způsobů:</span><span class="sxs-lookup"><span data-stu-id="3fd90-116">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="3fd90-117">Zkompiluje se znovu a zacílí na .NET Framework 4.7.1.</span><span class="sxs-lookup"><span data-stu-id="3fd90-117">It is recompiled to target the .NET Framework 4.7.1.</span></span> <span data-ttu-id="3fd90-118">Tyto změny přístupnosti jsou ve výchozím nastavení povolené v aplikacích model Windows Forms, které cílí na .NET Framework 4.7.1 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="3fd90-118">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.7.1 or later.</span></span></li><li><span data-ttu-id="3fd90-119">Výslovný se ze starší verze chování přístupnosti přidáním následujícího [přepínače AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do oddílu <code>&lt;runtime&gt;</code> souboru App. config a jeho nastavením na <code>false</code>, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="3fd90-119">It opts out of the legacy accessibility behaviors by adding the following [AppContext switch](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the <code>&lt;runtime&gt;</code> section of the app.config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><br><span data-ttu-id="3fd90-120">Aplikace, které cílí na .NET Framework 4.7.1 nebo novější a chtějí zachovat starší funkce usnadnění, se můžou přihlásit k používání starších funkcí pro usnadnění přístupu tím, že explicitně nastaví tento přepínač AppContext na <code>true</code>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-120">Applications that target the .NET Framework 4.7.1 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to <code>true</code>.</span></span><p/><span data-ttu-id="3fd90-121">Přehled automatizace uživatelského rozhraní najdete v tématu [Přehled automatizace uživatelského rozhraní](~/docs/framework/ui-automation/ui-automation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3fd90-121">For an overview of UI automation, see the [UI Automation Overview](~/docs/framework/ui-automation/ui-automation-overview.md).</span></span><p/><span data-ttu-id="3fd90-122">**Přidání podpory pro vzory a vlastnosti automatizace uživatelského rozhraní**</span><span class="sxs-lookup"><span data-stu-id="3fd90-122">**Added support for UI Automation patterns and properties**</span></span><br/><span data-ttu-id="3fd90-123">Klienti přístupnosti můžou využít nové funkce usnadnění přístupnosti WinForms pomocí běžných veřejně popsaných vzorů volání.</span><span class="sxs-lookup"><span data-stu-id="3fd90-123">Accessibility clients can take advantage of new WinForms accessibility functionality by using common, publicly described invocation patterns.</span></span> <span data-ttu-id="3fd90-124">Tyto vzory nejsou specifické pro WinForms.</span><span class="sxs-lookup"><span data-stu-id="3fd90-124">These patterns are not WinForms-specific.</span></span> <span data-ttu-id="3fd90-125">Například klienti přístupnosti můžou volat metodu QueryInterface na rozhraní IAccessible (MAAS) a získat tak rozhraní IServiceProvider.</span><span class="sxs-lookup"><span data-stu-id="3fd90-125">For instance, accessibility clients can call the QueryInterface method on the IAccessible interface (MAAS) to obtain an IServiceProvider interface.</span></span> <span data-ttu-id="3fd90-126">Pokud je toto rozhraní k dispozici, mohou klienti použít metodu QueryService pro vyžádání rozhraní IAccessibleEx.</span><span class="sxs-lookup"><span data-stu-id="3fd90-126">If this interface is available, clients can use its QueryService method to request an IAccessibleEx interface.</span></span> <span data-ttu-id="3fd90-127">Další informace najdete v tématu [použití IAccessibleEx z klienta](https://docs.microsoft.com/windows/desktop/WinAuto/using-iaccessibleex-from-a-client).</span><span class="sxs-lookup"><span data-stu-id="3fd90-127">For more information, see [Using IAccessibleEx from a Client](https://docs.microsoft.com/windows/desktop/WinAuto/using-iaccessibleex-from-a-client).</span></span> <span data-ttu-id="3fd90-128">Počínaje .NET Framework 4.7.1, IServiceProvider a [IAccessibleEx](https://docs.microsoft.com/windows/desktop/WinAuto/iaccessibleex) (v případě potřeby) jsou k dispozici pro objekty usnadnění přístupnosti WinForms.</span><span class="sxs-lookup"><span data-stu-id="3fd90-128">Starting with the .NET Framework 4.7.1, IServiceProvider and [IAccessibleEx](https://docs.microsoft.com/windows/desktop/WinAuto/iaccessibleex) (where applicable) are available for WinForms accessibility objects.</span></span><p/><span data-ttu-id="3fd90-129">.NET Framework 4.7.1 přidává podporu následujících vzorů a vlastností automatizace uživatelského rozhraní:</span><span class="sxs-lookup"><span data-stu-id="3fd90-129">The .NET Framework 4.7.1 adds support for the following UI automation patterns and properties:</span></span><ul><li><span data-ttu-id="3fd90-130">Ovládací prvky <xref:System.Windows.Forms.ToolStripSplitButton> a <xref:System.Windows.Forms.ComboBox> podporují [model rozbalení a sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="3fd90-130">The <xref:System.Windows.Forms.ToolStripSplitButton> and <xref:System.Windows.Forms.ComboBox> controls support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="3fd90-131">Ovládací prvek <xref:System.Windows.Forms.ToolStripMenuItem> má hodnotu vlastnosti [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-131">The <xref:System.Windows.Forms.ToolStripMenuItem> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="3fd90-132">Ovládací prvek <xref:System.Windows.Forms.ToolStripItem> podporuje vlastnost <xref:System.Windows.Automation.AutomationElement.NameProperty> a vzorek pro[rozbalení a sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="3fd90-132">The <xref:System.Windows.Forms.ToolStripItem> control supports the <xref:System.Windows.Automation.AutomationElement.NameProperty> property and the[Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="3fd90-133">Ovládací prvek <xref:System.Windows.Forms.ToolStripDropDownItem> podporuje <xref:System.Windows.Forms.AccessibleEvents>, které označují StateChange a NameChange – při rozbalení nebo sbalení rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="3fd90-133">The <xref:System.Windows.Forms.ToolStripDropDownItem> control supports <xref:System.Windows.Forms.AccessibleEvents> indicating StateChange and NameChange when drop down is expanded or collapsed.</span></span></li><li><span data-ttu-id="3fd90-134">Ovládací prvek <xref:System.Windows.Forms.ToolStripDropDownButton> má hodnotu vlastnosti [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-134">The <xref:System.Windows.Forms.ToolStripDropDownButton> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="3fd90-135">Ovládací prvek <xref:System.Windows.Forms.DataGridViewCheckBoxCell> podporuje <xref:System.Windows.Automation.TogglePattern>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-135">The <xref:System.Windows.Forms.DataGridViewCheckBoxCell> control supports the <xref:System.Windows.Automation.TogglePattern>.</span></span></li><li><span data-ttu-id="3fd90-136">Ovládací prvky <xref:System.Windows.Forms.NumericUpDown> a <xref:System.Windows.Forms.DomainUpDown> podporují vlastnost <xref:System.Windows.Automation.AutomationElement.NameProperty> a mají <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) .</span><span class="sxs-lookup"><span data-stu-id="3fd90-136">The <xref:System.Windows.Forms.NumericUpDown> and <xref:System.Windows.Forms.DomainUpDown> controls support the <xref:System.Windows.Automation.AutomationElement.NameProperty> property and have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) of <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</span></span></p></li></ul><span data-ttu-id="3fd90-137">**Vylepšení ovládacího prvku PropertyGrid**</span><span class="sxs-lookup"><span data-stu-id="3fd90-137">**Improvements to the PropertyGrid control**</span></span><br><span data-ttu-id="3fd90-138">.NET Framework 4.7.1 přidává k ovládacímu prvku PropertyBrowser následující vylepšení:</span><span class="sxs-lookup"><span data-stu-id="3fd90-138">The .NET Framework 4.7.1 adds the following improvements to the PropertyBrowser control:</span></span><ul><li><span data-ttu-id="3fd90-139">Tlačítko **Podrobnosti** v chybovém dialogovém okně, které se zobrazí, když uživatel zadá nesprávnou hodnotu v ovládacím prvku <xref:System.Windows.Forms.PropertyGrid> podporuje [vzor pro rozbalení a sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), oznámení o změně stavu a názvu a vlastnost [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) s hodnota <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-139">The **Details** button in the error dialog that is displayed when the user enters an incorrect value in the <xref:System.Windows.Forms.PropertyGrid> control supports the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), state and name change notifications, and a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property with a value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="3fd90-140">Podokno zpráva zobrazené po rozbalení tlačítka **podrobností** v chybovém dialogovém okně je nyní přístupné z klávesnice a umožňuje programu Narrator oznámit obsah chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="3fd90-140">The message pane displayed when the **Details** button of the error dialog is expanded is now keyboard accessible and allows Narrator to announce the content of the error message.</span></span></li><li><span data-ttu-id="3fd90-141"><xref:System.Windows.Forms.AccessibleRole> řádků v ovládacím prvku <xref:System.Windows.Forms.PropertyGrid> se změnily z &quot;řádků&quot; na &quot;buňky&quot;.</span><span class="sxs-lookup"><span data-stu-id="3fd90-141">The <xref:System.Windows.Forms.AccessibleRole> of rows in the <xref:System.Windows.Forms.PropertyGrid> control have changed from &quot;Row&quot; to &quot;Cell&quot;.</span></span> <span data-ttu-id="3fd90-142">Buňka se mapuje na UIA ControlType &quot;DataItem&quot;, což umožňuje podpoře příslušných klávesových zkratek a oznámení mluveného komentáře.</span><span class="sxs-lookup"><span data-stu-id="3fd90-142">The cell maps to UIA ControlType &quot;DataItem&quot;, which allows it to support appropriate keyboard shortcuts and Narrator announcements.</span></span></li><li><span data-ttu-id="3fd90-143"><xref:System.Windows.Forms.PropertyGrid> řádky ovládacího prvku, které reprezentují položky hlavičky v případě, že má ovládací prvek <xref:System.Windows.Forms.PropertyGrid> vlastnost <xref:System.Windows.Forms.PropertyGrid.PropertySort> nastavenou na <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> má vlastnost [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnotu <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-143">The <xref:System.Windows.Forms.PropertyGrid> control rows that represent header items when the <xref:System.Windows.Forms.PropertyGrid> control has a <xref:System.Windows.Forms.PropertyGrid.PropertySort> property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="3fd90-144"><xref:System.Windows.Forms.PropertyGrid> řádky ovládacího prvku, které reprezentují položky hlavičky, pokud má ovládací prvek <xref:System.Windows.Forms.PropertyGrid> vlastnost <xref:System.Windows.Forms.PropertyGrid.PropertySort> nastavenou na <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> podporuje [vzorek pro rozbalení a sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="3fd90-144">The <xref:System.Windows.Forms.PropertyGrid> control rows that represent header items when the <xref:System.Windows.Forms.PropertyGrid> control has a <xref:System.Windows.Forms.PropertyGrid.PropertySort>  property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="3fd90-145">Vylepšená navigace klávesnice mezi mřížkou a panelem nástrojů nad ním</span><span class="sxs-lookup"><span data-stu-id="3fd90-145">Improved keyboard navigation between the grid and the ToolBar above it.</span></span> <span data-ttu-id="3fd90-146">Stisknutí &quot;SHIFT-TAB&quot; nyní vybere první tlačítko panelu nástrojů namísto celého panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="3fd90-146">Pressing &quot;Shift-Tab&quot; now selects the first ToolBar button, instead of the whole ToolBar.</span></span></li><li><span data-ttu-id="3fd90-147">ovládací prvky <xref:System.Windows.Forms.PropertyGrid> zobrazené v režimu Vysoký kontrast nyní vykreslí fokus kolem tlačítka panelu nástrojů, které odpovídá aktuální hodnotě vlastnosti <xref:System.Windows.Forms.PropertyGrid.PropertySort>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-147"><xref:System.Windows.Forms.PropertyGrid> controls displayed in High Contrast mode will now draw a focus rectangle around the ToolBar button which corresponds to the current <xref:System.Windows.Forms.PropertyGrid.PropertySort> property value.</span></span></li><li><span data-ttu-id="3fd90-148"><xref:System.Windows.Forms.PropertyGrid> ovládací prvky zobrazené v režimu Vysoký kontrast a s vlastností <xref:System.Windows.Forms.PropertyGrid.PropertySort> nastavenou na <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> se nyní zobrazí pozadí záhlaví kategorií ve vysoce kontrastní barvě.</span><span class="sxs-lookup"><span data-stu-id="3fd90-148"><xref:System.Windows.Forms.PropertyGrid> controls displayed in High Contrast mode and with a <xref:System.Windows.Forms.PropertyGrid.PropertySort> property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> will now display the background of category headers in a highly contrasting color.</span></span></li><li><span data-ttu-id="3fd90-149"><xref:System.Windows.Forms.PropertyGrid> ovládací prvky lépe odlišit položky panelů nástrojů s fokusem a položkami panelu nástrojů, které označují aktuální hodnotu vlastnosti <xref:System.Windows.Forms.PropertyGrid.PropertySort>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-149"><xref:System.Windows.Forms.PropertyGrid> controls better differentiates between ToolBar items with focus and the ToolBar items which indicate the current value of the <xref:System.Windows.Forms.PropertyGrid.PropertySort> property.</span></span> <span data-ttu-id="3fd90-150">Tato oprava se skládá z Vysoký kontrast změny a změny pro jiné scénáře než Vysoký kontrast.</span><span class="sxs-lookup"><span data-stu-id="3fd90-150">This fix consists of a High Contrast change and a change for non-High Contrast scenarios.</span></span></li><li><span data-ttu-id="3fd90-151">ovládací prvky panelu nástrojů pro <xref:System.Windows.Forms.PropertyGrid>, které určují aktuální hodnotu vlastnosti <xref:System.Windows.Forms.PropertyGrid.PropertySort> podporují <xref:System.Windows.Automation.TogglePattern>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-151"><xref:System.Windows.Forms.PropertyGrid> control ToolBar items which indicates the current value of the <xref:System.Windows.Forms.PropertyGrid.PropertySort> property support the <xref:System.Windows.Automation.TogglePattern>.</span></span></li><li><span data-ttu-id="3fd90-152">Vylepšená podpora Narrator pro odlišení vybraného zarovnání ve výběru zarovnání.</span><span class="sxs-lookup"><span data-stu-id="3fd90-152">Improved Narrator support for distinguishing the selected alignment in the Alignment Picker.</span></span></li><li><span data-ttu-id="3fd90-153">Když se ve formuláři zobrazí prázdný ovládací prvek <xref:System.Windows.Forms.PropertyGrid>, zobrazí se teď fokus, kde dřív to nebylo.</span><span class="sxs-lookup"><span data-stu-id="3fd90-153">When an empty <xref:System.Windows.Forms.PropertyGrid> control is displayed on a form, it will now receive focus where previously it would not.</span></span></p></li></ul><span data-ttu-id="3fd90-154">**Použití barev definovaných operačním systémem v motivech Vysoký kontrast**</span><span class="sxs-lookup"><span data-stu-id="3fd90-154">**Use of OS-defined colors in High Contrast themes**</span></span><br><ul><li><span data-ttu-id="3fd90-155">Ovládací prvky <xref:System.Windows.Forms.Button> a <xref:System.Windows.Forms.CheckBox> s jejich vlastností <xref:System.Windows.Forms.ButtonBase.FlatStyle> nastavenou na <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, což je výchozí styl, teď v Vysoký kontrast motivu při výběru použít barvy definované OS.</span><span class="sxs-lookup"><span data-stu-id="3fd90-155">The <xref:System.Windows.Forms.Button> and <xref:System.Windows.Forms.CheckBox> controls with their <xref:System.Windows.Forms.ButtonBase.FlatStyle> property set to <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, which is the default style, now use OS-defined colors in High Contrast theme when selected.</span></span> <span data-ttu-id="3fd90-156">Dříve byly barvy textu a pozadí Nekontrastní a bylo těžké je přečíst.</span><span class="sxs-lookup"><span data-stu-id="3fd90-156">Previously, text and background colors were not contrasting and were hard to read.</span></span></li><li><span data-ttu-id="3fd90-157">Ovládací prvky <xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.CheckBox>, <xref:System.Windows.Forms.RadioButton>, <xref:System.Windows.Forms.Label>, <xref:System.Windows.Forms.LinkLabel>a <xref:System.Windows.Forms.GroupBox> s vlastností <xref:System.Windows.Forms.Control.Enabled> nastavenou na **hodnotu false** používaly šedou barvu pro vykreslení textu v vysoký kontrastch motivech, což vede k nízkému kontrastu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="3fd90-157">The <xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.CheckBox>, <xref:System.Windows.Forms.RadioButton>, <xref:System.Windows.Forms.Label>, <xref:System.Windows.Forms.LinkLabel>, and <xref:System.Windows.Forms.GroupBox> controls with their <xref:System.Windows.Forms.Control.Enabled> property set to **false** used a shaded color to render text in High Contrast themes, resulting in low contrast against the background.</span></span> <span data-ttu-id="3fd90-158">Nyní tyto ovládací prvky používají &quot;zakázaný text&quot; barva definovaná operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="3fd90-158">Now these controls use the &quot;Disabled Text&quot; color defined by the OS.</span></span> <span data-ttu-id="3fd90-159">Tato oprava platí pro ovládací prvky s vlastností <code>FlatStyle</code> nastavenou na jinou hodnotu než <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-159">This fix applies to controls with the <code>FlatStyle</code> property set to a value other than <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>.</span></span> <span data-ttu-id="3fd90-160">Druhé ovládací prvky jsou vykreslovány operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="3fd90-160">The latter controls are rendered by the OS.</span></span></li><li><span data-ttu-id="3fd90-161"><xref:System.Windows.Forms.DataGridView> nyní vykreslí viditelný obdélník kolem obsahu buňky, která má aktuální fokus.</span><span class="sxs-lookup"><span data-stu-id="3fd90-161"><xref:System.Windows.Forms.DataGridView> now renders a visible rectangle around the content of the cell which has the current focus.</span></span> <span data-ttu-id="3fd90-162">Dřív to nebylo v některých Vysoký kontrast motivech vidět.</span><span class="sxs-lookup"><span data-stu-id="3fd90-162">Previously, this was not visible in certain High Contrast themes.</span></span></li><li><span data-ttu-id="3fd90-163"><xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s vlastností <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> nastavenou na **hodnotu false** nyní používá &quot;zakázaný text&quot; barvy definované operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="3fd90-163"><xref:System.Windows.Forms.ToolStripMenuItem> controls with their <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> property set to **false** now use the &quot;Disabled Text&quot; color defined by the OS.</span></span></li><li><span data-ttu-id="3fd90-164"><xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s vlastností <xref:System.Windows.Forms.ToolStripMenuItem.Checked> nastavenou na **hodnotu true** nyní vykreslí značku zaškrtnutí v kontrastní barvě systému.</span><span class="sxs-lookup"><span data-stu-id="3fd90-164"><xref:System.Windows.Forms.ToolStripMenuItem> controls with their <xref:System.Windows.Forms.ToolStripMenuItem.Checked> property set to **true** now render the associated check mark in a contrasting system color.</span></span>  <span data-ttu-id="3fd90-165">Dříve se barva značky zaškrtnutí nezměnila na dostatečnou a v Vysoký kontrastch motivech není viditelná.</span><span class="sxs-lookup"><span data-stu-id="3fd90-165">Previously the check mark color was not contrasting enough and not visible in High Contrast themes.</span></span></li></ul><span data-ttu-id="3fd90-166">Poznámka: Windows 10 změnil hodnoty pro některé systémové barvy s vysokým kontrastem.</span><span class="sxs-lookup"><span data-stu-id="3fd90-166">NOTE: Windows 10 has changed values for some high contrast system colors.</span></span> <span data-ttu-id="3fd90-167">Rozhraní model Windows Forms Framework vychází z rozhraní Win32.</span><span class="sxs-lookup"><span data-stu-id="3fd90-167">Windows Forms Framework is based on the Win32 framework.</span></span> <span data-ttu-id="3fd90-168">Pro dosažení nejlepšího prostředí spusťte v nejnovější verzi Windows a přihlaste se k nejnovějším změnám operačního systému přidáním souboru App. manifest do testovací aplikace a odkomentujte následující kód:</span><span class="sxs-lookup"><span data-stu-id="3fd90-168">For the best experience, run on the latest version of Windows and opt in to the latest OS changes by adding an app.manifest file in a test application and uncommenting the following code:</span></span><pre><code class="lang-xml">&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><br><span data-ttu-id="3fd90-169">**Vylepšená navigace klávesnicí**</span><span class="sxs-lookup"><span data-stu-id="3fd90-169">**Improved keyboard navigation**</span></span><ul><li><span data-ttu-id="3fd90-170">Pokud má ovládací prvek <xref:System.Windows.Forms.ComboBox> nastavenou vlastnost <xref:System.Windows.Forms.ComboBox.DropDownStyle> na hodnotu <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> a je prvním ovládacím prvkem v pořadí prvků ve formuláři, nyní zobrazí obdélník fokusu, když je nadřazený formulář otevřen pomocí klávesnice.</span><span class="sxs-lookup"><span data-stu-id="3fd90-170">When a <xref:System.Windows.Forms.ComboBox> control has its <xref:System.Windows.Forms.ComboBox.DropDownStyle> property set to <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> and is the first control in the tab order on the form, it now displays a focus rectangle when the parent form is opened using the keyboard.</span></span> <span data-ttu-id="3fd90-171">Před touto změnou byl fokus klávesnice na tomto ovládacím prvku, ale ukazatel fokusu nebyl vykreslen.</span><span class="sxs-lookup"><span data-stu-id="3fd90-171">Before this change, keyboard focus was on this control, but a focus indicator was not rendered.</span></span></li></ul><span data-ttu-id="3fd90-172">**Vylepšená podpora Narrator**</span><span class="sxs-lookup"><span data-stu-id="3fd90-172">**Improved Narrator support**</span></span><ul><li><span data-ttu-id="3fd90-173">Ovládací prvek <xref:System.Windows.Forms.MonthCalendar> přidal podporu pro technologie pro usnadnění přístupu pro přístup k ovládacímu prvku, včetně možnosti, aby mohl program Narrator číst hodnotu ovládacího prvku, když předtím nebylo možné.</span><span class="sxs-lookup"><span data-stu-id="3fd90-173">The <xref:System.Windows.Forms.MonthCalendar> control has added support for assistive technologies to access the control, including the ability for Narrator to read the value of the control when previously it could not.</span></span></li><li><span data-ttu-id="3fd90-174">Ovládací prvek <xref:System.Windows.Forms.CheckedListBox> nyní upozorní program Narrator, pokud byla změněna vlastnost <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3fd90-174">The <xref:System.Windows.Forms.CheckedListBox> control now notifies Narrator when a <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType> property has been changed.</span></span> <span data-ttu-id="3fd90-175">Dříve se v programu Narrator nedostalo oznámení a v důsledku toho nebudou mít uživatelé informováni o tom, že byla vlastnost <xref:System.Windows.Forms.CheckBox.CheckState> aktualizována.</span><span class="sxs-lookup"><span data-stu-id="3fd90-175">Previously, Narrator did not receive notification and as a result users would not be informed that the <xref:System.Windows.Forms.CheckBox.CheckState> property had been updated.</span></span></li><li><span data-ttu-id="3fd90-176">Ovládací prvek <xref:System.Windows.Forms.LinkLabel> změnil způsob, jakým nástroj upozorňuje text v ovládacím prvku na komentář.</span><span class="sxs-lookup"><span data-stu-id="3fd90-176">The <xref:System.Windows.Forms.LinkLabel> control has changed the way it notifies Narrator of the text of in the control.</span></span> <span data-ttu-id="3fd90-177">Dříve oznámil tento text dvakrát a čte &quot;&amp;&quot; symboly jako skutečný text, i když nejsou viditelné pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="3fd90-177">Previously, Narrator announced this text twice and read &quot;&amp;&quot; symbols as real text even though they are not visible to a user.</span></span> <span data-ttu-id="3fd90-178">Duplicitní text byl odebrán z oznámení Předčítání a také nepotřebné &quot;&amp;&quot; symboly.</span><span class="sxs-lookup"><span data-stu-id="3fd90-178">The duplicated text was removed from the Narrator announcements, as well as unnecessary &quot;&amp;&quot; symbols.</span></span></li><li><span data-ttu-id="3fd90-179">Typy ovládacích prvků <xref:System.Windows.Forms.DataGridViewCell> nyní správně hlásí stav jen pro čtení do programu Narrator a dalších technologií pro usnadnění.</span><span class="sxs-lookup"><span data-stu-id="3fd90-179">The <xref:System.Windows.Forms.DataGridViewCell> control types now correctly report the read-only status to Narrator and other assistive technologies.</span></span></li><li><span data-ttu-id="3fd90-180">Program Narrator teď dokáže číst systémovou nabídku podřízených oken v aplikacích [více dokumentů rozhraní] ~/docs/Framework/WinForms/Advanced/Multiple-Document-Interface-MDI-Applications.MD).</span><span class="sxs-lookup"><span data-stu-id="3fd90-180">Narrator is now able to read the System Menu of child windows in [Multiple-Document Interface]~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md) applications.</span></span></li><li><span data-ttu-id="3fd90-181">Program Narrator teď může číst <xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s vlastností <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> nastavenou na **hodnotu false**.</span><span class="sxs-lookup"><span data-stu-id="3fd90-181">Narrator is now able to read <xref:System.Windows.Forms.ToolStripMenuItem> controls with a <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> property set to **false**.</span></span> <span data-ttu-id="3fd90-182">Dříve se program Narrator nemohl soustředit na zakázané položky nabídky pro čtení obsahu.</span><span class="sxs-lookup"><span data-stu-id="3fd90-182">Previously, Narrator was unable to focus on disabled menu items to read the content.</span></span></li></ul>|
|<span data-ttu-id="3fd90-183">Rozsah</span><span class="sxs-lookup"><span data-stu-id="3fd90-183">Scope</span></span>|<span data-ttu-id="3fd90-184">Hlavní</span><span class="sxs-lookup"><span data-stu-id="3fd90-184">Major</span></span>|
|<span data-ttu-id="3fd90-185">Version</span><span class="sxs-lookup"><span data-stu-id="3fd90-185">Version</span></span>|<span data-ttu-id="3fd90-186">4.7.1</span><span class="sxs-lookup"><span data-stu-id="3fd90-186">4.7.1</span></span>|
|<span data-ttu-id="3fd90-187">Typ</span><span class="sxs-lookup"><span data-stu-id="3fd90-187">Type</span></span>|<span data-ttu-id="3fd90-188">Změna cílení</span><span class="sxs-lookup"><span data-stu-id="3fd90-188">Retargeting</span></span>|
|<span data-ttu-id="3fd90-189">Ovlivněná rozhraní API</span><span class="sxs-lookup"><span data-stu-id="3fd90-189">Affected APIs</span></span>|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[<span data-ttu-id="3fd90-190">MonthCalendar. AccessibilityObject</span><span class="sxs-lookup"><span data-stu-id="3fd90-190">MonthCalendar.AccessibilityObject</span></span>](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|
