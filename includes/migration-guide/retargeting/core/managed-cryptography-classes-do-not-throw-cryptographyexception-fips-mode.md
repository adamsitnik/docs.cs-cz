---
ms.openlocfilehash: f1f37e61917e8331b06d91e6abebfe4ce3288e7c
ms.sourcegitcommit: 43761fcee10aeefcf851ea81cea3f3c691420856
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/16/2019
ms.locfileid: "69564348"
---
### <a name="managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode"></a>Spravované kryptografické třídy nevyvolávají výjimku CryptographyException v režimu FIPS.

|   |   |
|---|---|
|Podrobnosti|V .NET Framework 4.7.2 a starších verzích spravované třídy zprostředkovatele kryptografických služeb, <xref:System.Security.Cryptography.SHA256Managed> jako je <xref:System.Security.Cryptography.CryptographicException> například vyvolat a v případě, že systémové šifrovací knihovny jsou konfigurovány v režimu FIPS. Tyto výjimky jsou vyvolány, protože spravované verze neprošly certifikací FIPS (Federal Information Processing Standards) 140-2 a také k blokování kryptografických algoritmů, které nebyly považovány za schválené na základě pravidel FIPS.  Vzhledem k tomu, že někteří vývojáři mají své vývojové počítače v režimu FIPS, jsou tyto výjimky často vyvolány pouze v produkčních systémech. Aplikace, které cílí na .NET Framework 4,8 a novější verze, automaticky přepnou na novější, uvolněnou zásadu <xref:System.Security.Cryptography.CryptographicException> , takže v takových případech již není vyvoláno ve výchozím nastavení. Místo toho spravované kryptografické třídy přesměrují kryptografické operace do systémové knihovny kryptografie. Tato změna zásad efektivně odstraňuje potenciálně matoucí rozdíl mezi vývojářskými prostředími a provozními prostředími a zpřístupňuje nativní komponenty a spravované komponenty v rámci stejných kryptografických zásad.|
|Doporučení|Pokud je toto chování nežádoucí, můžete si ho odhlásit a obnovit předchozí chování tak, <xref:System.Security.Cryptography.CryptographicException> aby se v režimu FIPS vyvolalo přidání následujícího nastavení konfigurace [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do modulu [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) oddíl konfiguračního souboru aplikace:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Pokud je vaše aplikace cílena .NET Framework 4.7.2 nebo starší, můžete k této změně také vyjádřit přidáním následujícího nastavení konfigurace [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do [ \<oddílu modulu runtime >](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) vaší aplikace. konfigurační soubor:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|Scope|Edge|
|Version|4.8|
|type|Změna cílení|
|Ovlivněná rozhraní API|<ul><li><xref:System.Security.Cryptography.AesManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5Cng?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RC2CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RijndaelManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RIPEMD160Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA1Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA256Managed?displayProperty=nameWithType></li></ul>|
