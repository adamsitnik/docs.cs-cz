---
title: Kód portu z .NET Framework do .NET Core
description: Pochopení procesu přenosu a zjišťování nástrojů, které můžete najít užitečné při přenosu .NET Framework projektu do .NET Core.
author: cartermp
ms.date: 09/13/2019
ms.custom: seodec18
ms.openlocfilehash: c349f7df3726e7a9814e5ad5e738742ab1bb9ff8
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/17/2019
ms.locfileid: "72522985"
---
# <a name="port-your-code-from-net-framework-to-net-core"></a><span data-ttu-id="3dbd8-103">Portování kódu z .NET Framework do .NET Core</span><span class="sxs-lookup"><span data-stu-id="3dbd8-103">Port your code from .NET Framework to .NET Core</span></span>

<span data-ttu-id="3dbd8-104">Pokud máte kód, který běží na .NET Framework, může to být tím, že zajímáte i svůj kód v .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-104">If you've got code that runs on the .NET Framework, you may be interested in running your code on .NET Core, too.</span></span> <span data-ttu-id="3dbd8-105">Tady je přehled procesu přenosu a seznam nástrojů, které můžete najít užitečné při přenosu kódu do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-105">Here's an overview of the porting process and a list of the tools you may find helpful when porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="3dbd8-106">Přehled procesu přenosu</span><span class="sxs-lookup"><span data-stu-id="3dbd8-106">Overview of the porting process</span></span>

<span data-ttu-id="3dbd8-107">To je proces, který doporučujeme provést při přenosu projektu do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-107">This is the process we recommend you take when porting your project to .NET Core.</span></span> <span data-ttu-id="3dbd8-108">Jednotlivé kroky tohoto procesu jsou podrobněji popsány v dalších článcích.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-108">Each step of the process is covered in more detail in further articles.</span></span>

1. <span data-ttu-id="3dbd8-109">Identifikujte a zaregistrujte závislosti třetích stran.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-109">Identify and account for your third-party dependencies.</span></span>

   <span data-ttu-id="3dbd8-110">Tento krok zahrnuje vysvětlení toho, co jsou závislosti jiných výrobců závislé na tom, jak zjistit, jestli se také spouští na .NET Core, a kroky, které můžete provést, pokud ne.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-110">This step involves understanding what your third-party dependencies are, how you depend on them, how to check if they also run on .NET Core, and steps you can take if they don't.</span></span> <span data-ttu-id="3dbd8-111">Také se zabývá tím, jak můžete migrovat závislosti do formátu [PackageReference](/nuget/consume-packages/package-references-in-project-files) , který se používá v .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-111">It also covers how you can migrate your dependencies over to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format that is used in .NET Core.</span></span>

2. <span data-ttu-id="3dbd8-112">Přecílíte na všechny projekty, které chcete přenést, aby bylo možné cílit na .NET Framework 4.7.2 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-112">Retarget all projects you wish to port to target the .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="3dbd8-113">Tento krok zajistí, že můžete použít alternativy rozhraní API pro cíle specifické pro .NET Framework, když .NET Core nepodporuje konkrétní rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-113">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

3. <span data-ttu-id="3dbd8-114">Pomocí [analyzátoru přenositelnosti .NET](../../standard/analyzers/portability-analyzer.md) můžete analyzovat vaše sestavení a vyvíjet plán na základě jeho výsledků.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-114">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and develop a plan to port based on its results.</span></span>

   <span data-ttu-id="3dbd8-115">Nástroj Analyzátor přenositelnosti rozhraní API analyzuje vaše kompilovaná sestavení a vygeneruje sestavu, která zobrazuje souhrn přenositelnosti na vysoké úrovni a rozpis každého rozhraní API, které používáte, není k dispozici na cílené veřejné platformě .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-115">The API Portability Analyzer tool analyzes your compiled assemblies and generates a report that shows a high-level portability summary and a breakdown of each API you're using that isn't available on targeted .NET Core platform public surface.</span></span> <span data-ttu-id="3dbd8-116">Tuto sestavu můžete použít spolu s analýzou základu kódu k vytvoření plánu pro způsob, jakým budete svůj kód portovat.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-116">You can use this report alongside an analysis of your codebase to develop a plan for how you'll port your code over.</span></span>

4. <span data-ttu-id="3dbd8-117">Jakmile budete mít soubor projektu převedený na cílovou verzi .NET Core, můžete použít [analyzátor rozhraní .NET API](../../standard/analyzers/api-analyzer.md) Roslyn založený k identifikaci rozhraní <xref:System.PlatformNotSupportedException> API na některých platformách a některé jiné potenciální problémy s kompatibilitou.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-117">Once you have your project file converted to your targeted .NET Core version, you can use Roslyn based [.NET API analyzer](../../standard/analyzers/api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

5. <span data-ttu-id="3dbd8-118">Port kódu testů.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-118">Port your tests code.</span></span>

   <span data-ttu-id="3dbd8-119">Vzhledem k tomu, že přenos do .NET Core je podstatnou změnou základu kódu, důrazně doporučujeme, abyste si nadostali své testy, abyste mohli spouštět testy během přenosu kódu.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to get your tests ported, so that you can run tests as you port your code over.</span></span> <span data-ttu-id="3dbd8-120">MSTest, xUnit a NUnit podporují .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-120">MSTest, xUnit, and NUnit all support .NET Core.</span></span>

6. <span data-ttu-id="3dbd8-121">Proveďte svůj plán pro přenos.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-121">Execute your plan for porting!</span></span>

<span data-ttu-id="3dbd8-122">Následující seznam obsahuje nástroje, které může být užitečné použít během procesu přenosu:</span><span class="sxs-lookup"><span data-stu-id="3dbd8-122">The following list shows tools you might find helpful to use during the porting process:</span></span>

- <span data-ttu-id="3dbd8-123">Analyzátor přenositelnosti .NET – [Nástroj příkazového řádku](https://github.com/Microsoft/dotnet-apiport/releases) nebo [rozšíření sady Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), nástroj, který může generovat sestavu způsobu, jakým je přenos kódu mezi .NET Framework a vaší cílovou platformou .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-123">.NET Portability Analyzer - [command-line tool](https://github.com/Microsoft/dotnet-apiport/releases) or [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), a tool that can generate a report of how portable your code is between .NET Framework and your target .NET Core platform.</span></span> <span data-ttu-id="3dbd8-124">Sestava obsahuje rozpis sestavení podle sestavení typu a chybějící rozhraní API na cílové platformě .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-124">The report contains an assembly-by-assembly breakdown of the Type and APIs missing on the target .NET Core platform.</span></span> <span data-ttu-id="3dbd8-125">Další informace najdete v tématu [analyzátor přenositelnosti .NET](../../standard/analyzers/portability-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="3dbd8-125">For more information, see [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md).</span></span> <span data-ttu-id="3dbd8-126">Před zahájením přenosu doporučujeme spustit nástroj Analyzátor přenositelnosti .NET, protože vám pomůže identifikovat mezery v chybějících rozhraních API na konkrétní cílené veřejné ploše platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-126">It is recommended to run the .NET Portability Analyzer tool before you start porting, as it will help you identify any gaps in missing APIs in specific targeted .NET platform public surface.</span></span>
- <span data-ttu-id="3dbd8-127">Rozhraní .NET API Analyzer – analyzátor Roslyn, který zjišťuje .NET Standard rozhraní API, které vyvolává <xref:System.PlatformNotSupportedException> na některých platformách, detekuje volání zastaralých rozhraní API a zjišťují některá další potenciální rizika kompatibility pro C# rozhraní API na různých platformách.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-127">.NET API Analyzer - A Roslyn analyzer that discovers .NET Standard API that throws <xref:System.PlatformNotSupportedException> on some platforms, detects calls to deprecated APIs, and discovers some other potential compatibility risks for C# APIs on different platforms.</span></span> <span data-ttu-id="3dbd8-128">Další informace najdete v tématu [analyzátor rozhraní .NET API](../../standard/analyzers/api-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="3dbd8-128">For more information, see [.NET API analyzer](../../standard/analyzers/api-analyzer.md).</span></span> <span data-ttu-id="3dbd8-129">Tento analyzátor je užitečný poté, co jste již vytvořili projekt .NET Core pro identifikaci rozdílů v chování za běhu na různých platformách.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-129">This analyzer is helpful after you already created your .NET Core project to identify runtime behavior differences on different platforms.</span></span>
- <span data-ttu-id="3dbd8-130">Zpětné vyhledávání balíčků – [užitečnou webovou službu](https://packagesearch.azurewebsites.net) , která umožňuje vyhledat typ a vyhledat balíčky obsahující tento typ.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-130">Reverse Package Search - A [useful web service](https://packagesearch.azurewebsites.net) that allows you to search for a type and find packages containing that type.</span></span>

<span data-ttu-id="3dbd8-131">Kromě toho se můžete pokusit přenést menší řešení nebo jednotlivé projekty do formátu souboru projektu .NET Core pomocí nástroje [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017) Tool.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-131">Additionally, you can attempt to port smaller solutions or individual projects to the .NET Core project file format with the [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017) tool.</span></span>

> [!WARNING]
> <span data-ttu-id="3dbd8-132">CsprojToVs2017 je nástroj třetí strany.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-132">CsprojToVs2017 is a third-party tool.</span></span> <span data-ttu-id="3dbd8-133">Není zaručeno, že bude fungovat pro všechny vaše projekty a může způsobit drobné změny v chování, které jsou závislé na.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-133">There is no guarantee that it will work for all of your projects, and it may cause subtle changes in behavior that you depend on.</span></span> <span data-ttu-id="3dbd8-134">CsprojToVs2017 by měla být použita jako _výchozí bod_ , který automatizuje základní věci, které lze automatizovat.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-134">CsprojToVs2017 should be used as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="3dbd8-135">Není zaručené řešení pro migraci formátů souborů projektu.</span><span class="sxs-lookup"><span data-stu-id="3dbd8-135">It is not a guaranteed solution to migrating project file formats.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="3dbd8-136">Next</span><span class="sxs-lookup"><span data-stu-id="3dbd8-136">Next</span></span>](net-framework-tech-unavailable.md)
