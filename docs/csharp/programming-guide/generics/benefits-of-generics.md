---
title: Výhody obecných typů - C# Průvodce programováním
ms.custom: seodec18
ms.date: 07/20/2015
helpviewer_keywords:
- generics [C#], benefits
ms.assetid: 80f037cd-9ea7-48be-bfc1-219bfb2d4277
ms.openlocfilehash: 9ba4b81db0ea352f82127a838ab6b13f09d259e4
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54650977"
---
# <a name="benefits-of-generics-c-programming-guide"></a><span data-ttu-id="b8078-102">Výhody obecných typů (Průvodce programováním v C#)</span><span class="sxs-lookup"><span data-stu-id="b8078-102">Benefits of Generics (C# Programming Guide)</span></span>
<span data-ttu-id="b8078-103">Obecné typy poskytují řešení k omezení v dřívějších verzích common language runtime a ve kterém se provádí generalizace typy přetypování do a z univerzální základní typ jazyka C# <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="b8078-103">Generics provide the solution to a limitation in earlier versions of the common language runtime and the C# language in which generalization is accomplished by casting types to and from the universal base type <xref:System.Object>.</span></span> <span data-ttu-id="b8078-104">Vytvořením obecné třídy můžete vytvořit kolekci, která je typově bezpečné v době kompilace.</span><span class="sxs-lookup"><span data-stu-id="b8078-104">By creating a generic class, you can create a collection that is type-safe at compile-time.</span></span>  
  
 <span data-ttu-id="b8078-105">Omezení použití negenerická kolekce tříd mohou prokázat a napište krátký program, který používá <xref:System.Collections.ArrayList> kolekce tříd z knihovny tříd rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="b8078-105">The limitations of using non-generic collection classes can be demonstrated by writing a short program that uses the <xref:System.Collections.ArrayList> collection class from the .NET class library.</span></span> <span data-ttu-id="b8078-106">Instance <xref:System.Collections.ArrayList> třída ukládat jakýkoli typ hodnotou nebo odkazem.</span><span class="sxs-lookup"><span data-stu-id="b8078-106">An instance of the <xref:System.Collections.ArrayList> class can store any reference or value type.</span></span>  
  
 [!code-csharp[csProgGuideGenerics#4](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_1.cs)]  
  
 <span data-ttu-id="b8078-107">Ale tato výhoda něco stojí.</span><span class="sxs-lookup"><span data-stu-id="b8078-107">But this convenience comes at a cost.</span></span> <span data-ttu-id="b8078-108">Jakýkoli typ odkazu nebo hodnoty, který je přidán do <xref:System.Collections.ArrayList> je implicitně povýšení na <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="b8078-108">Any reference or value type that is added to an <xref:System.Collections.ArrayList> is implicitly upcast to <xref:System.Object>.</span></span> <span data-ttu-id="b8078-109">Pokud položky jsou typy hodnot, musí být zabaleny když se přidají do seznamu a rozbalit, pokud jsou načteny.</span><span class="sxs-lookup"><span data-stu-id="b8078-109">If the items are value types, they must be boxed when they are added to the list, and unboxed when they are retrieved.</span></span> <span data-ttu-id="b8078-110">Přetypování a operace zabalení a rozbalení snížení výkonu. účinek zabalení a rozbalení může být velmi důležité ve scénářích, kde musí iterovat rozsáhlých kolekcí.</span><span class="sxs-lookup"><span data-stu-id="b8078-110">Both the casting and the boxing and unboxing operations decrease performance; the effect of boxing and unboxing can be very significant in scenarios where you must iterate over large collections.</span></span>  
  
 <span data-ttu-id="b8078-111">Další omezení je nedostatek kontrolu typu za kompilace protože <xref:System.Collections.ArrayList> přetypování všechno <xref:System.Object>, neexistuje žádný způsob v době kompilace zabráníte dělali něco takovou situaci kód klienta:</span><span class="sxs-lookup"><span data-stu-id="b8078-111">The other limitation is lack of compile-time type checking; because an <xref:System.Collections.ArrayList> casts everything to <xref:System.Object>, there is no way at compile-time to prevent client code from doing something such as this:</span></span>  
  
 [!code-csharp[csProgGuideGenerics#5](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_2.cs)]  
  
 <span data-ttu-id="b8078-112">I když je zcela přijatelné a někdy úmyslné, pokud vytváříte kolekci heterogenní kombinovaných řetězců a `ints` v jediném <xref:System.Collections.ArrayList> je pravděpodobně programovací chyba, a k této chybě nebudou zjištěny do modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="b8078-112">Although perfectly acceptable and sometimes intentional if you are creating a heterogeneous collection, combining strings and `ints` in a single <xref:System.Collections.ArrayList> is more likely to be a programming error, and this error will not be detected until runtime.</span></span>  
  
 <span data-ttu-id="b8078-113">Ve verzích 1.0 a 1.1 jazyka C# se můžete vyhnout nebezpečí zobecněný kód v kolekci tříd rozhraní .NET Framework základní třídy knihovny pouze vlastní kolekce konkrétního typu zápis.</span><span class="sxs-lookup"><span data-stu-id="b8078-113">In versions 1.0 and 1.1 of the C# language, you could avoid the dangers of generalized code in the .NET Framework base class library collection classes only by writing your own type specific collections.</span></span> <span data-ttu-id="b8078-114">Samozřejmě protože takové třídy není opakovaně použitelné pro více než jeden datový typ, dojít ke ztrátě výhod Generalizace a je nutné přepsat třídy pro každý typ, který se uloží.</span><span class="sxs-lookup"><span data-stu-id="b8078-114">Of course, because such a class is not reusable for more than one data type, you lose the benefits of generalization, and you have to rewrite the class for each type that will be stored.</span></span>  
  
 <span data-ttu-id="b8078-115">Co <xref:System.Collections.ArrayList> a další podobné třídy opravdu potřebujete je způsob, jak určit, na základě jednotlivé instance, které mají v úmyslu použít konkrétní datový typ v klientském kódu.</span><span class="sxs-lookup"><span data-stu-id="b8078-115">What <xref:System.Collections.ArrayList> and other similar classes really need is a way for client code to specify, on a per-instance basis, the particular data type that they intend to use.</span></span> <span data-ttu-id="b8078-116">Který by eliminuje nutnost přetypování nahoru na <xref:System.Object> a by také umožňují kontrolu typů kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="b8078-116">That would eliminate the need for the upcast to <xref:System.Object> and would also make it possible for the compiler to do type checking.</span></span> <span data-ttu-id="b8078-117">Jinými slovy <xref:System.Collections.ArrayList> vyžaduje, aby parametr typu.</span><span class="sxs-lookup"><span data-stu-id="b8078-117">In other words, <xref:System.Collections.ArrayList> needs a type parameter.</span></span> <span data-ttu-id="b8078-118">To je přesně co poskytují obecné typy.</span><span class="sxs-lookup"><span data-stu-id="b8078-118">That is exactly what generics provide.</span></span> <span data-ttu-id="b8078-119">V Obecné <xref:System.Collections.Generic.List%601> kolekce v <xref:System.Collections.Generic> obor názvů, stejné operace přidání položky do kolekce vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="b8078-119">In the generic <xref:System.Collections.Generic.List%601> collection, in the <xref:System.Collections.Generic> namespace, the same operation of adding items to the collection resembles this:</span></span>  
  
 [!code-csharp[csProgGuideGenerics#6](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_3.cs)]  
  
 <span data-ttu-id="b8078-120">Pro klientský kód pouze přidat syntaxe <xref:System.Collections.Generic.List%601> ve srovnání s <xref:System.Collections.ArrayList> je argument typu v deklaraci a instance.</span><span class="sxs-lookup"><span data-stu-id="b8078-120">For client code, the only added syntax with <xref:System.Collections.Generic.List%601> compared to <xref:System.Collections.ArrayList> is the type argument in the declaration and instantiation.</span></span> <span data-ttu-id="b8078-121">Po této o něco víc o kódování složitost, můžete vytvořit seznam, který je nejen bezpečnější než <xref:System.Collections.ArrayList>, ale také výrazně rychlejší, zejména v případě, že položky seznamu jsou typy hodnot.</span><span class="sxs-lookup"><span data-stu-id="b8078-121">In return for this slightly more coding complexity, you can create a list that is not only safer than <xref:System.Collections.ArrayList>, but also significantly faster, especially when the list items are value types.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b8078-122">Viz také:</span><span class="sxs-lookup"><span data-stu-id="b8078-122">See also</span></span>

- <xref:System.Collections.Generic>
- [<span data-ttu-id="b8078-123">Průvodce programováním v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="b8078-123">C# Programming Guide</span></span>](../../../csharp/programming-guide/index.md)
- [<span data-ttu-id="b8078-124">Úvod do obecných typů</span><span class="sxs-lookup"><span data-stu-id="b8078-124">Introduction to Generics</span></span>](../../../csharp/programming-guide/generics/introduction-to-generics.md)
- [<span data-ttu-id="b8078-125">Zabalení a rozbalení</span><span class="sxs-lookup"><span data-stu-id="b8078-125">Boxing and Unboxing</span></span>](../../../csharp/programming-guide/types/boxing-and-unboxing.md)
- [<span data-ttu-id="b8078-126">Kdy použít generické kolekce</span><span class="sxs-lookup"><span data-stu-id="b8078-126">When to Use Generic Collections</span></span>](../../../standard/collections/when-to-use-generic-collections.md)
- [<span data-ttu-id="b8078-127">Pokyny pro kolekce</span><span class="sxs-lookup"><span data-stu-id="b8078-127">Guidelines for Collections</span></span>](../../../standard/design-guidelines/guidelines-for-collections.md)
