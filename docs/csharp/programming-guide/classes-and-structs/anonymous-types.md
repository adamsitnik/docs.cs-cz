---
title: Anonymní typy – C# Průvodce programováním
ms.custom: seodec18
ms.date: 07/20/2015
helpviewer_keywords:
- anonymous types [C#]
- C# Language, anonymous types
ms.assetid: 59c9d7a4-3b0e-475e-b620-0ab86c088e9b
ms.openlocfilehash: 165793155aabac23245b352959be3188b0a5a6e5
ms.sourcegitcommit: 40364ded04fa6cdcb2b6beca7f68412e2e12f633
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/28/2019
ms.locfileid: "56971166"
---
# <a name="anonymous-types-c-programming-guide"></a><span data-ttu-id="604a7-102">Anonymní typy (Průvodce programováním v C#)</span><span class="sxs-lookup"><span data-stu-id="604a7-102">Anonymous Types (C# Programming Guide)</span></span>
<span data-ttu-id="604a7-103">Anonymní typy poskytují pohodlný způsob, jak zapouzdřit sadu vlastnosti jen pro čtení bez nutnosti explicitně definovat typ nejprve do jediného objektu.</span><span class="sxs-lookup"><span data-stu-id="604a7-103">Anonymous types provide a convenient way to encapsulate a set of read-only properties into a single object without having to explicitly define a type first.</span></span> <span data-ttu-id="604a7-104">Název typu je generovaný kompilátorem a není k dispozici na úrovni zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="604a7-104">The type name is generated by the compiler and is not available at the source code level.</span></span> <span data-ttu-id="604a7-105">Typ každé vlastnosti je odvozen kompilátorem.</span><span class="sxs-lookup"><span data-stu-id="604a7-105">The type of each property is inferred by the compiler.</span></span>  
  
 <span data-ttu-id="604a7-106">Vytvoříte pomocí anonymních typů [nové](../../../csharp/language-reference/keywords/new.md) operátor společně s inicializátorem objektu.</span><span class="sxs-lookup"><span data-stu-id="604a7-106">You create anonymous types by using the [new](../../../csharp/language-reference/keywords/new.md) operator together with an object initializer.</span></span> <span data-ttu-id="604a7-107">Další informace o inicializátory objektů najdete v tématu [inicializátory objektu a kolekce](../../../csharp/programming-guide/classes-and-structs/object-and-collection-initializers.md).</span><span class="sxs-lookup"><span data-stu-id="604a7-107">For more information about object initializers, see [Object and Collection Initializers](../../../csharp/programming-guide/classes-and-structs/object-and-collection-initializers.md).</span></span>  
  
 <span data-ttu-id="604a7-108">Následující příklad ukazuje anonymního typu, který je inicializován s dvě vlastnosti s názvem `Amount` a `Message`.</span><span class="sxs-lookup"><span data-stu-id="604a7-108">The following example shows an anonymous type that is initialized with two properties named `Amount` and `Message`.</span></span>  
  
```csharp  
var v = new { Amount = 108, Message = "Hello" };  
  
// Rest the mouse pointer over v.Amount and v.Message in the following  
// statement to verify that their inferred types are int and string.  
Console.WriteLine(v.Amount + v.Message);  
```  
  
 <span data-ttu-id="604a7-109">Anonymní typy se obvykle používají v [vyberte](../../../csharp/language-reference/keywords/select-clause.md) klauzule výrazu dotazu pro vrácení podmnožiny vlastností z jednotlivých objektů ze zdrojové sekvence.</span><span class="sxs-lookup"><span data-stu-id="604a7-109">Anonymous types typically are used in the [select](../../../csharp/language-reference/keywords/select-clause.md) clause of a query expression to return a subset of the properties from each object in the source sequence.</span></span> <span data-ttu-id="604a7-110">Další informace o dotazech najdete v tématu [LINQ – výrazy dotazů](../../../csharp/programming-guide/linq-query-expressions/index.md).</span><span class="sxs-lookup"><span data-stu-id="604a7-110">For more information about queries, see [LINQ Query Expressions](../../../csharp/programming-guide/linq-query-expressions/index.md).</span></span>  
  
 <span data-ttu-id="604a7-111">Anonymní typy obsahovat jeden nebo více veřejné vlastnosti jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="604a7-111">Anonymous types contain one or more public read-only properties.</span></span> <span data-ttu-id="604a7-112">Žádné jiné druhy členů třídy, jako je například metody nebo události, nejsou platné.</span><span class="sxs-lookup"><span data-stu-id="604a7-112">No other kinds of class members, such as methods or events, are valid.</span></span> <span data-ttu-id="604a7-113">Nemůže být výraz, který slouží k inicializaci vlastnosti `null`, anonymní funkci nebo typ ukazatele.</span><span class="sxs-lookup"><span data-stu-id="604a7-113">The expression that is used to initialize a property cannot be `null`, an anonymous function, or a pointer type.</span></span>  
  
 <span data-ttu-id="604a7-114">Nejběžnější scénář je inicializovat anonymní typ s vlastnostmi z jiného typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-114">The most common scenario is to initialize an anonymous type with properties from another type.</span></span> <span data-ttu-id="604a7-115">V následujícím příkladu se předpokládá, že existuje třída s názvem `Product`.</span><span class="sxs-lookup"><span data-stu-id="604a7-115">In the following example, assume that a class exists that is named `Product`.</span></span> <span data-ttu-id="604a7-116">Třída `Product` zahrnuje `Color` a `Price` vlastnosti, společně s další vlastnosti, které vás nezajímají.</span><span class="sxs-lookup"><span data-stu-id="604a7-116">Class `Product` includes `Color` and `Price` properties, together with other properties that you are not interested in.</span></span> <span data-ttu-id="604a7-117">Proměnné `products` je kolekce `Product` objekty.</span><span class="sxs-lookup"><span data-stu-id="604a7-117">Variable `products` is a collection of `Product` objects.</span></span> <span data-ttu-id="604a7-118">Anonymní typ deklarace začíná `new` – klíčové slovo.</span><span class="sxs-lookup"><span data-stu-id="604a7-118">The anonymous type declaration starts with the `new` keyword.</span></span> <span data-ttu-id="604a7-119">Deklarace inicializuje nový typ, který se používá pouze dvě vlastnosti z `Product`.</span><span class="sxs-lookup"><span data-stu-id="604a7-119">The declaration initializes a new type that uses only two properties from `Product`.</span></span> <span data-ttu-id="604a7-120">To způsobí, že menší množství dat, který se má vrátit v dotazu.</span><span class="sxs-lookup"><span data-stu-id="604a7-120">This causes a smaller amount of data to be returned in the query.</span></span>  
  
 <span data-ttu-id="604a7-121">Pokud nezadáte názvy členů v anonymním typu, kompilátor poskytuje členům anonymní typ stejný název jako vlastnost se používá k jejich inicializaci.</span><span class="sxs-lookup"><span data-stu-id="604a7-121">If you do not specify member names in the anonymous type, the compiler gives the anonymous type members the same name as the property being used to initialize them.</span></span> <span data-ttu-id="604a7-122">Název vlastnosti, která je inicializována s výrazem, musíte zadat, jak je znázorněno v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="604a7-122">You must provide a name for a property that is being initialized with an expression, as shown in the previous example.</span></span> <span data-ttu-id="604a7-123">V následujícím příkladu jsou názvy vlastností anonymních typů `Color` a `Price`.</span><span class="sxs-lookup"><span data-stu-id="604a7-123">In the following example, the names of the properties of the anonymous type are `Color` and `Price`.</span></span>  
  
 [!code-csharp[csRef30Features#81](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csRef30Features/CS/csref30.cs#81)]  
  
 <span data-ttu-id="604a7-124">Obvykle, když pomocí anonymního typu inicializovat proměnnou, deklarujete proměnnou jako implicitně typovaná lokální proměnná s použitím [var](../../../csharp/language-reference/keywords/var.md).</span><span class="sxs-lookup"><span data-stu-id="604a7-124">Typically, when you use an anonymous type to initialize a variable, you declare the variable as an implicitly typed local variable by using [var](../../../csharp/language-reference/keywords/var.md).</span></span> <span data-ttu-id="604a7-125">V deklaraci proměnné nelze zadat název typu, protože pouze kompilátor má přístup k základní název anonymního typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-125">The type name cannot be specified in the variable declaration because only the compiler has access to the underlying name of the anonymous type.</span></span> <span data-ttu-id="604a7-126">Další informace o `var`, naleznete v tématu [implicitně typované lokální proměnné](../../../csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md).</span><span class="sxs-lookup"><span data-stu-id="604a7-126">For more information about `var`, see [Implicitly Typed Local Variables](../../../csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md).</span></span>  
  
 <span data-ttu-id="604a7-127">Kombinací implicitně typované lokální proměnnou a implicitně typovaná pole, můžete vytvořit pole anonymně typem prvků, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="604a7-127">You can create an array of anonymously typed elements by combining an implicitly typed local variable and an implicitly typed array, as shown in the following example.</span></span>  
  
```csharp  
var anonArray = new[] { new { name = "apple", diam = 4 }, new { name = "grape", diam = 1 }};  
```  
  
## <a name="remarks"></a><span data-ttu-id="604a7-128">Poznámky</span><span class="sxs-lookup"><span data-stu-id="604a7-128">Remarks</span></span>  
 <span data-ttu-id="604a7-129">Anonymní typy jsou [třídy](../../../csharp/language-reference/keywords/class.md) typy, které jsou odvozeny přímo z [objekt](../../../csharp/language-reference/keywords/object.md), a která nelze přetypovat na libovolný typ s výjimkou [objekt](../../../csharp/language-reference/keywords/object.md).</span><span class="sxs-lookup"><span data-stu-id="604a7-129">Anonymous types are [class](../../../csharp/language-reference/keywords/class.md) types that derive directly from [object](../../../csharp/language-reference/keywords/object.md), and that cannot be cast to any type except [object](../../../csharp/language-reference/keywords/object.md).</span></span> <span data-ttu-id="604a7-130">Kompilátor poskytuje název pro každý anonymní typ, i když vaše aplikace nejde získat přístup.</span><span class="sxs-lookup"><span data-stu-id="604a7-130">The compiler provides a name for each anonymous type, although your application cannot access it.</span></span> <span data-ttu-id="604a7-131">Z pohledu modul common language runtime se nijak neliší od jakéhokoliv odkazového typu anonymního typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-131">From the perspective of the common language runtime, an anonymous type is no different from any other reference type.</span></span>  
  
 <span data-ttu-id="604a7-132">Pokud dva nebo více inicializátory anonymních objektů v sestavení určete pořadí vlastností, které jsou ve stejném pořadí a které mají stejné názvy a typy, kompilátor zpracovává objekty jako instance stejného typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-132">If two or more anonymous object initializers in an assembly specify a sequence of properties that are in the same order and that have the same names and types, the compiler treats the objects as instances of the same type.</span></span> <span data-ttu-id="604a7-133">Sdílejí stejné informace o typu generované kompilátorem.</span><span class="sxs-lookup"><span data-stu-id="604a7-133">They share the same compiler-generated type information.</span></span>  
  
 <span data-ttu-id="604a7-134">Nelze deklarovat pole, vlastnosti, události nebo návratového typu metody tak, že má anonymního typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-134">You cannot declare a field, a property, an event, or the return type of a method as having an anonymous type.</span></span> <span data-ttu-id="604a7-135">Podobně nelze deklarovat formální parametr metody, vlastnosti, konstruktor nebo indexeru tak, že má anonymního typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-135">Similarly, you cannot declare a formal parameter of a method, property, constructor, or indexer as having an anonymous type.</span></span> <span data-ttu-id="604a7-136">K předání anonymního typu nebo kolekci, která obsahuje anonymní typy jako argument pro metodu, je možné deklarovat jako objekt typu parametru.</span><span class="sxs-lookup"><span data-stu-id="604a7-136">To pass an anonymous type, or a collection that contains anonymous types, as an argument to a method, you can declare the parameter as type object.</span></span> <span data-ttu-id="604a7-137">To však poráží účel silných typů.</span><span class="sxs-lookup"><span data-stu-id="604a7-137">However, doing this defeats the purpose of strong typing.</span></span> <span data-ttu-id="604a7-138">Pokud musíte uložit výsledky dotazu nebo přenášet mimo hranice metody, zvažte použití běžné pojmenované struktury nebo třídy místo anonymního typu.</span><span class="sxs-lookup"><span data-stu-id="604a7-138">If you must store query results or pass them outside the method boundary, consider using an ordinary named struct or class instead of an anonymous type.</span></span>  
  
 <span data-ttu-id="604a7-139">Protože <xref:System.Object.Equals%2A> a <xref:System.Object.GetHashCode%2A> z hlediska jsou definovány metody anonymních typů `Equals` a `GetHashCode` metody vlastností dva výskyty stejného anonymního typu jsou rovny, pouze pokud jejich vlastnosti jsou stejné.</span><span class="sxs-lookup"><span data-stu-id="604a7-139">Because the <xref:System.Object.Equals%2A> and <xref:System.Object.GetHashCode%2A> methods on anonymous types are defined in terms of the `Equals` and `GetHashCode` methods of the properties, two instances of the same anonymous type are equal only if all their properties are equal.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="604a7-140">Viz také:</span><span class="sxs-lookup"><span data-stu-id="604a7-140">See also</span></span>

- [<span data-ttu-id="604a7-141">Průvodce programováním v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="604a7-141">C# Programming Guide</span></span>](../../../csharp/programming-guide/index.md)
- [<span data-ttu-id="604a7-142">Inicializátory objektu a kolekce</span><span class="sxs-lookup"><span data-stu-id="604a7-142">Object and Collection Initializers</span></span>](../../../csharp/programming-guide/classes-and-structs/object-and-collection-initializers.md)
- [<span data-ttu-id="604a7-143">Začínáme s dotazy LINQ v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="604a7-143">Getting Started with LINQ in C#</span></span>](../../../csharp/programming-guide/concepts/linq/getting-started-with-linq.md)
- [<span data-ttu-id="604a7-144">LINQ – výrazy dotazů</span><span class="sxs-lookup"><span data-stu-id="604a7-144">LINQ Query Expressions</span></span>](../../../csharp/programming-guide/linq-query-expressions/index.md)
