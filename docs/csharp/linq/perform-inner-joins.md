---
title: Provádění vnitřních spojení (LINQ v JAZYKU C#)
description: Zjistěte, jak k provádění vnitřních spojení pomocí jazyka LINQ v jazyce C#.
ms.date: 12/01/2016
ms.assetid: 45bceed6-f549-4114-a9b1-b44feb497742
ms.openlocfilehash: a3e8e9bd97ec630797bc48a3302b27ed45d9103e
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61659836"
---
# <a name="perform-inner-joins"></a><span data-ttu-id="1a44d-103">Provádění vnitřních spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-103">Perform inner joins</span></span>

<span data-ttu-id="1a44d-104">V podmínkách relační databázi *vnitřní spojení* vytvoří sadu výsledků dotazu v které jednotlivých prvcích objektu první kolekce se zobrazí vždy jednou pro každý odpovídající prvek v druhé kolekci.</span><span class="sxs-lookup"><span data-stu-id="1a44d-104">In relational database terms, an *inner join* produces a result set in which each element of the first collection appears one time for every matching element in the second collection.</span></span> <span data-ttu-id="1a44d-105">Pokud prvek v první kolekce neobsahuje žádné prvky odpovídající, nezobrazí se v sadě výsledků.</span><span class="sxs-lookup"><span data-stu-id="1a44d-105">If an element in the first collection has no matching elements, it does not appear in the result set.</span></span> <span data-ttu-id="1a44d-106"><xref:System.Linq.Enumerable.Join%2A> Metody, které je voláno rozhraním `join` klauzule v jazyce C#, implementuje vnitřního spojení.</span><span class="sxs-lookup"><span data-stu-id="1a44d-106">The <xref:System.Linq.Enumerable.Join%2A> method, which is called by the `join` clause in C#, implements an inner join.</span></span>

<span data-ttu-id="1a44d-107">Tento článek ukazuje, jak provést čtyři variace vnitřního spojení:</span><span class="sxs-lookup"><span data-stu-id="1a44d-107">This article shows you how to perform four variations of an inner join:</span></span>

- <span data-ttu-id="1a44d-108">Jednoduché vnitřní spojení, které souvisí prvky ze dvou zdrojů dat na základě jednoduchého klíče.</span><span class="sxs-lookup"><span data-stu-id="1a44d-108">A simple inner join that correlates elements from two data sources based on a simple key.</span></span>

- <span data-ttu-id="1a44d-109">Na základě vnitřního spojení, které prvky ze dvou zdrojů dat. souvisí *složené* klíč.</span><span class="sxs-lookup"><span data-stu-id="1a44d-109">An inner join that correlates elements from two data sources based on a *composite* key.</span></span> <span data-ttu-id="1a44d-110">Složený klíč, který je klíčem, který se skládá z více než jednu hodnotu, umožňuje korelovat prvkům založeným na více než jednu vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1a44d-110">A composite key, which is a key that consists of more than one value, enables you to correlate elements based on more than one property.</span></span>

- <span data-ttu-id="1a44d-111">A *více spojení* v které po sobě jdoucích spojení operace se připojují k sobě navzájem.</span><span class="sxs-lookup"><span data-stu-id="1a44d-111">A *multiple join* in which successive join operations are appended to each other.</span></span>

- <span data-ttu-id="1a44d-112">Vnitřní spojení, která je implementována pomocí spojení skupiny.</span><span class="sxs-lookup"><span data-stu-id="1a44d-112">An inner join that is implemented by using a group join.</span></span>

## <a name="example---simple-key-join"></a><span data-ttu-id="1a44d-113">Příklad – jednoduché klíče spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-113">Example - Simple key join</span></span>

<span data-ttu-id="1a44d-114">Následující příklad vytvoří dvě kolekce, které obsahují objekty dva typy definované uživatelem, `Person` a `Pet`.</span><span class="sxs-lookup"><span data-stu-id="1a44d-114">The following example creates two collections that contain objects of two user-defined types, `Person` and `Pet`.</span></span> <span data-ttu-id="1a44d-115">Použije dotaz `join` klauzule v jazyce C# tak, aby odpovídaly `Person` objekty s `Pet` objekty, jejichž `Owner` je, že `Person`.</span><span class="sxs-lookup"><span data-stu-id="1a44d-115">The query uses the `join` clause in C# to match `Person` objects with `Pet` objects whose `Owner` is that `Person`.</span></span> <span data-ttu-id="1a44d-116">`select` Klauzule v jazyce C# definuje, jak bude vypadat výsledných objektech.</span><span class="sxs-lookup"><span data-stu-id="1a44d-116">The `select` clause in C# defines how the resulting objects will look.</span></span> <span data-ttu-id="1a44d-117">Výsledné objekty v tomto příkladu jsou anonymní typy, které se skládají z křestní jméno vlastníka a zvířecí mazlíček.</span><span class="sxs-lookup"><span data-stu-id="1a44d-117">In this example the resulting objects are anonymous types that consist of the owner's first name and the pet's name.</span></span>

[!code-csharp[CsLINQProgJoining#1](~/samples/snippets/csharp/concepts/linq/how-to-perform-inner-joins_1.cs)]

<span data-ttu-id="1a44d-118">Všimněte si, že `Person` jehož `LastName` je "Huff" se nezobrazí v sadě výsledků, protože neexistuje žádný `Pet` objekt, který má `Pet.Owner` roven `Person`.</span><span class="sxs-lookup"><span data-stu-id="1a44d-118">Note that the `Person` object whose `LastName` is "Huff" does not appear in the result set because there is no `Pet` object that has `Pet.Owner` equal to that `Person`.</span></span>

## <a name="example---composite-key-join"></a><span data-ttu-id="1a44d-119">Příklad – složené klíče spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-119">Example - Composite key join</span></span>

<span data-ttu-id="1a44d-120">Místo korelace prvkům založeným na právě jednu vlastnost, můžete použít složený klíč k porovnání prvků na základě více vlastností.</span><span class="sxs-lookup"><span data-stu-id="1a44d-120">Instead of correlating elements based on just one property, you can use a composite key to compare elements based on multiple properties.</span></span> <span data-ttu-id="1a44d-121">Chcete-li to provést, zadejte funkci selektoru klíče pro každou kolekci vrátit anonymního typu, který se skládá z vlastnosti, které chcete porovnat.</span><span class="sxs-lookup"><span data-stu-id="1a44d-121">To do this, specify the key selector function for each collection to return an anonymous type that consists of the properties you want to compare.</span></span> <span data-ttu-id="1a44d-122">Pokud označíte popiskem vlastnosti, musí mít stejný popisek v anonymním typu každý klíč.</span><span class="sxs-lookup"><span data-stu-id="1a44d-122">If you label the properties, they must have the same label in each key's anonymous type.</span></span> <span data-ttu-id="1a44d-123">Vlastnosti musí být uvedena také ve stejném pořadí.</span><span class="sxs-lookup"><span data-stu-id="1a44d-123">The properties must also appear in the same order.</span></span>

<span data-ttu-id="1a44d-124">Následující příklad používá seznam `Employee` objekty a seznam `Student` objekty k určení, které zaměstnanci jsou také studentů.</span><span class="sxs-lookup"><span data-stu-id="1a44d-124">The following example uses a list of `Employee` objects and a list of `Student` objects to determine which employees are also students.</span></span> <span data-ttu-id="1a44d-125">Oba tyto typy mají `FirstName` a `LastName` vlastnost typu <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="1a44d-125">Both of these types have a `FirstName` and a `LastName` property of type <xref:System.String>.</span></span> <span data-ttu-id="1a44d-126">Vrátí anonymní typ, který se skládá z funkce, které vytvoří spojení klíče z každé seznamu elementů `FirstName` a `LastName` vlastnosti jednotlivých prvků.</span><span class="sxs-lookup"><span data-stu-id="1a44d-126">The functions that create the join keys from each list's elements return an anonymous type that consists of the `FirstName` and `LastName` properties of each element.</span></span> <span data-ttu-id="1a44d-127">Operace spojení porovnává tyto složené klíče pro rovnost a vrátí dvojice objektů z každého seznamu, kde křestní jméno a příjmení shodují.</span><span class="sxs-lookup"><span data-stu-id="1a44d-127">The join operation compares these composite keys for equality and returns pairs of objects from each list where both the first name and the last name match.</span></span>

[!code-csharp[CsLINQProgJoining#2](~/samples/snippets/csharp/concepts/linq/how-to-perform-inner-joins_2.cs)]

## <a name="example---multiple-join"></a><span data-ttu-id="1a44d-128">Příklad: více spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-128">Example - Multiple join</span></span>

<span data-ttu-id="1a44d-129">Libovolný počet operací spojování lze připojit k sobě navzájem provádět více připojení.</span><span class="sxs-lookup"><span data-stu-id="1a44d-129">Any number of join operations can be appended to each other to perform a multiple join.</span></span> <span data-ttu-id="1a44d-130">Každý `join` klauzule v jazyce C# koreluje s výsledkem předchozí spojení zadaný zdroj.</span><span class="sxs-lookup"><span data-stu-id="1a44d-130">Each `join` clause in C# correlates a specified data source with the results of the previous join.</span></span>

<span data-ttu-id="1a44d-131">Následující příklad vytvoří tři kolekce: seznam `Person` objekty, seznam `Cat` objekty a seznam `Dog` objekty.</span><span class="sxs-lookup"><span data-stu-id="1a44d-131">The following example creates three collections: a list of `Person` objects, a list of `Cat` objects, and a list of `Dog` objects.</span></span>

<span data-ttu-id="1a44d-132">První `join` klauzule v jazyce C# odpovídá lidí a na základě koček `Person` odpovídající objekt `Cat.Owner`.</span><span class="sxs-lookup"><span data-stu-id="1a44d-132">The first `join` clause in C# matches people and cats based on a `Person` object matching `Cat.Owner`.</span></span> <span data-ttu-id="1a44d-133">Vrátí sekvenci anonymní typy, které obsahují `Person` objektu a `Cat.Name`.</span><span class="sxs-lookup"><span data-stu-id="1a44d-133">It returns a sequence of anonymous types that contain the `Person` object and `Cat.Name`.</span></span>

<span data-ttu-id="1a44d-134">Druhá `join` klauzule v jazyce C# koreluje anonymní typy vrácených první spojení s `Dog` objektů v zadaný seznam psy, podle složený klíč skládající se z `Owner` vlastnost typu `Person`a první písmeno názvu zvířat.</span><span class="sxs-lookup"><span data-stu-id="1a44d-134">The second `join` clause in C# correlates the anonymous types returned by the first join with `Dog` objects in the supplied list of dogs, based on a composite key that consists of the `Owner` property of type `Person`, and the first letter of the animal's name.</span></span> <span data-ttu-id="1a44d-135">Vrátí sekvenci anonymní typy, které obsahují `Cat.Name` a `Dog.Name` vlastnosti z každé shodnou dvojici.</span><span class="sxs-lookup"><span data-stu-id="1a44d-135">It returns a sequence of anonymous types that contain the `Cat.Name` and `Dog.Name` properties from each matching pair.</span></span> <span data-ttu-id="1a44d-136">Protože se jedná vnitřní spojení, jsou vráceny pouze ty objekty z prvního zdroje dat, které mají v druhý zdroj dat shoda.</span><span class="sxs-lookup"><span data-stu-id="1a44d-136">Because this is an inner join, only those objects from the first data source that have a match in the second data source are returned.</span></span>

[!code-csharp[CsLINQProgJoining#3](~/samples/snippets/csharp/concepts/linq/how-to-perform-inner-joins_3.cs)]

## <a name="example---inner-join-by-using-grouped-join"></a><span data-ttu-id="1a44d-137">Příklad – vnitřní spojení pomocí seskupených spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-137">Example - Inner join by using grouped join</span></span>

<span data-ttu-id="1a44d-138">Následující příklad ukazuje, jak implementovat vnitřního spojení pomocí spojení skupiny.</span><span class="sxs-lookup"><span data-stu-id="1a44d-138">The following example shows you how to implement an inner join by using a group join.</span></span>

<span data-ttu-id="1a44d-139">V `query1`, seznam `Person` objekty je připojené skupiny do seznamu `Pet` na základě objektů `Person` odpovídající `Pet.Owner` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1a44d-139">In `query1`, the list of `Person` objects is group-joined to the list of `Pet` objects based on the `Person` matching the `Pet.Owner` property.</span></span> <span data-ttu-id="1a44d-140">Spojení skupiny vytvoří kolekci zprostředkujících skupin, kde každá skupina skládá `Person` objektu a sekvencí odpovídající `Pet` objekty.</span><span class="sxs-lookup"><span data-stu-id="1a44d-140">The group join creates a collection of intermediate groups, where each group consists of a `Person` object and a sequence of matching `Pet` objects.</span></span>

<span data-ttu-id="1a44d-141">Tak, že přidáte druhý `from` klauzule dotazu, tato sekvence sekvencí je kombinovat (nebo plochý) do jedné sekvence delší dobu.</span><span class="sxs-lookup"><span data-stu-id="1a44d-141">By adding a second `from` clause to the query, this sequence of sequences is combined (or flattened) into one longer sequence.</span></span> <span data-ttu-id="1a44d-142">Typ prvků závěrečné sekvenci je určená `select` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="1a44d-142">The type of the elements of the final sequence is specified by the `select` clause.</span></span> <span data-ttu-id="1a44d-143">V tomto příkladu, že typ je anonymní typ, který se skládá z `Person.FirstName` a `Pet.Name` vlastnosti pro každý odpovídající dvojice.</span><span class="sxs-lookup"><span data-stu-id="1a44d-143">In this example, that type is an anonymous type that consists of the `Person.FirstName` and `Pet.Name` properties for each matching pair.</span></span>

<span data-ttu-id="1a44d-144">Výsledek `query1` je ekvivalentní sadu výsledků, které by byly získány pomocí `join` klauzule bez `into` k provedení vnitřního spojení.</span><span class="sxs-lookup"><span data-stu-id="1a44d-144">The result of `query1` is equivalent to the result set that would have been obtained by using the `join` clause without the `into` clause to perform an inner join.</span></span> <span data-ttu-id="1a44d-145">`query2` Proměnná ukazuje tento dotaz ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="1a44d-145">The `query2` variable demonstrates this equivalent query.</span></span>

[!code-csharp[CsLINQProgJoining#4](~/samples/snippets/csharp/concepts/linq/how-to-perform-inner-joins_4.cs)]

## <a name="see-also"></a><span data-ttu-id="1a44d-146">Viz také:</span><span class="sxs-lookup"><span data-stu-id="1a44d-146">See also</span></span>

- <xref:System.Linq.Enumerable.Join%2A>
- <xref:System.Linq.Enumerable.GroupJoin%2A>
- [<span data-ttu-id="1a44d-147">Provádění seskupených spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-147">Perform grouped joins</span></span>](perform-grouped-joins.md)
- [<span data-ttu-id="1a44d-148">Provedení levých vnějších spojení</span><span class="sxs-lookup"><span data-stu-id="1a44d-148">Perform left outer joins</span></span>](perform-left-outer-joins.md)
- [<span data-ttu-id="1a44d-149">Anonymní typy</span><span class="sxs-lookup"><span data-stu-id="1a44d-149">Anonymous types</span></span>](../programming-guide/classes-and-structs/anonymous-types.md)
