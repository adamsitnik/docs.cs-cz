---
title: Práce s sémantickým modelem .NET Compiler Platform SDK
description: Tento přehled poskytuje pochopení typu, který používáte pro pochopení a manipulaci s sémantickým modelem kódu.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: c594447bb553f488d60fe83900e2f141608b570f
ms.sourcegitcommit: 6f28b709592503d27077b16fff2e2eacca569992
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/28/2019
ms.locfileid: "70105671"
---
# <a name="work-with-semantics"></a><span data-ttu-id="49d96-103">Práce se sémantikou</span><span class="sxs-lookup"><span data-stu-id="49d96-103">Work with semantics</span></span>

<span data-ttu-id="49d96-104">[Stromy syntaxe](work-with-syntax.md) reprezentují lexikální a syntaktickou strukturu zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="49d96-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="49d96-105">I když tyto informace jsou dostatečné pro popis všech deklarací a logiky ve zdroji, není dostatek informací, aby bylo možné zjistit, co je odkazováno.</span><span class="sxs-lookup"><span data-stu-id="49d96-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="49d96-106">Název může představovat:</span><span class="sxs-lookup"><span data-stu-id="49d96-106">A name may represent:</span></span>

- <span data-ttu-id="49d96-107">typ</span><span class="sxs-lookup"><span data-stu-id="49d96-107">a type</span></span>
- <span data-ttu-id="49d96-108">pole</span><span class="sxs-lookup"><span data-stu-id="49d96-108">a field</span></span>
- <span data-ttu-id="49d96-109">Metoda</span><span class="sxs-lookup"><span data-stu-id="49d96-109">a method</span></span>
- <span data-ttu-id="49d96-110">lokální proměnná</span><span class="sxs-lookup"><span data-stu-id="49d96-110">a local variable</span></span>

<span data-ttu-id="49d96-111">I když je každá z nich jednoznačně odlišná, určení toho, který identifikátor ve skutečnosti označuje, často vyžaduje důkladné porozumění jazykovým pravidlům.</span><span class="sxs-lookup"><span data-stu-id="49d96-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span> 

<span data-ttu-id="49d96-112">Existují prvky programu reprezentované ve zdrojovém kódu a programy mohou také odkazovat na dříve zkompilované knihovny, zabaleny do souborů sestavení.</span><span class="sxs-lookup"><span data-stu-id="49d96-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="49d96-113">I když žádný zdrojový kód, a proto žádné uzly syntaxe ani stromy nejsou k dispozici pro sestavení, programy mohou stále odkazovat na prvky uvnitř nich.</span><span class="sxs-lookup"><span data-stu-id="49d96-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="49d96-114">Pro tyto úlohy potřebujete **sémantický model**.</span><span class="sxs-lookup"><span data-stu-id="49d96-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="49d96-115">Kromě syntaktického modelu zdrojového kódu zapouzdřuje sémantický model jazyková pravidla a poskytuje snadný způsob, jak správně porovnat identifikátory se správným prvkem programu, na který se odkazuje.</span><span class="sxs-lookup"><span data-stu-id="49d96-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="49d96-116">Kompilace</span><span class="sxs-lookup"><span data-stu-id="49d96-116">Compilation</span></span>

<span data-ttu-id="49d96-117">Kompilace je reprezentace všeho potřebného pro zkompilování C# nebo Visual Basic program, který zahrnuje všechny odkazy na sestavení, možnosti kompilátoru a zdrojové soubory.</span><span class="sxs-lookup"><span data-stu-id="49d96-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span> 

<span data-ttu-id="49d96-118">Vzhledem k tomu, že jsou všechny tyto informace na jednom místě, prvky obsažené ve zdrojovém kódu lze podrobněji popsat.</span><span class="sxs-lookup"><span data-stu-id="49d96-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="49d96-119">Kompilace představuje každý deklarovaný typ, člen nebo proměnnou jako symbol.</span><span class="sxs-lookup"><span data-stu-id="49d96-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="49d96-120">Kompilace obsahuje nejrůznější metody, které vám pomůžou najít a propojit symboly, které byly buď deklarovány ve zdrojovém kódu nebo importovány jako metadata ze sestavení.</span><span class="sxs-lookup"><span data-stu-id="49d96-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="49d96-121">Podobně jako stromy syntaxe jsou kompilace neměnný.</span><span class="sxs-lookup"><span data-stu-id="49d96-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="49d96-122">Po vytvoření kompilace ji nemůžete změnit vy nebo někdo jiný, se kterou byste ji mohli sdílet.</span><span class="sxs-lookup"><span data-stu-id="49d96-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="49d96-123">Můžete však vytvořit novou kompilaci z existující kompilace a určit tak jejich změnu.</span><span class="sxs-lookup"><span data-stu-id="49d96-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="49d96-124">Například můžete vytvořit kompilaci, která je stejná v každém jako existující kompilace, s výjimkou, že může obsahovat další zdrojový soubor nebo odkaz na sestavení.</span><span class="sxs-lookup"><span data-stu-id="49d96-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="49d96-125">Symboly</span><span class="sxs-lookup"><span data-stu-id="49d96-125">Symbols</span></span>

<span data-ttu-id="49d96-126">Symbol představuje jedinečný element deklarovaný ve zdrojovém kódu nebo importovaný ze sestavení jako metadata.</span><span class="sxs-lookup"><span data-stu-id="49d96-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="49d96-127">Každý obor názvů, typ, metoda, vlastnost, pole, událost, parametr nebo místní proměnná jsou reprezentovány symbolem.</span><span class="sxs-lookup"><span data-stu-id="49d96-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span> 

<span data-ttu-id="49d96-128">Nejrůznější metody a vlastnosti <xref:Microsoft.CodeAnalysis.Compilation> typu vám pomůžou najít symboly.</span><span class="sxs-lookup"><span data-stu-id="49d96-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="49d96-129">Například můžete vyhledat symbol deklarovaného typu podle jeho společných metadat.</span><span class="sxs-lookup"><span data-stu-id="49d96-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="49d96-130">Můžete také přistupovat k celé tabulce symbolů jako strom symbolů, které jsou rootem globálního oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="49d96-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="49d96-131">Symboly také obsahují další informace, které kompilátor určí ze zdroje nebo metadat, jako jsou například jiné odkazované symboly.</span><span class="sxs-lookup"><span data-stu-id="49d96-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="49d96-132">Každý druh symbolu je reprezentován samostatným rozhraním odvozeným od <xref:Microsoft.CodeAnalysis.ISymbol>, z každého s vlastními metodami a vlastnostmi, které podrobně popisují informace, které kompilátor shromáždil.</span><span class="sxs-lookup"><span data-stu-id="49d96-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="49d96-133">Mnohé z těchto vlastností přímo odkazují na jiné symboly.</span><span class="sxs-lookup"><span data-stu-id="49d96-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="49d96-134">Například <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> vlastnost oznamuje skutečný symbol typu, na který odkazuje deklarace metody.</span><span class="sxs-lookup"><span data-stu-id="49d96-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="49d96-135">Symboly prezentují běžné reprezentace oborů názvů, typů a členů mezi zdrojovým kódem a metadaty.</span><span class="sxs-lookup"><span data-stu-id="49d96-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="49d96-136">Například metoda, která byla deklarována ve zdrojovém kódu a metoda, která byla importována z metadat, jsou zastoupeny <xref:Microsoft.CodeAnalysis.IMethodSymbol> se stejnou vlastností.</span><span class="sxs-lookup"><span data-stu-id="49d96-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="49d96-137">Symboly jsou podobné v konceptu systému typu CLR, jak je reprezentované <xref:System.Reflection> rozhraním API, ale jsou bohatší v tom, že modelují více než jenom typy.</span><span class="sxs-lookup"><span data-stu-id="49d96-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="49d96-138">Obory názvů, místní proměnné a popisky jsou všechny symboly.</span><span class="sxs-lookup"><span data-stu-id="49d96-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="49d96-139">Kromě toho symboly jsou reprezentace jazykových konceptů, nikoli konceptů CLR.</span><span class="sxs-lookup"><span data-stu-id="49d96-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="49d96-140">Existuje velké množství překryvů, ale existuje mnoho smysluplných odlišnosti.</span><span class="sxs-lookup"><span data-stu-id="49d96-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="49d96-141">Například metoda iterátoru v C# nebo Visual Basic je jedním symbolem.</span><span class="sxs-lookup"><span data-stu-id="49d96-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="49d96-142">Pokud je však metoda iterátoru přeložena na metadata CLR, jedná se o typ a více metod.</span><span class="sxs-lookup"><span data-stu-id="49d96-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="49d96-143">Sémantický model</span><span class="sxs-lookup"><span data-stu-id="49d96-143">Semantic model</span></span>

<span data-ttu-id="49d96-144">Sémantický model představuje všechny sémantické informace pro jeden zdrojový soubor.</span><span class="sxs-lookup"><span data-stu-id="49d96-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="49d96-145">Můžete ji použít ke zjištění následujících možností:</span><span class="sxs-lookup"><span data-stu-id="49d96-145">You can use it to discover the following:</span></span> 

- <span data-ttu-id="49d96-146">Symboly odkazované v určitém umístění ve zdroji.</span><span class="sxs-lookup"><span data-stu-id="49d96-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="49d96-147">Výsledný typ libovolného výrazu.</span><span class="sxs-lookup"><span data-stu-id="49d96-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="49d96-148">Všechny diagnostiky, což jsou chyby a upozornění.</span><span class="sxs-lookup"><span data-stu-id="49d96-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="49d96-149">Způsob toku proměnných do oblastí zdroje a mimo ně.</span><span class="sxs-lookup"><span data-stu-id="49d96-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="49d96-150">Odpovědi na více spekulativních otázek.</span><span class="sxs-lookup"><span data-stu-id="49d96-150">The answers to more speculative questions.</span></span>
