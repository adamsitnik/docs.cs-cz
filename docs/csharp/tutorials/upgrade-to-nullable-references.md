---
title: Návrh s typy s možnou hodnotou Null odkazů
description: V tomto kurzu pokročilé obsahuje úvod do typy s možnou hodnotou Null odkazů. Se dozvíte, jak vyjádřit svůj návrh úmyslem při může mít hodnotu null referenční hodnoty a nechat kompilátor vynucovat, když nemohou být null.
ms.date: 02/19/2019
ms.custom: mvc
ms.openlocfilehash: 57f738771a6f1d2cebe7af546d06ac7d7289a338
ms.sourcegitcommit: acd8ed14fe94e9d4e3a7fb685fe83d05e941073c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/20/2019
ms.locfileid: "56443265"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="d844b-104">Kurz: Migrovat existující kód s typy s možnou hodnotou Null odkazů</span><span class="sxs-lookup"><span data-stu-id="d844b-104">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="d844b-105">C#8 zavádí **typy s možnou hodnotou Null odkazů**, kterou doplněk referenční typy stejným způsobem jako typy s možnou hodnotou doplňují typy hodnot.</span><span class="sxs-lookup"><span data-stu-id="d844b-105">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="d844b-106">Deklarujete proměnnou **typ s možnou hodnotou Null odkazu** připojením `?` typu.</span><span class="sxs-lookup"><span data-stu-id="d844b-106">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="d844b-107">Například `string?` představuje s povolenou hodnotou Null `string`.</span><span class="sxs-lookup"><span data-stu-id="d844b-107">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="d844b-108">Pro větší přehlednost express máte v úmyslu návrhu můžete použít tyto nové typy: Některé proměnné *musí mít vždy hodnotu*, ostatní *pravděpodobně chybí hodnota*.</span><span class="sxs-lookup"><span data-stu-id="d844b-108">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="d844b-109">Všechny existující proměnné typu odkazu je interpretován jako typ neumožňující hodnotu odkazu.</span><span class="sxs-lookup"><span data-stu-id="d844b-109">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="d844b-110">V tomto kurzu se dozvíte jak:</span><span class="sxs-lookup"><span data-stu-id="d844b-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="d844b-111">Povolte kontroly odkaz s hodnotou null při práci s kódem.</span><span class="sxs-lookup"><span data-stu-id="d844b-111">Enable null reference checks as you work with code.</span></span>
> * <span data-ttu-id="d844b-112">Diagnostikujte a opravte různých upozornění související s hodnotami null.</span><span class="sxs-lookup"><span data-stu-id="d844b-112">Diagnose and correct different warnings related to null values.</span></span>
> * <span data-ttu-id="d844b-113">Správa rozhraní mezi s možnou hodnotou Null zakázané kontexty povolené a s povolenou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-113">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> * <span data-ttu-id="d844b-114">Ovládací prvek s možnou hodnotou Null anotace kontexty.</span><span class="sxs-lookup"><span data-stu-id="d844b-114">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d844b-115">Požadavky</span><span class="sxs-lookup"><span data-stu-id="d844b-115">Prerequisites</span></span>

<span data-ttu-id="d844b-116">Budete muset nastavit počítač pro spuštění .NET Core, včetně C# 8.0 beta verze kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="d844b-116">You'll need to set up your machine to run .NET Core, including the C# 8.0 beta compiler.</span></span> <span data-ttu-id="d844b-117">C# 8 beta verze kompilátoru je k dispozici s [Visual Studio 2019 preview 2 a novější](https://visualstudio.microsoft.com/vs/preview/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019+preview), nebo [.NET Core 3.0 ve verzi preview 2](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span><span class="sxs-lookup"><span data-stu-id="d844b-117">The C# 8 beta compiler is available with [Visual Studio 2019 preview 2 and later](https://visualstudio.microsoft.com/vs/preview/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019+preview), or [.NET Core 3.0 preview 2](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span></span>

<span data-ttu-id="d844b-118">Tento kurz předpokládá, že jste obeznámeni s C# a .NET, včetně sady Visual Studio nebo rozhraní příkazového řádku .NET Core.</span><span class="sxs-lookup"><span data-stu-id="d844b-118">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="d844b-119">Prozkoumat ukázkové aplikace</span><span class="sxs-lookup"><span data-stu-id="d844b-119">Explore the sample application</span></span>

<span data-ttu-id="d844b-120">Ukázkové aplikace, provedeme migraci je informačního kanálu čtečky webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="d844b-120">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="d844b-121">Načte z jedné informační kanál RSS a zobrazuje souhrny pro nejnovější články.</span><span class="sxs-lookup"><span data-stu-id="d844b-121">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="d844b-122">Můžete kliknout na kterýkoli z následujících článků na webu.</span><span class="sxs-lookup"><span data-stu-id="d844b-122">You can click on any of the articles to visit the site.</span></span> <span data-ttu-id="d844b-123">Aplikace je relativně nové, ale byla zapsána před typy s možnou hodnotou NULL referenční vlastnosti byly k dispozici.</span><span class="sxs-lookup"><span data-stu-id="d844b-123">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="d844b-124">Rozhodnutí o návrhu pro aplikaci reprezentována zvukové zásady, ale není využít výhod této funkci jazyka důležité.</span><span class="sxs-lookup"><span data-stu-id="d844b-124">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="d844b-125">Ukázkové aplikace obsahuje knihovnu testu jednotky, která ověřuje hlavní funkce aplikace.</span><span class="sxs-lookup"><span data-stu-id="d844b-125">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="d844b-126">Tento projekt usnadní upgradovat bez obav, pokud změníte některá provádění podle vygeneruje upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-126">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="d844b-127">Můžete stáhnout počáteční kód z [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) úložiště GitHub.</span><span class="sxs-lookup"><span data-stu-id="d844b-127">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="d844b-128">Vaším cílem migrace projektu by měl být využívat nové funkce jazyků tak, aby vám jasně express máte v úmyslu na Null proměnné a udělat tak, že kompilátor negeneruje upozornění, když budete mít kontext s možnou hodnotou Null poznámky a s povolenou hodnotou Null kontext upozornění nastavena na `enabled`.</span><span class="sxs-lookup"><span data-stu-id="d844b-128">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="d844b-129">Upgrade projektů na C# 8</span><span class="sxs-lookup"><span data-stu-id="d844b-129">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="d844b-130">Je dobrý první krok k určení oboru této úlohy migrace.</span><span class="sxs-lookup"><span data-stu-id="d844b-130">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="d844b-131">Začněte tím, že probíhá upgrade projektu na C# 8.0 (nebo novější).</span><span class="sxs-lookup"><span data-stu-id="d844b-131">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="d844b-132">Přidat `LangVersion` element na oba soubory csproj pro webový projekt a projekt testování částí:</span><span class="sxs-lookup"><span data-stu-id="d844b-132">Add the `LangVersion` element to both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="d844b-133">Upgrade verze jazyka vybere C# 8.0, ale neumožňuje kontext poznámky s možnou hodnotou Null nebo s povolenou hodnotou Null kontext upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-133">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="d844b-134">Znovu sestavte projekt k zajištění, že sestavení bez upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-134">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="d844b-135">Dobré dalším krokem je zapnout v kontextu s možnou hodnotou Null poznámky a zobrazit, kolik upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-135">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="d844b-136">Přidejte následující prvek na oba soubory csproj v řešení, přímo pod `LangVersion` element:</span><span class="sxs-lookup"><span data-stu-id="d844b-136">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<NullableContextOptions>enable</NullableContextOptions>
```

<span data-ttu-id="d844b-137">Provést testovací sestavení a Všimněte si, že seznam upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-137">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="d844b-138">V tomto malou aplikaci kompilátor vygeneruje pět upozornění, tak, aby byl pravděpodobně ponecháte kontextu s možnou hodnotou Null anotace povolená a začít řešit upozornění pro celý projekt.</span><span class="sxs-lookup"><span data-stu-id="d844b-138">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="d844b-139">Strategie je, že funguje pouze pro menší projekty.</span><span class="sxs-lookup"><span data-stu-id="d844b-139">That strategy works only for smaller projects.</span></span> <span data-ttu-id="d844b-140">U větších projektů, počet upozornění vygenerované povolením kontext s možnou hodnotou Null anotace pro celým základem kódu bude těžší, chcete-li vyřešit upozornění systematicky.</span><span class="sxs-lookup"><span data-stu-id="d844b-140">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="d844b-141">Pro větší podnikových projektů budete často chcete migrovat jeden projekt současně.</span><span class="sxs-lookup"><span data-stu-id="d844b-141">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="d844b-142">V každém projektu migrace jedné třídy nebo soubor v čase.</span><span class="sxs-lookup"><span data-stu-id="d844b-142">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="d844b-143">Upozornění pomáhají zjistit původní záměr návrhu</span><span class="sxs-lookup"><span data-stu-id="d844b-143">Warnings help discover original design intent</span></span>

<span data-ttu-id="d844b-144">Existují dvě třídy, které generují několik upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-144">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="d844b-145">Začněte `NewsStoryViewModel` třídy.</span><span class="sxs-lookup"><span data-stu-id="d844b-145">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="d844b-146">Odeberte `NullableContextOptions` element z obou csproj soubory tak, aby bylo možné omezit obor upozornění na části kódu, kterou pracujete.</span><span class="sxs-lookup"><span data-stu-id="d844b-146">Remove the `NullableContextOptions` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="d844b-147">Otevřít *NewsStoryViewModel.cs* a přidejte následující direktivy umožňující kontext s možnou hodnotou NULL Poznámky `NewsStoryViewModel` a obnovte ji po definici této třídy:</span><span class="sxs-lookup"><span data-stu-id="d844b-147">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="d844b-148">Tyto dvě direktivy umožňují zaměřit migrace.</span><span class="sxs-lookup"><span data-stu-id="d844b-148">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="d844b-149">Pro oblasti kódu aktivně pracuje na vygenerují se upozornění s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-149">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="d844b-150">Budete necháte je na až budete připraveni k zapnutí nastavení v upozornění pro celý projekt.</span><span class="sxs-lookup"><span data-stu-id="d844b-150">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="d844b-151">Měli byste použít `restore` spíše než `disable` hodnotu tak, aby není zakážete omylem kontextu později při jste zapnuli poznámky s možnou hodnotou Null pro celý projekt.</span><span class="sxs-lookup"><span data-stu-id="d844b-151">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="d844b-152">Jakmile jste zapnuli kontext s možnou hodnotou Null anotace pro celý projekt, můžete odebrat všechny `#nullable` direktivy pragma z tohoto projektu.</span><span class="sxs-lookup"><span data-stu-id="d844b-152">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="d844b-153">`NewsStoryViewModel` Třída je objekt pro přenos dat (DTO) a dvě vlastnosti jsou řetězce pro čtení a zápisu:</span><span class="sxs-lookup"><span data-stu-id="d844b-153">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="d844b-154">Tyto dvě vlastnosti způsobit `CS8618`, "neumožňující vlastností není inicializován".</span><span class="sxs-lookup"><span data-stu-id="d844b-154">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="d844b-155">Který má dostatek zrušte: oba `string` vlastnosti mají výchozí hodnotu `null` při `NewsStoryViewModel` je vytvořený.</span><span class="sxs-lookup"><span data-stu-id="d844b-155">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="d844b-156">Co je důležité, abyste zjišťování je jak `NewsStoryViewModel` jsou objekty zhotoveny.</span><span class="sxs-lookup"><span data-stu-id="d844b-156">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="d844b-157">Prohlížení Tato třída, nelze zjistit, pokud `null` hodnota je součástí návrhu nebo pokud tyto objekty jsou nastavené na nenulovou hodnoty pokaždé, když se jeden se vytvoří.</span><span class="sxs-lookup"><span data-stu-id="d844b-157">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="d844b-158">Nové příběhy jsou vytvořené v `GetNews` metodu `NewsService` třídy:</span><span class="sxs-lookup"><span data-stu-id="d844b-158">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="d844b-159">Je poměrně děje předchozí blok kódu.</span><span class="sxs-lookup"><span data-stu-id="d844b-159">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="d844b-160">Tato aplikace používá [AutoMapper](http://automapper.org/) balíček NuGet pro vytvoření položky zpráv ze `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="d844b-160">This application uses the [AutoMapper](http://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="d844b-161">Jste se seznámili, že položky zprávy scénáře jsou vytvořeny a jsou nastaveny vlastnosti v tomto jeden příkaz.</span><span class="sxs-lookup"><span data-stu-id="d844b-161">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="d844b-162">To znamená, že návrh pro `NewsStoryViewModel` označuje, že tyto vlastnosti by měly mít nikdy `null` hodnotu.</span><span class="sxs-lookup"><span data-stu-id="d844b-162">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="d844b-163">Tyto vlastnosti by měla být **nemá odkazové typy**.</span><span class="sxs-lookup"><span data-stu-id="d844b-163">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="d844b-164">Které bude nejlépe vyjadřují záměr původní návrhu.</span><span class="sxs-lookup"><span data-stu-id="d844b-164">That best expresses the original design intent.</span></span> <span data-ttu-id="d844b-165">Ve skutečnosti všechny `NewsStoryViewModel` *je* správně vytvořena instance s jinou hodnotu než null.</span><span class="sxs-lookup"><span data-stu-id="d844b-165">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="d844b-166">Díky tomu se následující inicializace platnou opravu kódu:</span><span class="sxs-lookup"><span data-stu-id="d844b-166">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="d844b-167">Přiřazení `Title` a `Uri` k `default` tedy `null` pro `string` typ nedojde ke změně chování za běhu programu.</span><span class="sxs-lookup"><span data-stu-id="d844b-167">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="d844b-168">`NewsStoryViewModel` Stále zkonstruován s hodnotou null, ale teď kompilátor oznámí žádná upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-168">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="d844b-169">**Striktní null operátor**, `!` následující znak `default` výraz sděluje kompilátoru, že předcházejícího výrazu není null.</span><span class="sxs-lookup"><span data-stu-id="d844b-169">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="d844b-170">Tato technika může být vhodné při další změny vynutit mnohem větší změn do základu kódu, ale v této aplikaci je poměrně rychle a lepší řešení: Ujistěte se, `NewsStoryViewModel` typem neměnné, ve kterém jsou nastavené všechny vlastnosti v konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="d844b-170">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="d844b-171">Proveďte následující změny `NewsStoryViewModel`:</span><span class="sxs-lookup"><span data-stu-id="d844b-171">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="d844b-172">Po dokončení, je potřeba aktualizovat kód, který konfiguruje AutoMapper tak, aby používala konstruktoru spíše než nastavení vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="d844b-172">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="d844b-173">Otevřít `NewsService.cs` a vyhledejte následující kód v dolní části souboru:</span><span class="sxs-lookup"><span data-stu-id="d844b-173">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="d844b-174">Že vlastnosti mapy kódu `ISyndicationItem` objektu `NewsStoryViewModel` vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="d844b-174">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="d844b-175">Chcete, aby AutoMapper poskytnout mapování místo toho použít konstruktor.</span><span class="sxs-lookup"><span data-stu-id="d844b-175">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="d844b-176">Ve výše uvedeném kódu nahraďte následující automapper konfiguraci:</span><span class="sxs-lookup"><span data-stu-id="d844b-176">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="d844b-177">Všimněte si, že vzhledem k tomu, že tato třída je malý a jste pečlivě prozkoumat, měli byste zapnout `#nullable enable` direktiv vyšší než tato deklarace třídy.</span><span class="sxs-lookup"><span data-stu-id="d844b-177">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="d844b-178">Změna konstruktoru může mají poškozen něco, takže je vhodné spustit všechny testy a testování aplikací před přechodem na.</span><span class="sxs-lookup"><span data-stu-id="d844b-178">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="d844b-179">První sada změn vám ukázali, jak zjistit, kdy původní návrh uvedeno, že proměnné by neměl být nastavený `null`.</span><span class="sxs-lookup"><span data-stu-id="d844b-179">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="d844b-180">Postup se označuje jako **správné pomocí vytváření**.</span><span class="sxs-lookup"><span data-stu-id="d844b-180">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="d844b-181">Deklarujte, že objekt a jeho vlastnosti nemohou být `null` při jejím vytváření.</span><span class="sxs-lookup"><span data-stu-id="d844b-181">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="d844b-182">Analýzy toku kompilátoru poskytuje záruku, že tyto vlastnosti nejsou nastaveny na `null` po konstrukci.</span><span class="sxs-lookup"><span data-stu-id="d844b-182">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="d844b-183">Mějte na paměti, že tento konstruktor je volán externího kódu a tento kód je **s možnou hodnotou Null oblivious**.</span><span class="sxs-lookup"><span data-stu-id="d844b-183">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="d844b-184">Nová syntaxe neposkytuje kontroly runtime.</span><span class="sxs-lookup"><span data-stu-id="d844b-184">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="d844b-185">Externí kód může obejít analýzy toku kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="d844b-185">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="d844b-186">Jindy struktura třídy poskytuje různé příčiny záměr.</span><span class="sxs-lookup"><span data-stu-id="d844b-186">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="d844b-187">Otevřít *Error.cshtml.cs* soubor *stránky* složky.</span><span class="sxs-lookup"><span data-stu-id="d844b-187">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="d844b-188">`ErrorViewModel` Obsahuje následující kód:</span><span class="sxs-lookup"><span data-stu-id="d844b-188">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="d844b-189">Přidat `#nullable enable` direktiv před deklaraci třídy a `#nullable restore` direktiv po něm.</span><span class="sxs-lookup"><span data-stu-id="d844b-189">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="d844b-190">Zobrazí se jedné upozornění, která `RequestId` není inicializován.</span><span class="sxs-lookup"><span data-stu-id="d844b-190">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="d844b-191">Podle třídy, byste měli rozhodnout, která `RequestId` vlastnost by měla mít hodnotu null v některých případech.</span><span class="sxs-lookup"><span data-stu-id="d844b-191">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="d844b-192">Existence `ShowRequestId` vlastnost označuje, že jsou možné chybějící hodnoty.</span><span class="sxs-lookup"><span data-stu-id="d844b-192">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="d844b-193">Protože `null` je platný, přidejte `?` na `string` typu k označení `RequestId` vlastnost je *typ s možnou hodnotou Null odkazu*.</span><span class="sxs-lookup"><span data-stu-id="d844b-193">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="d844b-194">Finální třídy bude vypadat jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="d844b-194">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="d844b-195">Zkontrolujte použití vlastnosti a uvidíte, že na stránce přidružené vlastnosti se kontroluje u null před vykreslením v kódu.</span><span class="sxs-lookup"><span data-stu-id="d844b-195">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="d844b-196">To je bezpečné používání typu s možnou hodnotou Null odkazu, tak budete hotovi s touto třídou.</span><span class="sxs-lookup"><span data-stu-id="d844b-196">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="d844b-197">Oprava hodnoty NULL způsobí, že změna</span><span class="sxs-lookup"><span data-stu-id="d844b-197">Fixing nulls causes change</span></span>

<span data-ttu-id="d844b-198">Oprava pro jednu sadu upozornění často, vytvoří nová upozornění v související kód.</span><span class="sxs-lookup"><span data-stu-id="d844b-198">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="d844b-199">Podívejme se po opravě upozornění v akci `index.cshtml.cs` třídy.</span><span class="sxs-lookup"><span data-stu-id="d844b-199">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="d844b-200">Otevřít `index.cshtml.cs` souboru a prozkoumejte kód.</span><span class="sxs-lookup"><span data-stu-id="d844b-200">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="d844b-201">Tento soubor obsahuje kód za pro indexovou stránku:</span><span class="sxs-lookup"><span data-stu-id="d844b-201">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="d844b-202">Přidat `#nullable enable` směrnice a uvidíte dvě upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-202">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="d844b-203">Ani `ErrorText` vlastnost ani `NewsItems` vlastnost inicializuje.</span><span class="sxs-lookup"><span data-stu-id="d844b-203">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="d844b-204">Prozkoumání této třídy vedlo domnívat, že obě vlastnosti by měl být typy s možnou hodnotou Null odkazů: Mít privátní metody setter.</span><span class="sxs-lookup"><span data-stu-id="d844b-204">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="d844b-205">Přesně jeden je přiřazen do `OnGet` metody.</span><span class="sxs-lookup"><span data-stu-id="d844b-205">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="d844b-206">Před provedením změn, podívejte se na spotřebitele obě vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="d844b-206">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="d844b-207">V samotné stránky `ErrorText` je porovnávána s hodnotou null před vygenerováním kódu chyby.</span><span class="sxs-lookup"><span data-stu-id="d844b-207">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="d844b-208">`NewsItems` Kolekce je porovnávána s `null`a kontrolovaný zajistit kolekci položek.</span><span class="sxs-lookup"><span data-stu-id="d844b-208">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="d844b-209">Rychlé opravy je oba typy s možnou hodnotou NULL referenční vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="d844b-209">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="d844b-210">Může být lepší oprava nastavují kolekci nemá typ odkazu a přidat položky do existující kolekce při načítání zpráv.</span><span class="sxs-lookup"><span data-stu-id="d844b-210">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="d844b-211">První opravu, je přidat `?` k `string` zadejte `ErrorText`:</span><span class="sxs-lookup"><span data-stu-id="d844b-211">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="d844b-212">Nebude změna rozšíří jiný kód, protože žádný přístup k `ErrorText` vlastnost byl již chráněn pomocí kontroly hodnoty null.</span><span class="sxs-lookup"><span data-stu-id="d844b-212">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="d844b-213">V dalším kroku inicializovat `NewsItems` seznamu a odeberte metodu nastavení vlastnosti, takže vlastnost jen pro čtení:</span><span class="sxs-lookup"><span data-stu-id="d844b-213">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="d844b-214">Který opraveny upozornění však zavést chybu.</span><span class="sxs-lookup"><span data-stu-id="d844b-214">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="d844b-215">`NewsItems` Je seznam **správné pomocí vytváření**, ale kód, který nastaví seznam v `OnGet` musí změnit tak, aby odpovídala nové rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="d844b-215">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="d844b-216">Namísto přiřazení, volání `AddRange` přidání položek zpráv do existujícího seznamu:</span><span class="sxs-lookup"><span data-stu-id="d844b-216">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="d844b-217">Pomocí `AddRange` namísto přiřazení znamená, že `GetNews` metoda může vrátit `IEnumerable` místo `List`.</span><span class="sxs-lookup"><span data-stu-id="d844b-217">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="d844b-218">Který uloží jednu přidělení.</span><span class="sxs-lookup"><span data-stu-id="d844b-218">That saves one allocation.</span></span> <span data-ttu-id="d844b-219">Změna podpisu metody a odebrat `ToList` volání, jak je znázorněno v následujícím příkladu kódu:</span><span class="sxs-lookup"><span data-stu-id="d844b-219">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="d844b-220">Změna podpisu dělí jeden také testy.</span><span class="sxs-lookup"><span data-stu-id="d844b-220">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="d844b-221">Otevřít `NewsServiceTests.cs` soubor `Services` složky `SimpleFeedReader.Tests` projektu.</span><span class="sxs-lookup"><span data-stu-id="d844b-221">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="d844b-222">Přejděte `Returns_News_Stories_Given_Valid_Uri` testování a změňte typ `result` proměnnou `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="d844b-222">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="d844b-223">Změna typu znamená, že `Count` vlastnost již není k dispozici, takže nahradit `Count` vlastnost `Assert` voláním `Any()`:</span><span class="sxs-lookup"><span data-stu-id="d844b-223">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="d844b-224">Bude potřeba přidat `using System.Linq` příkaz na začátek souboru také.</span><span class="sxs-lookup"><span data-stu-id="d844b-224">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="d844b-225">Tato sada změn zvýrazní zvláštní pozornost při aktualizaci kódu, který obsahuje obecných instancích.</span><span class="sxs-lookup"><span data-stu-id="d844b-225">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="d844b-226">V seznamu a prvky v seznamu typů Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-226">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="d844b-227">Jeden nebo oba, může být typy připouštějící hodnotu Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-227">Either or both could be nullable types.</span></span> <span data-ttu-id="d844b-228">Jsou povoleny všechny následující deklarace:</span><span class="sxs-lookup"><span data-stu-id="d844b-228">All the following declarations are allowed:</span></span>

- <span data-ttu-id="d844b-229">`List<NewsStoryViewModel>`: nemá seznam nonullable Zobrazit modely.</span><span class="sxs-lookup"><span data-stu-id="d844b-229">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="d844b-230">`List<NewsStoryViewModel?>`: nemá seznam modelů zobrazení s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-230">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="d844b-231">`List<NewsStoryViewModel>?`: seznam nonnullable Zobrazit modely s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-231">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="d844b-232">`List<NewsStoryViewModel?>?`: s možnou hodnotou Null seznamu modelů zobrazení s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="d844b-232">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="d844b-233">Rozhraní s externí kód</span><span class="sxs-lookup"><span data-stu-id="d844b-233">Interfaces with external code</span></span>

<span data-ttu-id="d844b-234">Změny provedené `NewsService` třídy, takže zapnout `#nullable enable` anotace pro danou třídu.</span><span class="sxs-lookup"><span data-stu-id="d844b-234">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="d844b-235">Nebudou se generovat žádné nové upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-235">This won't generate any new warnings.</span></span> <span data-ttu-id="d844b-236">Prohlídkou třídy pomáhá ale objasňuje některé omezení kompilátoru analýzy toku.</span><span class="sxs-lookup"><span data-stu-id="d844b-236">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="d844b-237">Prozkoumejte konstruktoru:</span><span class="sxs-lookup"><span data-stu-id="d844b-237">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="d844b-238">`IMapper` Parametr zadán jako odkaz nemá.</span><span class="sxs-lookup"><span data-stu-id="d844b-238">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="d844b-239">Je volána metodou kód infrastruktury ASP.NET Core, aby kompilátor nebude vědět ve skutečnosti, že `IMapper` bude mít nikdy hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="d844b-239">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="d844b-240">Výchozí kontejner vkládání (DI) závislostí ASP.NET Core vyvolá výjimku, pokud nelze přeložit potřebné služby, takže kód je správný.</span><span class="sxs-lookup"><span data-stu-id="d844b-240">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="d844b-241">Kompilátor nemůže ověřit všechna volání do veřejných rozhraní API, i v případě, že váš kód je zkompilován s kontexty poznámky s možnou hodnotou Null povolené.</span><span class="sxs-lookup"><span data-stu-id="d844b-241">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="d844b-242">Kromě toho mohou být využívány knihoven pro projekty, které ještě nebyly přihlášení ke službě použití typů s povolenou hodnotou Null reference.</span><span class="sxs-lookup"><span data-stu-id="d844b-242">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="d844b-243">Ověření vstupy pro veřejné rozhraní API, i když jste je deklarován jako typy nemá.</span><span class="sxs-lookup"><span data-stu-id="d844b-243">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="d844b-244">Získat kód</span><span class="sxs-lookup"><span data-stu-id="d844b-244">Get the code</span></span>

<span data-ttu-id="d844b-245">Vyřešili jsme upozornění jste identifikovali v počáteční test kompilace, takže teď můžete zapnout kontextu s možnou hodnotou Null Poznámka u obou projektů.</span><span class="sxs-lookup"><span data-stu-id="d844b-245">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="d844b-246">Znovu sestavte projekty; Kompilátor oznámí žádná upozornění.</span><span class="sxs-lookup"><span data-stu-id="d844b-246">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="d844b-247">Můžete získat kód pro dokončení projektu v [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) úložiště GitHub.</span><span class="sxs-lookup"><span data-stu-id="d844b-247">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="d844b-248">Nové funkce, které podporují připouštějící hodnotu NULL referenční typy pomáhají nacházet a opravte potenciální chyby v tom, jak zpracovat `null` hodnoty ve vašem kódu.</span><span class="sxs-lookup"><span data-stu-id="d844b-248">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="d844b-249">Povolení kontextu s možnou hodnotou Null poznámky umožňuje vyjádřit záměr vašeho návrhu: Některé proměnné by měl mít nikdy hodnotu null, jiné proměnné můžou obsahovat hodnoty null.</span><span class="sxs-lookup"><span data-stu-id="d844b-249">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="d844b-250">Tyto funkce usnadnění deklarovat máte v úmyslu návrhu.</span><span class="sxs-lookup"><span data-stu-id="d844b-250">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="d844b-251">Podobně s možnou hodnotou Null kontext upozornění instruuje kompilátor, aby upozornění na problém při mají porušení tohoto záměru.</span><span class="sxs-lookup"><span data-stu-id="d844b-251">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="d844b-252">Upozornění Průvodce, abyste provedli aktualizace, které váš kód odolné a méně pravděpodobně vyvolá výjimku `NullReferenceException` během provádění.</span><span class="sxs-lookup"><span data-stu-id="d844b-252">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="d844b-253">Rozsah těchto kontextech můžete řídit, abyste se mohli zaměřit na místní oblasti kódu pro migraci zbývající codebase je beze změny.</span><span class="sxs-lookup"><span data-stu-id="d844b-253">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="d844b-254">V praxi můžete provést migrace úloh součástí pravidelné údržby do vaší třídy.</span><span class="sxs-lookup"><span data-stu-id="d844b-254">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="d844b-255">V tomto kurzu jsme vám ukázali postup, jak migrovat aplikace pro použití s možnou hodnotou NULL referenční typy.</span><span class="sxs-lookup"><span data-stu-id="d844b-255">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="d844b-256">Větší reálný příklad tohoto procesu můžete prozkoumat prozkoumáním žádosti o přijetí změn [Jon Skeet](https://github.com/jskeet) provedené obsahovat typy s možnou hodnotou Null odkazů do [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="d844b-256">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span>
