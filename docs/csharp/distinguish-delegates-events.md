---
title: Rozlišování delegátů a událostí
description: Informace o rozdílu mezi Delegáti a události a kdy se má používat každý z těchto funkcí .NET Core.
ms.date: 06/20/2016
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 2f9c26519d93314f4991829191723df5426b23b7
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61646641"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="22443-103">Rozlišování delegátů a událostí</span><span class="sxs-lookup"><span data-stu-id="22443-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="22443-104">Předchozí</span><span class="sxs-lookup"><span data-stu-id="22443-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="22443-105">Vývojáři, kteří jsou nové pro platformu .NET Core často zápasí při rozhodování mezi návrh na základě `delegates` a návrhu na základě `events`.</span><span class="sxs-lookup"><span data-stu-id="22443-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="22443-106">To je koncept obtížné, protože dvě jazykové funkce jsou velmi podobné.</span><span class="sxs-lookup"><span data-stu-id="22443-106">This is a difficult concept, because the two language features are very similar.</span></span> <span data-ttu-id="22443-107">Události se ještě sestavují jazykovou podporu pro delegáty.</span><span class="sxs-lookup"><span data-stu-id="22443-107">Events are even built using the language support for delegates.</span></span> 

<span data-ttu-id="22443-108">Obě nabízejí pozdní vazby scénář: umožňují scénáře, ve kterém komponentu komunikuje pomocí volání metody, který je znám pouze za běhu.</span><span class="sxs-lookup"><span data-stu-id="22443-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="22443-109">Obě podporují odběratele jednotlivých i několika metod.</span><span class="sxs-lookup"><span data-stu-id="22443-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="22443-110">Může být pro vás tato podpora označované jako singlecast a vícesměrového vysílání.</span><span class="sxs-lookup"><span data-stu-id="22443-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="22443-111">Oba podporuje podobné syntaxi pro přidávání a odebírání obslužných rutin.</span><span class="sxs-lookup"><span data-stu-id="22443-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="22443-112">Nakonec použijte vyvolání události a volání delegáta přesně stejné syntaxe volání metody.</span><span class="sxs-lookup"><span data-stu-id="22443-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="22443-113">Dokonce i podporují stejné `Invoke()` syntaxe využívající metody pro použití se službou `?.` operátor.</span><span class="sxs-lookup"><span data-stu-id="22443-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="22443-114">Pomocí těchto podobnosti se snadno mít potíže s určením, kdy co použít.</span><span class="sxs-lookup"><span data-stu-id="22443-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="22443-115">Naslouchání události je nepovinné</span><span class="sxs-lookup"><span data-stu-id="22443-115">Listening to Events is Optional</span></span>

<span data-ttu-id="22443-116">Nejdůležitější význam při určování, kterou funkci používat jazyk je zda musí být připojené odběratele.</span><span class="sxs-lookup"><span data-stu-id="22443-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="22443-117">Pokud musí váš kód volat kód poskytnutých odběratele, měli byste použít architekturu založenou na delegáty.</span><span class="sxs-lookup"><span data-stu-id="22443-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates.</span></span> <span data-ttu-id="22443-118">Pokud váš kód může dokončit svou práci bez nutnosti volat všechny předplatitele, měli byste použít návrhu na základě událostí.</span><span class="sxs-lookup"><span data-stu-id="22443-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span> 

<span data-ttu-id="22443-119">Je třeba brát příklady vytvořené během této části.</span><span class="sxs-lookup"><span data-stu-id="22443-119">Consider the examples built during this section.</span></span> <span data-ttu-id="22443-120">Kód, který jste vytvořili pomocí `List.Sort()` musí předávat funkci porovnávače aby bylo možné správně řadí prvky.</span><span class="sxs-lookup"><span data-stu-id="22443-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="22443-121">Je potřeba zadat dotazů LINQ s delegáty aby bylo možné určit, které prvky k vrácení.</span><span class="sxs-lookup"><span data-stu-id="22443-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="22443-122">Používá návrhu vytvořených pomocí delegátů.</span><span class="sxs-lookup"><span data-stu-id="22443-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="22443-123">Vezměte v úvahu `Progress` událostí.</span><span class="sxs-lookup"><span data-stu-id="22443-123">Consider the `Progress` event.</span></span> <span data-ttu-id="22443-124">To zobrazuje průběh úlohy.</span><span class="sxs-lookup"><span data-stu-id="22443-124">It reports progress on a task.</span></span>
<span data-ttu-id="22443-125">Úloha bude nadále pokračovat, jestli jsou všechny moduly pro naslouchání.</span><span class="sxs-lookup"><span data-stu-id="22443-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="22443-126">`FileSearcher` Je další příklad.</span><span class="sxs-lookup"><span data-stu-id="22443-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="22443-127">Stále by Hledat a najít všechny soubory, které byly usilovaly, i s žádné odběratelů událostí, které jsou připojené.</span><span class="sxs-lookup"><span data-stu-id="22443-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="22443-128">Ovládací prvky uživatelského rozhraní i nadále fungovat správně, i když neexistují žádné předplatitele naslouchání události.</span><span class="sxs-lookup"><span data-stu-id="22443-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="22443-129">Obě používají návrhy na základě událostí.</span><span class="sxs-lookup"><span data-stu-id="22443-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="22443-130">Návratové hodnoty vyžadují delegátů</span><span class="sxs-lookup"><span data-stu-id="22443-130">Return Values Require Delegates</span></span>

<span data-ttu-id="22443-131">Dalším aspektem je prototyp metody, které je vhodné pro vaše metody delegáta.</span><span class="sxs-lookup"><span data-stu-id="22443-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="22443-132">Jak už víte, delegáty používané pro všechny události mají návratový typ void.</span><span class="sxs-lookup"><span data-stu-id="22443-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="22443-133">Také jste viděli, že jsou idiomy pro vytváření obslužných rutin událostí, které předávají informace zpět do zdroje událostí prostřednictvím úpravy vlastností objektu argumentu události.</span><span class="sxs-lookup"><span data-stu-id="22443-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="22443-134">I když tyto idiomy fungují, nejsou jako přirozené jako návratová hodnota z metody.</span><span class="sxs-lookup"><span data-stu-id="22443-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="22443-135">Všimněte si, že tyto dvě heuristickými metodami může často vyskytovat současně: Pokud vaše metody delegáta vrací hodnotu, bude pravděpodobně ovlivňovat algoritmus nějakým způsobem.</span><span class="sxs-lookup"><span data-stu-id="22443-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="22443-136">Naslouchacích procesů událostí často mají delší životnost</span><span class="sxs-lookup"><span data-stu-id="22443-136">Event Listeners Often Have Longer Lifetimes</span></span> 

<span data-ttu-id="22443-137">Toto je mírně slabší odůvodnění.</span><span class="sxs-lookup"><span data-stu-id="22443-137">This is a slightly weaker justification.</span></span> <span data-ttu-id="22443-138">Však můžete zjistit, že jsou založené na událostech návrhy přirozenější při zdroje událostí se vyvolání události po dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="22443-138">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="22443-139">Můžete zobrazit příklady pro ovládací prvky uživatelského rozhraní na více systémů.</span><span class="sxs-lookup"><span data-stu-id="22443-139">You can see examples of this for UX controls on many systems.</span></span> <span data-ttu-id="22443-140">Jakmile se přihlásíte k odběru události, zdroj události může vyvolat události v rámci životnosti programu.</span><span class="sxs-lookup"><span data-stu-id="22443-140">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="22443-141">(Můžete zrušit odběr události, kdy je už nepotřebujete.)</span><span class="sxs-lookup"><span data-stu-id="22443-141">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="22443-142">Oproti, který mnoho delegáta návrhy, kde delegáta se používá jako argument pro metodu a delegáta se nepoužívá po návratu tato metoda.</span><span class="sxs-lookup"><span data-stu-id="22443-142">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="22443-143">Pečlivě vyhodnotit</span><span class="sxs-lookup"><span data-stu-id="22443-143">Evaluate Carefully</span></span>

<span data-ttu-id="22443-144">Výše uvedené požadavky nejsou pevné a rychlé pravidla.</span><span class="sxs-lookup"><span data-stu-id="22443-144">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="22443-145">Místo toho které představují pokyny, které vám můžou pomoct rozhodnout, které je nejvhodnější pro vaše konkrétní použití.</span><span class="sxs-lookup"><span data-stu-id="22443-145">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="22443-146">Protože jsou podobné, můžete dokonce prototypu i a zvažte, který bude přirozenější pro práci s.</span><span class="sxs-lookup"><span data-stu-id="22443-146">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="22443-147">Oba dobře zvládnout pozdní vazby scénáře.</span><span class="sxs-lookup"><span data-stu-id="22443-147">They both handle late binding scenarios well.</span></span> <span data-ttu-id="22443-148">Použijte ten, který komunikuje návrhu nejvhodnější.</span><span class="sxs-lookup"><span data-stu-id="22443-148">Use the one that communicates your design the best.</span></span>
