---
title: Soubory signatur
description: Naučte se používat F# soubory signatur k ukládání informací o veřejných podpisech sady prvků F# programu, jako jsou typy, obory názvů a moduly.
ms.date: 06/15/2018
ms.openlocfilehash: c04ac8bf4ee360a2caa15be8f2bbea41105bd160
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/30/2019
ms.locfileid: "68627151"
---
# <a name="signatures"></a><span data-ttu-id="3e953-103">Podpisy</span><span class="sxs-lookup"><span data-stu-id="3e953-103">Signatures</span></span>

<span data-ttu-id="3e953-104">Podpisový soubor obsahuje informace o veřejných podpisech sady prvků F# programu, jako jsou typy, obory názvů a moduly.</span><span class="sxs-lookup"><span data-stu-id="3e953-104">A signature file contains information about the public signatures of a set of F# program elements, such as types, namespaces, and modules.</span></span> <span data-ttu-id="3e953-105">Dá se použít k určení přístupnosti těchto prvků programu.</span><span class="sxs-lookup"><span data-stu-id="3e953-105">It can be used to specify the accessibility of these program elements.</span></span>

## <a name="remarks"></a><span data-ttu-id="3e953-106">Poznámky</span><span class="sxs-lookup"><span data-stu-id="3e953-106">Remarks</span></span>

<span data-ttu-id="3e953-107">Pro každý F# soubor kódu můžete mít *soubor signatury*, což je soubor, který má stejný název jako soubor kódu, ale s příponou. fsi namísto. FS.</span><span class="sxs-lookup"><span data-stu-id="3e953-107">For each F# code file, you can have a *signature file*, which is a file that has the same name as the code file but with the extension .fsi instead of .fs.</span></span> <span data-ttu-id="3e953-108">Soubory signatur lze také přidat do příkazového řádku kompilace, pokud používáte příkazový řádek přímo.</span><span class="sxs-lookup"><span data-stu-id="3e953-108">Signature files can also be added to the compilation command-line if you are using the command line directly.</span></span> <span data-ttu-id="3e953-109">Aby bylo možné rozlišovat soubory kódu a soubory signatur, soubory kódu jsou někdy označovány jako *implementační soubory*.</span><span class="sxs-lookup"><span data-stu-id="3e953-109">To distinguish between code files and signature files, code files are sometimes referred to as *implementation files*.</span></span> <span data-ttu-id="3e953-110">V projektu by měl soubor podpisu předcházet přidruženému souboru kódu.</span><span class="sxs-lookup"><span data-stu-id="3e953-110">In a project, the signature file should precede the associated code file.</span></span>

<span data-ttu-id="3e953-111">Soubor signatury popisuje obory názvů, moduly, typy a členy v příslušném implementačním souboru.</span><span class="sxs-lookup"><span data-stu-id="3e953-111">A signature file describes the namespaces, modules, types, and members in the corresponding implementation file.</span></span> <span data-ttu-id="3e953-112">Informace v souboru signatury můžete použít k určení, které části kódu v příslušném implementačním souboru jsou k dispozici z kódu mimo implementační soubor a které části jsou interní pro implementační soubor.</span><span class="sxs-lookup"><span data-stu-id="3e953-112">You use the information in a signature file to specify what parts of the code in the corresponding implementation file can be accessed from code outside the implementation file, and what parts are internal to the implementation file.</span></span> <span data-ttu-id="3e953-113">Obory názvů, moduly a typy, které jsou součástí souboru signatury, musí být podmnožinou oborů názvů, modulů a typů, které jsou součástí implementačního souboru.</span><span class="sxs-lookup"><span data-stu-id="3e953-113">The namespaces, modules, and types that are included in the signature file must be a subset of the namespaces, modules, and types that are included in the implementation file.</span></span> <span data-ttu-id="3e953-114">S některými výjimkami, které jsou uvedeny dále v tomto tématu, jsou tyto prvky jazyka, které nejsou uvedeny v souboru signatury, považovány za soukromé pro implementační soubor.</span><span class="sxs-lookup"><span data-stu-id="3e953-114">With some exceptions noted later in this topic, those language elements that are not listed in the signature file are considered private to the implementation file.</span></span> <span data-ttu-id="3e953-115">Pokud se v projektu nebo příkazovém řádku nenalezne žádný soubor s podpisem, použije se výchozí přístupnost.</span><span class="sxs-lookup"><span data-stu-id="3e953-115">If no signature file is found in the project or command line, the default accessibility is used.</span></span>

<span data-ttu-id="3e953-116">Další informace o výchozím usnadnění najdete v tématu [Access Control](access-control.md).</span><span class="sxs-lookup"><span data-stu-id="3e953-116">For more information about the default accessibility, see [Access Control](access-control.md).</span></span>

<span data-ttu-id="3e953-117">V souboru signatury neopakujete definici typů a implementací každé metody nebo funkce.</span><span class="sxs-lookup"><span data-stu-id="3e953-117">In a signature file, you do not repeat the definition of the types and the implementations of each method or function.</span></span> <span data-ttu-id="3e953-118">Místo toho použijte signaturu pro každou metodu a funkci, která funguje jako kompletní specifikace funkcí, které jsou implementovány pomocí modulu nebo fragmentu oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="3e953-118">Instead, you use the signature for each method and function, which acts as a complete specification of the functionality that is implemented by a module or namespace fragment.</span></span> <span data-ttu-id="3e953-119">Syntaxe pro podpis typu je stejná jako ta, která se používá v deklaracích abstraktních metod v rozhraních a abstraktních třídách, a je zobrazena také F# pomocí technologie IntelliSense a překladače FSI. exe, když zobrazuje správně kompilovaný vstup.</span><span class="sxs-lookup"><span data-stu-id="3e953-119">The syntax for a type signature is the same as that used in abstract method declarations in interfaces and abstract classes, and is also shown by IntelliSense and by the F# interpreter fsi.exe when it displays correctly compiled input.</span></span>

<span data-ttu-id="3e953-120">Pokud není k dispozici dostatek informací v signatuře typu k určení, zda je typ zapečetěn nebo zda se jedná o typ rozhraní, je nutné přidat atribut, který označuje povahu typu kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="3e953-120">If there is not enough information in the type signature to indicate whether a type is sealed, or whether it is an interface type, you must add an attribute that indicates the nature of the type to the compiler.</span></span> <span data-ttu-id="3e953-121">Atributy, které pro tento účel použijete, jsou popsány v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="3e953-121">Attributes that you use for this purpose are described in the following table.</span></span>

|<span data-ttu-id="3e953-122">Atribut</span><span class="sxs-lookup"><span data-stu-id="3e953-122">Attribute</span></span>|<span data-ttu-id="3e953-123">Popis</span><span class="sxs-lookup"><span data-stu-id="3e953-123">Description</span></span>|
|---------|-----------|
|`[<Sealed>]`|<span data-ttu-id="3e953-124">Pro typ, který nemá žádné abstraktní členy nebo by neměl být rozšířen.</span><span class="sxs-lookup"><span data-stu-id="3e953-124">For a type that has no abstract members, or that should not be extended.</span></span>|
|`[<Interface>]`|<span data-ttu-id="3e953-125">Pro typ, který je rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3e953-125">For a type that is an interface.</span></span>|

<span data-ttu-id="3e953-126">Kompilátor vytvoří chybu, pokud atributy nejsou konzistentní mezi signaturou a deklarací v implementačním souboru.</span><span class="sxs-lookup"><span data-stu-id="3e953-126">The compiler produces an error if the attributes are not consistent between the signature and the declaration in the implementation file.</span></span>

<span data-ttu-id="3e953-127">Pomocí klíčového `val` slova vytvořte podpis hodnoty nebo hodnoty funkce.</span><span class="sxs-lookup"><span data-stu-id="3e953-127">Use the keyword `val` to create a signature for a value or function value.</span></span> <span data-ttu-id="3e953-128">Klíčové slovo `type` zavádí signaturu typu.</span><span class="sxs-lookup"><span data-stu-id="3e953-128">The keyword `type` introduces a type signature.</span></span>

<span data-ttu-id="3e953-129">Podpisový soubor můžete vygenerovat pomocí `--sig` možnosti kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="3e953-129">You can generate a signature file by using the `--sig` compiler option.</span></span> <span data-ttu-id="3e953-130">Obecně není nutné zapisovat soubory. fsi ručně.</span><span class="sxs-lookup"><span data-stu-id="3e953-130">Generally, you do not write .fsi files manually.</span></span> <span data-ttu-id="3e953-131">Místo toho vygenerujete soubory. fsi pomocí kompilátoru, přidáte je do projektu, pokud ho máte, a upravíte je odebráním metod a funkcí, které nechcete zpřístupnit.</span><span class="sxs-lookup"><span data-stu-id="3e953-131">Instead, you generate .fsi files by using the compiler, add them to your project, if you have one, and edit them by removing methods and functions that you do not want to be accessible.</span></span>

<span data-ttu-id="3e953-132">K dispozici je několik pravidel pro signatury typů:</span><span class="sxs-lookup"><span data-stu-id="3e953-132">There are several rules for type signatures:</span></span>

- <span data-ttu-id="3e953-133">Zkratky typu v implementačním souboru nesmí odpovídat typu bez zkratky v souboru signatury.</span><span class="sxs-lookup"><span data-stu-id="3e953-133">Type abbreviations in an implementation file must not match a type without an abbreviation in a signature file.</span></span>

- <span data-ttu-id="3e953-134">Záznamy a rozlišené sjednocení musí zveřejnit buď všechna pole, nebo žádná z jejich polí a konstruktorů a pořadí v signatuře musí odpovídat pořadí v implementačním souboru.</span><span class="sxs-lookup"><span data-stu-id="3e953-134">Records and discriminated unions must expose either all or none of their fields and constructors, and the order in the signature must match the order in the implementation file.</span></span> <span data-ttu-id="3e953-135">Třídy mohou odhalit některá, všechna nebo žádná z jejich polí a metod v signatuře.</span><span class="sxs-lookup"><span data-stu-id="3e953-135">Classes can reveal some, all, or none of their fields and methods in the signature.</span></span>

- <span data-ttu-id="3e953-136">Třídy a struktury, které mají konstruktory, musí vystavit deklarace svých základních tříd `inherits` (deklarace).</span><span class="sxs-lookup"><span data-stu-id="3e953-136">Classes and structures that have constructors must expose the declarations of their base classes (the `inherits` declaration).</span></span> <span data-ttu-id="3e953-137">Třídy a struktury, které mají konstruktory, musí také vystavit všechny abstraktní metody a deklarace rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3e953-137">Also, classes and structures that have constructors must expose all of their abstract methods and interface declarations.</span></span>

- <span data-ttu-id="3e953-138">Typy rozhraní musí odhalit všechny metody a rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3e953-138">Interface types must reveal all their methods and interfaces.</span></span>

<span data-ttu-id="3e953-139">Pravidla pro signatury hodnot jsou následující:</span><span class="sxs-lookup"><span data-stu-id="3e953-139">The rules for value signatures are as follows:</span></span>

- <span data-ttu-id="3e953-140">Modifikátory pro přístupnost (`public`, `internal`a `inline` tak dále) a modifikátory a `mutable` v signatuře se musí shodovat s modifikátory v implementaci.</span><span class="sxs-lookup"><span data-stu-id="3e953-140">Modifiers for accessibility (`public`, `internal`, and so on) and the `inline` and `mutable` modifiers in the signature must match those in the implementation.</span></span>

- <span data-ttu-id="3e953-141">Počet parametrů obecného typu (implicitně odvozený nebo explicitně deklarovaný) musí odpovídat a typy a omezení typu v parametrech obecného typu se musí shodovat.</span><span class="sxs-lookup"><span data-stu-id="3e953-141">The number of generic type parameters (either implicitly inferred or explicitly declared) must match, and the types and type constraints in generic type parameters must match.</span></span>

- <span data-ttu-id="3e953-142">Pokud je `Literal` atribut použit, musí se nacházet v signatuře i v implementaci a stejná hodnota literálu musí být použita pro obojí.</span><span class="sxs-lookup"><span data-stu-id="3e953-142">If the `Literal` attribute is used, it must appear in both the signature and the implementation, and the same literal value must be used for both.</span></span>

- <span data-ttu-id="3e953-143">Vzor parametrů (označovaných také jako *aritou*) podpisů a implementací musí být konzistentní.</span><span class="sxs-lookup"><span data-stu-id="3e953-143">The pattern of parameters (also known as the *arity*) of signatures and implementations must be consistent.</span></span>

- <span data-ttu-id="3e953-144">Pokud se názvy parametrů v souboru signatury liší od odpovídajícího implementačního souboru, místo toho se použije název v souboru signatury, což může způsobit problémy při ladění nebo profilaci.</span><span class="sxs-lookup"><span data-stu-id="3e953-144">If parameter names in a signature file differ from the corresponding implementation file, the name in the signature file will be used instead, which may cause issues when debugging or profiling.</span></span> <span data-ttu-id="3e953-145">Pokud chcete být upozorněni na taková neshody, povolte upozornění 3218 v souboru projektu nebo při vyvolání kompilátoru (viz část `--warnon` [Možnosti kompilátoru](compiler-options.md)).</span><span class="sxs-lookup"><span data-stu-id="3e953-145">If you wish to be notified of such mismatches, enable warning 3218 in your project file or when invoking the compiler (see `--warnon` under [Compiler Options](compiler-options.md)).</span></span>

<span data-ttu-id="3e953-146">Následující příklad kódu ukazuje příklad souboru signatury, který má obor názvů, modul, hodnotu funkce a signatury typu společně s příslušnými atributy.</span><span class="sxs-lookup"><span data-stu-id="3e953-146">The following code example shows an example of a signature file that has namespace, module, function value, and type signatures together with the appropriate attributes.</span></span> <span data-ttu-id="3e953-147">Zobrazuje také odpovídající implementační soubor.</span><span class="sxs-lookup"><span data-stu-id="3e953-147">It also shows the corresponding implementation file.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssignatures/snippet9002.fs)]

<span data-ttu-id="3e953-148">Následující kód ukazuje implementační soubor.</span><span class="sxs-lookup"><span data-stu-id="3e953-148">The following code shows the implementation file.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssignatures/snippet9001.fs)]

## <a name="see-also"></a><span data-ttu-id="3e953-149">Viz také:</span><span class="sxs-lookup"><span data-stu-id="3e953-149">See also</span></span>

- [<span data-ttu-id="3e953-150">Referenční dokumentace jazyka F#</span><span class="sxs-lookup"><span data-stu-id="3e953-150">F# Language Reference</span></span>](index.md)
- [<span data-ttu-id="3e953-151">Řízení přístupu</span><span class="sxs-lookup"><span data-stu-id="3e953-151">Access Control</span></span>](access-control.md)
- [<span data-ttu-id="3e953-152">Možnosti kompilátoru</span><span class="sxs-lookup"><span data-stu-id="3e953-152">Compiler Options</span></span>](compiler-options.md)
