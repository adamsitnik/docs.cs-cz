---
title: 'Postupy: Definování obecného typu pomocí generování reflexe'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- generics [.NET Framework], dynamic types
- reflection emit, generic types
ms.assetid: 07d5f01a-7b5b-40ea-9b15-f21561098fe4
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: b129da00fcd841566a4a823d8929348441d0a0f3
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61793247"
---
# <a name="how-to-define-a-generic-type-with-reflection-emit"></a><span data-ttu-id="7ec94-102">Postupy: Definování obecného typu pomocí generování reflexe</span><span class="sxs-lookup"><span data-stu-id="7ec94-102">How to: Define a Generic Type with Reflection Emit</span></span>
<span data-ttu-id="7ec94-103">Toto téma ukazuje, jak vytvořit jednoduchý obecný typ s dvěma parametry typu, jak použít omezení třídy, omezení rozhraní a zvláštní omezení pro parametry typu a jak vytvořit členy, které používají parametry typu třídy jako typy parametrů a návratové typy.</span><span class="sxs-lookup"><span data-stu-id="7ec94-103">This topic shows how to create a simple generic type with two type parameters, how to apply class constraints, interface constraints, and special constraints to the type parameters, and how to create members that use the type parameters of the class as parameter types and return types.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="7ec94-104">Metoda není obecná jen proto, že patří obecnému typu a používá parametry typu daného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-104">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="7ec94-105">Metoda je obecná pouze v případě, že má svůj vlastní seznam parametrů typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-105">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="7ec94-106">Většina metod v obecných typech nejsou obecné, jako v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-106">Most methods on generic types are not generic, as in this example.</span></span> <span data-ttu-id="7ec94-107">Příklad výstupu obecné metody, naleznete v tématu [jak: Definování obecné metody pomocí reflexe generování](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="7ec94-107">For an example of emitting a generic method, see [How to: Define a Generic Method with Reflection Emit](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-type"></a><span data-ttu-id="7ec94-108">K definování obecného typu</span><span class="sxs-lookup"><span data-stu-id="7ec94-108">To define a generic type</span></span>  
  
1. <span data-ttu-id="7ec94-109">Definujte dynamické sestavení s názvem `GenericEmitExample1`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-109">Define a dynamic assembly named `GenericEmitExample1`.</span></span> <span data-ttu-id="7ec94-110">V tomto příkladu je sestavení spustí a uložit na disk, tak <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> je zadán.</span><span class="sxs-lookup"><span data-stu-id="7ec94-110">In this example, the assembly is executed and saved to disk, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span>  
  
     [!code-cpp[EmitGenericType#2](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#2)]
     [!code-csharp[EmitGenericType#2](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#2)]
     [!code-vb[EmitGenericType#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#2)]  
  
2. <span data-ttu-id="7ec94-111">Definování dynamického modulu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-111">Define a dynamic module.</span></span> <span data-ttu-id="7ec94-112">Sestavení se skládá z spustitelných modulů.</span><span class="sxs-lookup"><span data-stu-id="7ec94-112">An assembly is made up of executable modules.</span></span> <span data-ttu-id="7ec94-113">Pro jeden modul sestavení název modulu je stejný jako název sestavení a název souboru je název modulu s příponou.</span><span class="sxs-lookup"><span data-stu-id="7ec94-113">For a single-module assembly, the module name is the same as the assembly name, and the file name is the module name plus an extension.</span></span>  
  
     [!code-cpp[EmitGenericType#3](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#3)]
     [!code-csharp[EmitGenericType#3](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#3)]
     [!code-vb[EmitGenericType#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#3)]  
  
3. <span data-ttu-id="7ec94-114">Definice třídy.</span><span class="sxs-lookup"><span data-stu-id="7ec94-114">Define a class.</span></span> <span data-ttu-id="7ec94-115">V tomto příkladu je název třídy `Sample`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-115">In this example, the class is named `Sample`.</span></span>  
  
     [!code-cpp[EmitGenericType#4](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#4)]
     [!code-csharp[EmitGenericType#4](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#4)]
     [!code-vb[EmitGenericType#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#4)]  
  
4. <span data-ttu-id="7ec94-116">Definujte parametry obecného typu metody `Sample` předáním pole řetězců obsahujícího názvy parametrů metodě <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7ec94-116">Define the generic type parameters of `Sample` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="7ec94-117">Díky tomu třídy obecného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-117">This makes the class a generic type.</span></span> <span data-ttu-id="7ec94-118">Vrácená hodnota je pole <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objekty, které představují parametry typu, které je možné použít v emitovaný kód.</span><span class="sxs-lookup"><span data-stu-id="7ec94-118">The return value is an array of <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the type parameters, which can be used in your emitted code.</span></span>  
  
     <span data-ttu-id="7ec94-119">V následujícím kódu `Sample` stane obecný typ s parametry typu `TFirst` a `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-119">In the following code, `Sample` becomes a generic type with type parameters `TFirst` and `TSecond`.</span></span> <span data-ttu-id="7ec94-120">Chcete-li kód lépe čitelný, každý <xref:System.Reflection.Emit.GenericTypeParameterBuilder> je umístěn v proměnné se stejným názvem jako parametr typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-120">To make the code easier to read, each <xref:System.Reflection.Emit.GenericTypeParameterBuilder> is placed in a variable with the same name as the type parameter.</span></span>  
  
     [!code-cpp[EmitGenericType#5](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#5)]
     [!code-csharp[EmitGenericType#5](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#5)]
     [!code-vb[EmitGenericType#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#5)]  
  
5. <span data-ttu-id="7ec94-121">Těmto parametrům typu přidáte zvláštní omezení.</span><span class="sxs-lookup"><span data-stu-id="7ec94-121">Add special constraints to the type parameters.</span></span> <span data-ttu-id="7ec94-122">V tomto příkladu zadejte parametr `TFirst` je omezen na typy, které mít konstruktor bez parametrů a typy odkazů.</span><span class="sxs-lookup"><span data-stu-id="7ec94-122">In this example, type parameter `TFirst` is constrained to types that have parameterless constructors, and to reference types.</span></span>  
  
     [!code-cpp[EmitGenericType#6](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#6)]
     [!code-csharp[EmitGenericType#6](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#6)]
     [!code-vb[EmitGenericType#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#6)]  
  
6. <span data-ttu-id="7ec94-123">Volitelně lze těmto parametrům typu přidat omezení rozhraní a třídy.</span><span class="sxs-lookup"><span data-stu-id="7ec94-123">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="7ec94-124">V tomto příkladu zadejte parametr `TFirst` je omezen na typy, které jsou odvozeny od základní třídy, která je reprezentována <xref:System.Type> objektů obsažených v proměnné `baseType`, a které implementují rozhraní, jejichž typy jsou obsaženy v proměnné `interfaceA` a `interfaceB`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-124">In this example, type parameter `TFirst` is constrained to types that derive from the base class represented by the <xref:System.Type> object contained in the variable `baseType`, and that implement the interfaces whose types are contained in the variables `interfaceA` and `interfaceB`.</span></span> <span data-ttu-id="7ec94-125">Podívejte se na příklad kódu pro deklaraci a přiřazení těchto proměnných.</span><span class="sxs-lookup"><span data-stu-id="7ec94-125">See the code example for the declaration and assignment of these variables.</span></span>  
  
     [!code-cpp[EmitGenericType#7](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#7)]
     [!code-csharp[EmitGenericType#7](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#7)]
     [!code-vb[EmitGenericType#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#7)]  
  
7. <span data-ttu-id="7ec94-126">Definování pole.</span><span class="sxs-lookup"><span data-stu-id="7ec94-126">Define a field.</span></span> <span data-ttu-id="7ec94-127">V tomto příkladu je typ pole určená parametr typu `TFirst`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-127">In this example, the type of the field is specified by type parameter `TFirst`.</span></span> <span data-ttu-id="7ec94-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> je odvozen od <xref:System.Type>, abyste mohli používat parametry obecného typu, kdekoli typ lze použít.</span><span class="sxs-lookup"><span data-stu-id="7ec94-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> derives from <xref:System.Type>, so you can use generic type parameters anywhere a type can be used.</span></span>  
  
     [!code-cpp[EmitGenericType#21](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#21)]
     [!code-csharp[EmitGenericType#21](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#21)]
     [!code-vb[EmitGenericType#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#21)]  
  
8. <span data-ttu-id="7ec94-129">Definujte metodu, která používá typ parametry obecného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-129">Define a method that uses the type parameters of the generic type.</span></span> <span data-ttu-id="7ec94-130">Všimněte si, že tyto metody nejsou obecné, pokud nemají své vlastní seznamy parametru typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-130">Note that such methods are not generic unless they have their own type parameter lists.</span></span> <span data-ttu-id="7ec94-131">Následující kód definuje `static` – metoda (`Shared` v jazyce Visual Basic), který přijímá pole `TFirst` a vrátí `List<TFirst>` (`List(Of TFirst)` v jazyce Visual Basic) obsahující všechny prvky pole.</span><span class="sxs-lookup"><span data-stu-id="7ec94-131">The following code defines a `static` method (`Shared` in Visual Basic) that takes an array of `TFirst` and returns a `List<TFirst>` (`List(Of TFirst)` in Visual Basic) containing all the elements of the array.</span></span> <span data-ttu-id="7ec94-132">Pokud chcete definovat tuto metodu, je potřeba vytvořit typ `List<TFirst>` voláním <xref:System.Type.MakeGenericType%2A> v definici obecného typu `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-132">To define this method, it is necessary to create the type `List<TFirst>` by calling <xref:System.Type.MakeGenericType%2A> on the generic type definition, `List<T>`.</span></span> <span data-ttu-id="7ec94-133">( `T` Vynecháte při použití `typeof` – operátor (`GetType` v jazyce Visual Basic) Chcete-li získat definici obecného typu.) Typ parametru je vytvořená pomocí <xref:System.Type.MakeArrayType%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-133">(The `T` is omitted when you use the `typeof` operator (`GetType` in Visual Basic) to get the generic type definition.) The parameter type is created by using the <xref:System.Type.MakeArrayType%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#22](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#22)]
     [!code-csharp[EmitGenericType#22](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#22)]
     [!code-vb[EmitGenericType#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#22)]  
  
9. <span data-ttu-id="7ec94-134">Vygenerování těla metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-134">Emit the method body.</span></span> <span data-ttu-id="7ec94-135">Tělo metody se skládá ze tří operační kódy, které načítají vstupní pole do zásobníku, zavolejte `List<TFirst>` konstruktor, který přijímá `IEnumerable<TFirst>` (který vykonává všechnu práci uvedení vstupních prvků do seznamu) a vrátí (byste museli opustit nové <xref:System.Collections.Generic.List%601> objektu v zásobníku).</span><span class="sxs-lookup"><span data-stu-id="7ec94-135">The method body consists of three opcodes that load the input array onto the stack, call the `List<TFirst>` constructor that takes `IEnumerable<TFirst>` (which does all the work of putting the input elements into the list), and return (leaving the new <xref:System.Collections.Generic.List%601> object on the stack).</span></span> <span data-ttu-id="7ec94-136">Složitou částí vysílat tento kód je stále konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="7ec94-136">The difficult part of emitting this code is getting the constructor.</span></span>  
  
     <span data-ttu-id="7ec94-137"><xref:System.Type.GetConstructor%2A> Metoda není podporována u <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, takže ho není možné získat konstruktoru `List<TFirst>` přímo.</span><span class="sxs-lookup"><span data-stu-id="7ec94-137">The <xref:System.Type.GetConstructor%2A> method is not supported on a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, so it is not possible to get the constructor of `List<TFirst>` directly.</span></span> <span data-ttu-id="7ec94-138">Nejprve je potřeba získat konstruktor třídy definice obecného typu `List<T>` a pak volat metodu, která se převede na odpovídající konstruktor třídy `List<TFirst>`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-138">First, it is necessary to get the constructor of the generic type definition `List<T>` and then to call a method that converts it to the corresponding constructor of `List<TFirst>`.</span></span>  
  
     <span data-ttu-id="7ec94-139">Konstruktor používá pro tento příklad kódu používá `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-139">The constructor used for this code example takes an `IEnumerable<T>`.</span></span> <span data-ttu-id="7ec94-140">Upozorňujeme, že to není definici obecných typů <xref:System.Collections.Generic.IEnumerable%601> obecné rozhraní; místo toho parametr typu `T` z `List<T>` musí nahrazené za parametr typu `T` z `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-140">Note, however, that this is not the generic type definition of the <xref:System.Collections.Generic.IEnumerable%601> generic interface; instead, the type parameter `T` from `List<T>` must be substituted for the type parameter `T` of `IEnumerable<T>`.</span></span> <span data-ttu-id="7ec94-141">(Zdá se, že dojde k záměně pouze, protože oba typy má parametry typu s názvem `T`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-141">(This seems confusing only because both types have type parameters named `T`.</span></span> <span data-ttu-id="7ec94-142">That is, proč tento příklad kódu používá názvy `TFirst` a `TSecond`.) Chcete-li získat typ argumentu konstruktoru, začněte s definice obecného typu `IEnumerable<T>` a volat <xref:System.Type.MakeGenericType%2A> s první parametr obecného typu `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-142">That is why this code example uses the names `TFirst` and `TSecond`.) To get the type of the constructor argument, start with the generic type definition `IEnumerable<T>` and call <xref:System.Type.MakeGenericType%2A> with the first generic type parameter of `List<T>`.</span></span> <span data-ttu-id="7ec94-143">Seznam argumentů konstruktoru v tomto případě musí být předán jako pole s jedním argumentem.</span><span class="sxs-lookup"><span data-stu-id="7ec94-143">The constructor argument list must be passed as an array, with just one argument in this case.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="7ec94-144">Definice obecného typu je vyjádřena jako `IEnumerable<>` při použití `typeof` operátor v jazyce C#, nebo `IEnumerable(Of )` při použití `GetType` operátor v jazyce Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="7ec94-144">The generic type definition is expressed as `IEnumerable<>` when you use the `typeof` operator in C#, or `IEnumerable(Of )` when you use the `GetType` operator in Visual Basic.</span></span>  
  
     <span data-ttu-id="7ec94-145">Nyní je možné získat konstruktoru `List<T>` voláním <xref:System.Type.GetConstructor%2A> v definici obecného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-145">Now it is possible to get the constructor of `List<T>` by calling <xref:System.Type.GetConstructor%2A> on the generic type definition.</span></span> <span data-ttu-id="7ec94-146">Tento konstruktor převést na odpovídající konstruktor třídy `List<TFirst>`, předejte `List<TFirst>` a konstruktoru z `List<T>` statické <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-146">To convert this constructor to the corresponding constructor of `List<TFirst>`, pass `List<TFirst>` and the constructor from `List<T>` to the static <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> method.</span></span>  
  
     [!code-cpp[EmitGenericType#23](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#23)]
     [!code-csharp[EmitGenericType#23](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#23)]
     [!code-vb[EmitGenericType#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#23)]  
  
10. <span data-ttu-id="7ec94-147">Vytvoření typu a soubor uložte.</span><span class="sxs-lookup"><span data-stu-id="7ec94-147">Create the type and save the file.</span></span>  
  
     [!code-cpp[EmitGenericType#8](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#8)]
     [!code-csharp[EmitGenericType#8](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#8)]
     [!code-vb[EmitGenericType#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#8)]  
  
11. <span data-ttu-id="7ec94-148">Vyvolání metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-148">Invoke the method.</span></span> <span data-ttu-id="7ec94-149">`ExampleMethod` není obecný, ale patří do typ není obecný, takže pokud chcete získat <xref:System.Reflection.MethodInfo> , který může být vyvolána je potřeba vytvořit konstruovaný typ z definice typu pro `Sample`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-149">`ExampleMethod` is not generic, but the type it belongs to is generic, so in order to get a <xref:System.Reflection.MethodInfo> that can be invoked it is necessary to create a constructed type from the type definition for `Sample`.</span></span> <span data-ttu-id="7ec94-150">Konstruovaný typ používá `Example` třídu, která splňuje omezení na `TFirst` vzhledem k tomu, že je typem odkazu a má výchozí konstruktor bez parametrů a `ExampleDerived` třída, která splňuje omezení na `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-150">The constructed type uses the `Example` class, which satisfies the constraints on `TFirst` because it is a reference type and has a default parameterless constructor, and the `ExampleDerived` class which satisfies the constraints on `TSecond`.</span></span> <span data-ttu-id="7ec94-151">(Kód `ExampleDerived` najdete v části příklad kódu.) Tyto dva typy jsou předány <xref:System.Type.MakeGenericType%2A> konstruovaný typ vytvoření.</span><span class="sxs-lookup"><span data-stu-id="7ec94-151">(The code for `ExampleDerived` can be found in the example code section.) These two types are passed to <xref:System.Type.MakeGenericType%2A> to create the constructed type.</span></span> <span data-ttu-id="7ec94-152"><xref:System.Reflection.MethodInfo> Se potom získá pomocí <xref:System.Type.GetMethod%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-152">The <xref:System.Reflection.MethodInfo> is then obtained using the <xref:System.Type.GetMethod%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#9](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#9)]
     [!code-csharp[EmitGenericType#9](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#9)]
     [!code-vb[EmitGenericType#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#9)]  
  
12. <span data-ttu-id="7ec94-153">Následující kód vytvoří pole `Example` objektů, umístí takové pole do pole typu <xref:System.Object> představující argumenty metody mají být vyvolány a předává je do <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-153">The following code creates an array of `Example` objects, places that array in an array of type <xref:System.Object> representing the arguments of the method to be invoked, and passes them to the <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> method.</span></span> <span data-ttu-id="7ec94-154">Prvním argumentem funkce <xref:System.Reflection.MethodBase.Invoke%2A> metoda je odkaz s hodnotou null, protože metoda je `static`.</span><span class="sxs-lookup"><span data-stu-id="7ec94-154">The first argument of the <xref:System.Reflection.MethodBase.Invoke%2A> method is a null reference because the method is `static`.</span></span>  
  
     [!code-cpp[EmitGenericType#10](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#10)]
     [!code-csharp[EmitGenericType#10](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#10)]
     [!code-vb[EmitGenericType#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#10)]  
  
## <a name="example"></a><span data-ttu-id="7ec94-155">Příklad</span><span class="sxs-lookup"><span data-stu-id="7ec94-155">Example</span></span>  
 <span data-ttu-id="7ec94-156">Následující příklad kódu definuje třídu s názvem `Sample`, spolu s základní třídu a dvě rozhraní.</span><span class="sxs-lookup"><span data-stu-id="7ec94-156">The following code example defines a class named `Sample`, along with a base class and two interfaces.</span></span> <span data-ttu-id="7ec94-157">Program definuje dva parametry obecného typu pro `Sample`, zapnutí do obecného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-157">The program defines two generic type parameters for `Sample`, turning it into a generic type.</span></span> <span data-ttu-id="7ec94-158">Parametry typu jsou pouze jednu, která provádí obecného typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-158">Type parameters are the only thing that makes a type generic.</span></span> <span data-ttu-id="7ec94-159">Tento program zobrazí zobrazením zkušební zprávu, před a po definování parametrů typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-159">The program shows this by displaying a test message before and after the definition of the type parameters.</span></span>  
  
 <span data-ttu-id="7ec94-160">Parametr typu `TSecond` slouží k předvedení omezení rozhraní a třídy pomocí základní třídy a rozhraní a typ parametru `TFirst` slouží k předvedení zvláštní omezení.</span><span class="sxs-lookup"><span data-stu-id="7ec94-160">The type parameter `TSecond` is used to demonstrate class and interface constraints, using the base class and interfaces, and the type parameter `TFirst` is used to demonstrate special constraints.</span></span>  
  
 <span data-ttu-id="7ec94-161">Příklad kódu definuje pole a metodu pomocí třídy parametry typu pro typ pole a pro parametr a návratový typ metody.</span><span class="sxs-lookup"><span data-stu-id="7ec94-161">The code example defines a field and a method using the class's type parameters for the field type and for the parameter and return type of the method.</span></span>  
  
 <span data-ttu-id="7ec94-162">Po `Sample` třídy se vytvořil, je vyvolána metoda.</span><span class="sxs-lookup"><span data-stu-id="7ec94-162">After the `Sample` class has been created, the method is invoked.</span></span>  
  
 <span data-ttu-id="7ec94-163">Program zahrnuje metodu, která obsahuje informace o obecný typ a metodu, která jsou uvedena zvláštní omezení pro parametr typu.</span><span class="sxs-lookup"><span data-stu-id="7ec94-163">The program includes a method that lists information about a generic type, and a method that lists the special constraints on a type parameter.</span></span> <span data-ttu-id="7ec94-164">Tyto metody slouží k zobrazení informací o dokončené `Sample` třídy.</span><span class="sxs-lookup"><span data-stu-id="7ec94-164">These methods are used to display information about the finished `Sample` class.</span></span>  
  
 <span data-ttu-id="7ec94-165">Program uloží na disk jako dokončené modulu `GenericEmitExample1.dll`, takže ho můžete otevřít [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) a zkontrolovat jazyk MSIL pro `Sample` třídy.</span><span class="sxs-lookup"><span data-stu-id="7ec94-165">The program saves the finished module to disk as `GenericEmitExample1.dll`, so you can open it with the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) and examine the MSIL for the `Sample` class.</span></span>  
  
 [!code-cpp[EmitGenericType#1](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#1)]
 [!code-csharp[EmitGenericType#1](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#1)]
 [!code-vb[EmitGenericType#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#1)]  
  
## <a name="compiling-the-code"></a><span data-ttu-id="7ec94-166">Probíhá kompilace kódu</span><span class="sxs-lookup"><span data-stu-id="7ec94-166">Compiling the Code</span></span>  
  
- <span data-ttu-id="7ec94-167">Obsahuje kód jazyka C# `using` příkazy (`Imports` v jazyce Visual Basic) nezbytné pro kompilaci.</span><span class="sxs-lookup"><span data-stu-id="7ec94-167">The code contains the C# `using` statements (`Imports` in Visual Basic) necessary for compilation.</span></span>  
  
- <span data-ttu-id="7ec94-168">Nejsou vyžadovány žádné odkazy na další sestavení.</span><span class="sxs-lookup"><span data-stu-id="7ec94-168">No additional assembly references are required.</span></span>  
  
- <span data-ttu-id="7ec94-169">Kompilace kódu do příkazového řádku pomocí csc.exe a vbc.exe, cl.exe.</span><span class="sxs-lookup"><span data-stu-id="7ec94-169">Compile the code at the command line using csc.exe, vbc.exe, or cl.exe.</span></span> <span data-ttu-id="7ec94-170">Ke kompilaci kódu v sadě Visual Studio, umístěte ho do šablony projektu konzolové aplikace.</span><span class="sxs-lookup"><span data-stu-id="7ec94-170">To compile the code in Visual Studio, place it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ec94-171">Viz také:</span><span class="sxs-lookup"><span data-stu-id="7ec94-171">See also</span></span>

- <xref:System.Reflection.Emit.GenericTypeParameterBuilder>
- <span data-ttu-id="7ec94-172">[Použití generování reflexe](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="7ec94-172">[Using Reflection Emit](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span></span>
- <span data-ttu-id="7ec94-173">[Scénáře dynamických sestavení generování reflexe](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/tt9483fk(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="7ec94-173">[Reflection Emit Dynamic Assembly Scenarios](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/tt9483fk(v=vs.100))</span></span>
