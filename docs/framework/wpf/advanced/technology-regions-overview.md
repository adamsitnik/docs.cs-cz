---
title: Přehled technologie oblastí
ms.date: 03/30/2017
helpviewer_keywords:
- window regions [WPF]
- Win32 code [WPF], WPF interoperation
- Win32 code [WPF], airspace
- airspace [WPF]
- interoperability [WPF], airspace
- Win32 code [WPF], window regions
ms.assetid: b7cc350f-b9e2-48b1-be14-60f3d853222e
ms.openlocfilehash: 4f1489065a70065700d2f8ceb974e66ecceeebd0
ms.sourcegitcommit: 77e33b682db39955e331b8e8eda4ef1925a24e78
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2019
ms.locfileid: "70133817"
---
# <a name="technology-regions-overview"></a><span data-ttu-id="dcc1a-102">Přehled technologie oblastí</span><span class="sxs-lookup"><span data-stu-id="dcc1a-102">Technology Regions Overview</span></span>
<span data-ttu-id="dcc1a-103">Pokud je v aplikaci použito více prezentačních technologií, například WPF, Win32 nebo DirectX, musí sdílet oblasti vykreslování v rámci společného okna nejvyšší úrovně.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-103">If multiple presentation technologies are used in an application, such as WPF, Win32, or DirectX, they must share the rendering areas within a common top-level window.</span></span> <span data-ttu-id="dcc1a-104">Toto téma popisuje problémy, které mohou ovlivnit prezentaci a vstup pro vaši aplikaci WPF pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-104">This topic describes issues that might influence the presentation and input for your WPF interoperation application.</span></span>  
  
## <a name="regions"></a><span data-ttu-id="dcc1a-105">Regions</span><span class="sxs-lookup"><span data-stu-id="dcc1a-105">Regions</span></span>  
 <span data-ttu-id="dcc1a-106">V rámci okna nejvyšší úrovně můžete conceptualize, že každý HWND, který obsahuje jednu z technologií aplikace vzájemného provozního prostředí, má svou vlastní oblast (označuje se také jako "vzdušný prostor").</span><span class="sxs-lookup"><span data-stu-id="dcc1a-106">Within a top-level window, you can conceptualize that each HWND that comprises one of the technologies of an interoperation application has its own region (also called "airspace").</span></span> <span data-ttu-id="dcc1a-107">Každý pixel v rámci okna patří k přesně jednomu HWND, který představuje oblast tohoto HWND.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-107">Each pixel within the window belongs to exactly one HWND, which constitutes the region of that HWND.</span></span> <span data-ttu-id="dcc1a-108">(Pouze v případě, že [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] existuje více než jeden [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] prvek HWND, ale pro účely této diskuze je možné předpokládat, že existuje pouze jedna oblast).</span><span class="sxs-lookup"><span data-stu-id="dcc1a-108">(Strictly speaking, there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] region if there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] HWND, but for purposes of this discussion, you can assume there is only one).</span></span> <span data-ttu-id="dcc1a-109">Tato oblast znamená, že všechny vrstvy nebo jiné systémy Windows, které se pokoušejí vykreslit nad tento pixel během životního cyklu aplikace, musí být součástí stejné technologie na úrovni vykreslování.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-109">The region implies that all layers or other windows that attempt to render above that pixel during application lifetime must be part of the same render-level technology.</span></span> <span data-ttu-id="dcc1a-110">Pokus o vykreslení [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pixelů v [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] důsledku potenciálních výsledků na nežádoucí výsledky a je v rámci rozhraní API pro prochodování co nejvíce povolen.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-110">Attempting to render [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pixels over [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] leads to undesirable results, and is disallowed as much as possible through the interoperation APIs.</span></span>  
  
### <a name="region-examples"></a><span data-ttu-id="dcc1a-111">Příklady oblastí</span><span class="sxs-lookup"><span data-stu-id="dcc1a-111">Region Examples</span></span>  
 <span data-ttu-id="dcc1a-112">Následující ilustrace znázorňuje aplikaci, která kombinuje [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX a. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</span><span class="sxs-lookup"><span data-stu-id="dcc1a-112">The following illustration shows an application that mixes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX, and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="dcc1a-113">Každá technologie používá svou vlastní samostatnou sadu pixelů, která se nepřekrývá, a nedochází k žádným problémům s oblastí.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-113">Each technology uses its own separate, non-overlapping set of pixels, and there are no region issues.</span></span>  
  
 ![Příklad aplikace, která kombinuje Win32, DirectX a WPF.](./media/technology-regions-overview/win32-directx-windows-presentation-foundation-application.png)  
  
 <span data-ttu-id="dcc1a-115">Předpokládejme, že tato aplikace používá pozici ukazatele myši k vytvoření animace, která se pokusí o vykreslení v kterékoli z těchto tří oblastí.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-115">Suppose that this application uses the mouse pointer position to create an animation that attempts to render over any of these three regions.</span></span> <span data-ttu-id="dcc1a-116">Bez ohledu na to, která technologie byla zodpovědná za samotnou animaci, by tato technologie ponarušila oblast druhé dvě.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-116">No matter which technology was responsible for the animation itself, that technology would violate the region of the other two.</span></span> <span data-ttu-id="dcc1a-117">Následující ilustrace znázorňuje pokus o vykreslení kruhu WPF v oblasti Win32.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-117">The following illustration shows an attempt to render a WPF circle over a Win32 region.</span></span>  
  
 ![Pokus o vykreslení kruhu WPF v oblasti Win32.](./media/technology-regions-overview/render-windows-presentation-foundation-circle-over-win32-region.png)  
  
 <span data-ttu-id="dcc1a-119">Dalším porušením je, že se pokusíte použít prolnutí transparentnosti a alfa mezi různými technologiemi.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-119">Another violation is if you try to use transparency/alpha blending between different technologies.</span></span>  <span data-ttu-id="dcc1a-120">Na následujícím obrázku je toto [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pole v rozporu s [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] oblastmi rozhraní DirectX a.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-120">In the following illustration, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box violates the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and DirectX regions.</span></span> <span data-ttu-id="dcc1a-121">Vzhledem k tomu, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] že pixely v tomto políčku jsou poloprůhledné, musí být vlastněné společně [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]rozhraním DirectX i, což není možné.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-121">Because pixels in that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box are semi-transparent, they would have to be owned jointly by both DirectX and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], which is not possible.</span></span>  <span data-ttu-id="dcc1a-122">To je tak další porušení a nelze je sestavit.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-122">So this is another violation and cannot be built.</span></span>  
  
 ![Diagram znázorňující pole WPF, které porušuje oblasti Win32 a DirectX](./media/technology-regions-overview/windows-foundation-presentation-box-violate-win32-directx-region.png)  
  
 <span data-ttu-id="dcc1a-124">Předchozí tři příklady používaly obdélníkové oblasti, ale možné různé tvary.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-124">The previous three examples used rectangular regions, but different shapes are possible.</span></span>  <span data-ttu-id="dcc1a-125">Například oblast může mít díru.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-125">For example, a region can have a hole.</span></span> <span data-ttu-id="dcc1a-126">Následující ilustrace znázorňuje [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] oblast s obdélníkovou otvorem, což je velikost [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kombinovaných oblastí rozhraní DirectX.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-126">The following illustration shows a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region with a rectangular hole this is the size of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and DirectX regions combined.</span></span>  
  
 ![Diagram, který zobrazuje oblast Win32 s obdélníkovou děr.](./media/technology-regions-overview/win32-region-rectangular-hole.png)  
  
 <span data-ttu-id="dcc1a-128">Oblasti mohou být také zcela nepravoúhlé nebo jakýkoli tvar describable pomocí [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] hrgn (region).</span><span class="sxs-lookup"><span data-stu-id="dcc1a-128">Regions can also be completely nonrectangular, or any shape describable by a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (region).</span></span>  
  
 ![Diagram, který zobrazuje oblast, která není obdélníková](./media/technology-regions-overview/nonrectangular-win32-region.png)  
  
## <a name="transparency-and-top-level-windows"></a><span data-ttu-id="dcc1a-130">Průhlednost a okna nejvyšší úrovně</span><span class="sxs-lookup"><span data-stu-id="dcc1a-130">Transparency and Top-Level Windows</span></span>  
 <span data-ttu-id="dcc1a-131">Správce oken v systému Windows skutečně zpracovává [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWND.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-131">The window manager in Windows only really processes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWNDs.</span></span> <span data-ttu-id="dcc1a-132">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Každý<xref:System.Windows.Window> je proto HWND.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-132">Therefore, every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> is an HWND.</span></span> <span data-ttu-id="dcc1a-133"><xref:System.Windows.Window> HWND musí dodržovat obecná pravidla pro libovolný HWND.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-133">The <xref:System.Windows.Window> HWND must abide by the general rules for any HWND.</span></span> <span data-ttu-id="dcc1a-134">V rámci tohoto HWND [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] může kód dělat bez ohledu na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] celkovou podporu rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-134">Within that HWND, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] code can do whatever the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs support.</span></span> <span data-ttu-id="dcc1a-135">Ale pro interakce s ostatními HWND na ploše se [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] musí [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] dodržovat pravidla zpracování a vykreslování.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-135">But for interactions with other HWNDs on the desktop, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] must abide by [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] processing and rendering rules.</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="dcc1a-136">podporuje nepravoúhlá okna pomocí [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] rozhraní API – HRGNs pro neobdélníková okna a vrstvená okna pro pixely alfa.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-136">supports non-rectangular windows by using [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs—HRGNs for non-rectangular windows, and layered windows for a per-pixel alpha.</span></span>  
  
 <span data-ttu-id="dcc1a-137">Konstantní alfa a barevné klíče se nepodporují.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-137">Constant alpha and color keys are not supported.</span></span>  [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]<span data-ttu-id="dcc1a-138">možnosti vrstveného okna se liší podle platformy.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-138">layered window capabilities vary by platform.</span></span>  
  
 <span data-ttu-id="dcc1a-139">Vrstvená okna mohou mít celé okno průsvitně (částečně transparentní) zadáním hodnoty alfa, která se má použít pro každý pixel v okně.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-139">Layered windows can make the entire window translucent (semi-transparent) by specifying an alpha value to apply to every pixel in the window.</span></span>  <span data-ttu-id="dcc1a-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] ve skutečnosti podporuje pixel alfa, ale je velmi obtížné ho použít v praktických programech, protože v tomto režimu byste museli nakreslit všechny podřízené HWND sami, včetně dialogových oken a rozevíracích seznamů).</span><span class="sxs-lookup"><span data-stu-id="dcc1a-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] in fact supports per-pixel alpha, but this is very difficult to use in practical programs because in this mode you would need to draw any child HWND yourself, including dialogs and dropdowns).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="dcc1a-141">podporuje HRGNs; pro tuto funkci ale neexistují žádná spravovaná rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-141">supports HRGNs; however, there are no managed APIs for this functionality.</span></span> <span data-ttu-id="dcc1a-142">Můžete použít vyvolání platformy a <xref:System.Windows.Interop.HwndSource> volat relevantní [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-142">You can use platform invoke and <xref:System.Windows.Interop.HwndSource> to call the relevant [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs.</span></span> <span data-ttu-id="dcc1a-143">Další informace naleznete v tématu [volání nativních funkcí ze spravovaného kódu](/cpp/dotnet/calling-native-functions-from-managed-code).</span><span class="sxs-lookup"><span data-stu-id="dcc1a-143">For more information, see [Calling Native Functions from Managed Code](/cpp/dotnet/calling-native-functions-from-managed-code).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="dcc1a-144">vrstvená okna mají různé možnosti v různých operačních systémech.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-144">layered windows have different capabilities on different operating systems.</span></span> <span data-ttu-id="dcc1a-145">Důvodem je to [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , že používá rozhraní DirectX k vykreslování a vrstvená okna byla primárně navržena pro vykreslování GDI, nikoli pro vykreslování rozhraní DirectX.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-145">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses DirectX to render, and layered windows were primarily designed for GDI rendering, not DirectX rendering.</span></span>  
  
- <span data-ttu-id="dcc1a-146">WPF podporuje hardwarově akcelerovaná okna s vrstvami.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-146">WPF supports hardware accelerated layered windows.</span></span>  
  
- [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="dcc1a-147">nástroj nepodporuje barevné klíče transparentnosti, protože [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nemůže zaručit, aby vygeneroval přesnou barvu, zejména když je vykreslování hardwarové-urychlené.</span><span class="sxs-lookup"><span data-stu-id="dcc1a-147">does not support transparency color keys, because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cannot guarantee to render the exact color you requested, particularly when rendering is hardware-accelerated.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dcc1a-148">Viz také:</span><span class="sxs-lookup"><span data-stu-id="dcc1a-148">See also</span></span>

- [<span data-ttu-id="dcc1a-149">Vzájemná spolupráce grafického subsystému WPF a systému Win32</span><span class="sxs-lookup"><span data-stu-id="dcc1a-149">WPF and Win32 Interoperation</span></span>](wpf-and-win32-interoperation.md)
- [<span data-ttu-id="dcc1a-150">Návod: Hostování hodin WPF v systému Win32</span><span class="sxs-lookup"><span data-stu-id="dcc1a-150">Walkthrough: Hosting a WPF Clock in Win32</span></span>](walkthrough-hosting-a-wpf-clock-in-win32.md)
- [<span data-ttu-id="dcc1a-151">Hostování obsahu Win32 v subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="dcc1a-151">Hosting Win32 Content in WPF</span></span>](hosting-win32-content-in-wpf.md)
