---
title: 'Postupy: Přidání zpracování třídy pro směrovanou událost'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- routed events [WPF], class handlers
- task_core_add_class_handling_routed_properties [WPF]
- class handlers [WPF], routed events
ms.assetid: 15b7b06c-9112-4ee5-b30a-65d10c5c5df6
ms.openlocfilehash: 7b897954cbdab461dc0305c6290e67c1af5282c3
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/18/2019
ms.locfileid: "59224265"
---
# <a name="how-to-add-class-handling-for-a-routed-event"></a><span data-ttu-id="22f3b-102">Postupy: Přidání zpracování třídy pro směrovanou událost</span><span class="sxs-lookup"><span data-stu-id="22f3b-102">How to: Add Class Handling for a Routed Event</span></span>
<span data-ttu-id="22f3b-103">Směrované události mohou být zpracovávány obslužné rutiny třídy nebo instance obslužné rutiny na libovolném daného uzlu v této trase.</span><span class="sxs-lookup"><span data-stu-id="22f3b-103">Routed events can be handled either by class handlers or instance handlers on any given node in the route.</span></span> <span data-ttu-id="22f3b-104">Obslužné rutiny třídy jsou vyvolány nejprve a je možné pomocí implementace třídy potlačení událostí z instance zpracování nebo zavést další události konkrétní chování na události, které jsou vlastněny základní třídy.</span><span class="sxs-lookup"><span data-stu-id="22f3b-104">Class handlers are invoked first, and can be used by class implementations to suppress events from instance handling or introduce other event specific behaviors on events that are owned by base classes.</span></span> <span data-ttu-id="22f3b-105">Tento příklad ukazuje dva úzce související postupy pro implementaci obslužné rutiny třídy.</span><span class="sxs-lookup"><span data-stu-id="22f3b-105">This example illustrates two closely related techniques for implementing class handlers.</span></span>  
  
## <a name="example"></a><span data-ttu-id="22f3b-106">Příklad</span><span class="sxs-lookup"><span data-stu-id="22f3b-106">Example</span></span>  
 <span data-ttu-id="22f3b-107">Tento příklad používá vlastní třídu založenou na <xref:System.Windows.Controls.Canvas> panel.</span><span class="sxs-lookup"><span data-stu-id="22f3b-107">This example uses a custom class based on the <xref:System.Windows.Controls.Canvas> panel.</span></span> <span data-ttu-id="22f3b-108">Základní premisu aplikace je, že vlastní třídu zavádí chování na jeho podřízené prvky, včetně zachycení, která klikne jakékoli levým tlačítkem myši a označování, které je zpracována, předtím, než bude vyvolána Třída podřízeného prvku nebo všechny instance obslužné rutiny na něm.</span><span class="sxs-lookup"><span data-stu-id="22f3b-108">The basic premise of the application is that the custom class introduces behaviors on its child elements, including intercepting any left mouse button clicks and marking them handled, before the child element class or any instance handlers on it will be invoked.</span></span>  
  
 <span data-ttu-id="22f3b-109"><xref:System.Windows.UIElement> Třída zveřejňuje virtuální metody, která umožňuje zpracování na třídy <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> událost, jednoduše přepsáním události.</span><span class="sxs-lookup"><span data-stu-id="22f3b-109">The <xref:System.Windows.UIElement> class exposes a virtual method that enables class handling on the <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> event, by simply overriding the event.</span></span> <span data-ttu-id="22f3b-110">Toto je nejjednodušší způsob, jak implementovat třídu zpracování, pokud je k dispozici někde v hierarchii vaší třídy virtuální metody.</span><span class="sxs-lookup"><span data-stu-id="22f3b-110">This is the simplest way to implement class handling if such a virtual method is available somewhere in your class' hierarchy.</span></span> <span data-ttu-id="22f3b-111">Následující kód ukazuje <xref:System.Windows.UIElement.OnPreviewMouseLeftButtonDown%2A> implementace "MyEditContainer", který je odvozen z <xref:System.Windows.Controls.Canvas>.</span><span class="sxs-lookup"><span data-stu-id="22f3b-111">The following code shows the <xref:System.Windows.UIElement.OnPreviewMouseLeftButtonDown%2A> implementation in the "MyEditContainer" that is derived from <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="22f3b-112">Implementace označí události jako zpracované v argumentech a pak přidá určitý kód poskytnout source element základní viditelné změny.</span><span class="sxs-lookup"><span data-stu-id="22f3b-112">The implementation marks the event as handled in the arguments, and then adds some code to give the source element a basic visible change.</span></span>  
  
 [!code-csharp[ClassHandling#OnStarClassHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/ClassHandling/CSharp/SDKSampleLibrary/class1.cs#onstarclasshandler)]
 [!code-vb[ClassHandling#OnStarClassHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ClassHandling/visualbasic/sdksamplelibrary/class1.vb#onstarclasshandler)]  
  
 <span data-ttu-id="22f3b-113">Pokud ne virtuální je k dispozici na základní třídy nebo pro konkrétní metody, třídy zpracování lze přidat přímo pomocí metody nástroj <xref:System.Windows.EventManager> třídy, <xref:System.Windows.EventManager.RegisterClassHandler%2A>.</span><span class="sxs-lookup"><span data-stu-id="22f3b-113">If no virtual is available on base classes or for that particular method, class handling can be added directly using a utility method of the <xref:System.Windows.EventManager> class, <xref:System.Windows.EventManager.RegisterClassHandler%2A>.</span></span> <span data-ttu-id="22f3b-114">Tuto metodu lze volat pouze v rámci Statická inicializace třídy, které jsou přidání zpracování třídy.</span><span class="sxs-lookup"><span data-stu-id="22f3b-114">This method should only be called within the static initialization of classes that are adding class handling.</span></span> <span data-ttu-id="22f3b-115">V tomto příkladu přidá jinou obslužnou rutinu pro <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> , a v tomto případě registrované třídy je vlastní třídy.</span><span class="sxs-lookup"><span data-stu-id="22f3b-115">This example adds another handler for <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> , and in this case the registered class is the custom class.</span></span> <span data-ttu-id="22f3b-116">Naopak při použití virtuální, registrované třídy je ve skutečnosti <xref:System.Windows.UIElement> základní třídy.</span><span class="sxs-lookup"><span data-stu-id="22f3b-116">In contrast, when using the virtuals, the registered class is really the <xref:System.Windows.UIElement> base class.</span></span> <span data-ttu-id="22f3b-117">V případech, kdy základních tříd a podtříd zaregistrovat zpracování třídy jsou vyvolány nejprve podtřídy obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="22f3b-117">In cases where base classes and subclass each register class handling, the subclass handlers are invoked first.</span></span> <span data-ttu-id="22f3b-118">Chování v aplikaci bude, že nejprve tuto obslužnou rutinu by zobrazil jeho okno se zprávou a pak by se zobrazovat vizuální změny v obslužné rutině virtuální metody.</span><span class="sxs-lookup"><span data-stu-id="22f3b-118">The behavior in an application would be that first this handler would show its message box and then the visual change in the virtual method's handler would be shown.</span></span>  
  
 [!code-csharp[ClassHandling#StaticAndRegisterClassHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/ClassHandling/CSharp/SDKSampleLibrary/class1.cs#staticandregisterclasshandler)]
 [!code-vb[ClassHandling#StaticAndRegisterClassHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ClassHandling/visualbasic/sdksamplelibrary/class1.vb#staticandregisterclasshandler)]  
  
## <a name="see-also"></a><span data-ttu-id="22f3b-119">Viz také:</span><span class="sxs-lookup"><span data-stu-id="22f3b-119">See also</span></span>

- <xref:System.Windows.EventManager>
- [<span data-ttu-id="22f3b-120">Označení směrovaných událostí jako zpracovaných a zpracování tříd</span><span class="sxs-lookup"><span data-stu-id="22f3b-120">Marking Routed Events as Handled, and Class Handling</span></span>](marking-routed-events-as-handled-and-class-handling.md)
- [<span data-ttu-id="22f3b-121">Zpracování směrované události</span><span class="sxs-lookup"><span data-stu-id="22f3b-121">Handle a Routed Event</span></span>](how-to-handle-a-routed-event.md)
- [<span data-ttu-id="22f3b-122">Přehled směrovaných událostí</span><span class="sxs-lookup"><span data-stu-id="22f3b-122">Routed Events Overview</span></span>](routed-events-overview.md)
