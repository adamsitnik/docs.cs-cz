---
title: Dědičnost hodnoty vlastnosti
ms.date: 03/30/2017
helpviewer_keywords:
- inheritance [WPF], property values
- value inheritance [WPF]
- properties [WPF], value inheritance
ms.assetid: d7c338f9-f2bf-48ed-832c-7be58ac390e4
ms.openlocfilehash: eb757d039437d9954a2b648c5f758dffa3fee3d2
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/22/2019
ms.locfileid: "69958365"
---
# <a name="property-value-inheritance"></a><span data-ttu-id="2e684-102">Dědičnost hodnoty vlastnosti</span><span class="sxs-lookup"><span data-stu-id="2e684-102">Property Value Inheritance</span></span>
<span data-ttu-id="2e684-103">Dědičnost hodnot vlastností je funkce [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] systému vlastností.</span><span class="sxs-lookup"><span data-stu-id="2e684-103">Property value inheritance is a feature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system.</span></span> <span data-ttu-id="2e684-104">Dědičnost hodnot vlastností povoluje podřízeným elementům ve stromové struktuře prvků pro získání hodnoty konkrétní vlastnosti z nadřazených prvků, která tuto hodnotu zdědí, protože byla nastavena kdekoli v nejbližším nadřazeném elementu.</span><span class="sxs-lookup"><span data-stu-id="2e684-104">Property value inheritance enables child elements in a tree of elements to obtain the value of a particular property from parent elements, inheriting that value as it was set anywhere in the nearest parent element.</span></span> <span data-ttu-id="2e684-105">Nadřazený element může také získat jeho hodnotu prostřednictvím dědičnosti hodnoty vlastnosti, takže systém může přecházet všechny možnosti na kořen stránky.</span><span class="sxs-lookup"><span data-stu-id="2e684-105">The parent element might also have obtained its value through property value inheritance, so the system potentially recurses all the way to the page root.</span></span> <span data-ttu-id="2e684-106">Dědičnost hodnoty vlastnosti není výchozím chováním systému vlastností; vlastnost musí být vytvořena s konkrétním nastavením metadat, aby mohla tato vlastnost iniciovat dědění hodnoty vlastností u podřízených elementů.</span><span class="sxs-lookup"><span data-stu-id="2e684-106">Property value inheritance is not the default property system behavior; a property must be established with a particular metadata setting in order to cause that property to initiate property value inheritance on child elements.</span></span>  

<a name="Property_Value_Inheritance_is_Containment_Inheritance"></a>   
## <a name="property-value-inheritance-is-containment-inheritance"></a><span data-ttu-id="2e684-107">Dědičnost hodnoty vlastnosti se dědičností zahrnutí.</span><span class="sxs-lookup"><span data-stu-id="2e684-107">Property Value Inheritance Is Containment Inheritance</span></span>  
 <span data-ttu-id="2e684-108">"Dědičnost" jako člen není poměrně stejný koncept jako dědičnost v kontextu typů a obecného objektově orientovaného programování, kde odvozené třídy dědí definice členů ze svých základních tříd.</span><span class="sxs-lookup"><span data-stu-id="2e684-108">"Inheritance" as a term here is not quite the same concept as inheritance in the context of types and general object-oriented programming, where derived classes inherit member definitions from their base classes.</span></span> <span data-ttu-id="2e684-109">Tento význam dědičnosti je také aktivní v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: vlastnosti definované v různých základních třídách jsou zveřejněny jako atributy pro [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] odvozené třídy při použití jako elementy a zveřejněné jako členy pro kód.</span><span class="sxs-lookup"><span data-stu-id="2e684-109">That meaning of inheritance is also active in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: properties defined in various base classes are exposed as attributes for derived [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] classes when used as elements, and exposed as members for code.</span></span> <span data-ttu-id="2e684-110">Dědičnost hodnot vlastností je obzvláště o tom, jak hodnoty vlastností mohou dědit z jednoho prvku na druhý na základě vztahů nadřazenosti a podřízenosti v rámci stromu prvků.</span><span class="sxs-lookup"><span data-stu-id="2e684-110">Property value inheritance is particularly about how property values can inherit from one element to another on the basis of the parent-child relationships within a tree of elements.</span></span> <span data-ttu-id="2e684-111">Tento strom prvků je nejvíce přímo viditelný při vnořování prvků uvnitř jiných prvků při definování aplikací v [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] kódu.</span><span class="sxs-lookup"><span data-stu-id="2e684-111">That tree of elements is most directly visible when nesting elements inside other elements as you define applications in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup.</span></span> <span data-ttu-id="2e684-112">Stromy objektů lze také vytvořit programově přidáním objektů do určených kolekcí jiných objektů a dědičnost hodnoty vlastností funguje stejným způsobem v dokončeném stromu v době běhu.</span><span class="sxs-lookup"><span data-stu-id="2e684-112">Trees of objects can also be created programmatically by adding objects to designated collections of other objects, and property value inheritance works the same way in the finished tree at run time.</span></span>  
  
<a name="Practical_Applications_of_Property_Value_Inheritance"></a>   
## <a name="practical-applications-of-property-value-inheritance"></a><span data-ttu-id="2e684-113">Praktické aplikace dědičnosti hodnot vlastností</span><span class="sxs-lookup"><span data-stu-id="2e684-113">Practical Applications of Property Value Inheritance</span></span>  
 <span data-ttu-id="2e684-114">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Rozhraní API obsahují několik vlastností, které mají povolenou dědičnost vlastností.</span><span class="sxs-lookup"><span data-stu-id="2e684-114">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs include several properties that have property inheritance enabled.</span></span> <span data-ttu-id="2e684-115">Obvykle se jedná o scénář, který zahrnuje vlastnost, kde je vhodné, aby vlastnost byla nastavena pouze jednou pro každou stránku, ale v případě, že tato vlastnost je také členem jedné ze základních tříd prvků, a proto by také existovala u většiny podřízených prvků.</span><span class="sxs-lookup"><span data-stu-id="2e684-115">Typically, the scenario for these is that they involve a property where it is appropriate that the property be set only once per page, but where that property is also a member of one of the base element classes and thus would also exist on most of the child elements.</span></span> <span data-ttu-id="2e684-116">Například <xref:System.Windows.FrameworkElement.FlowDirection%2A> vlastnost určuje, který směr toku obsahu by měl být zobrazen a uspořádán na stránce.</span><span class="sxs-lookup"><span data-stu-id="2e684-116">For example, the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property controls which direction flowed content should be presented and arranged on the page.</span></span> <span data-ttu-id="2e684-117">Obvykle je vhodné zpracovat koncept toku textu konzistentně napříč všemi podřízenými prvky.</span><span class="sxs-lookup"><span data-stu-id="2e684-117">Typically, you want the text flow concept to be handled consistently throughout all child elements.</span></span> <span data-ttu-id="2e684-118">Pokud byl směr toku z nějakého důvodu resetován v určité úrovni stromu elementu podle uživatele nebo prostředí, měla by být obvykle vynulována v celém.</span><span class="sxs-lookup"><span data-stu-id="2e684-118">If flow direction were for some reason reset in some level of the element tree by user or environment action, it should typically be reset throughout.</span></span> <span data-ttu-id="2e684-119">Je-li vlastnost nastavena na dědění, je nutné nastavit nebo resetovat hodnotu pouze jednou na úrovni ve stromové struktuře prvků, která zahrnuje prezentace potřeb každé stránky v aplikaci. <xref:System.Windows.FrameworkElement.FlowDirection%2A></span><span class="sxs-lookup"><span data-stu-id="2e684-119">When the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property is made to inherit, the value need only be set or reset once at the level in the element tree that encompasses the presentation needs of each page in the application.</span></span> <span data-ttu-id="2e684-120">Tento způsob zdědí i počáteční výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="2e684-120">Even the initial default value will inherit in this way.</span></span> <span data-ttu-id="2e684-121">Model dědičnosti hodnoty vlastností stále umožňuje, aby jednotlivé prvky obnovily hodnotu ve výjimečných případech, kde je kombinace směrů toků záměrné.</span><span class="sxs-lookup"><span data-stu-id="2e684-121">The property value inheritance model still enables individual elements to reset the value for the rare cases where having a mix of flow directions is intentional.</span></span>  
  
<a name="Making_a_Custom_Property_Inheritable"></a>   
## <a name="making-a-custom-property-inheritable"></a><span data-ttu-id="2e684-122">Vytvoření vlastní vlastnosti dědičné</span><span class="sxs-lookup"><span data-stu-id="2e684-122">Making a Custom Property Inheritable</span></span>  
 <span data-ttu-id="2e684-123">Změnou metadat vlastní vlastnosti můžete také dědit vlastní vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="2e684-123">By changing a custom property's metadata, you can also make your own custom properties inheritable.</span></span> <span data-ttu-id="2e684-124">Všimněte si ale, že při určování vlastnosti, která je dědičná, je potřeba vzít v paměti nějaký vliv.</span><span class="sxs-lookup"><span data-stu-id="2e684-124">Note, however, that designating a property as inheritable does have some performance considerations.</span></span> <span data-ttu-id="2e684-125">V případech, kdy tato vlastnost nemá vytvořenou lokální hodnotu nebo hodnotu získanou prostřednictvím stylů, šablon nebo datových vazeb, umožňuje dědičná vlastnost jejich přiřazené hodnoty vlastností všem podřízeným elementům v logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="2e684-125">In cases where that property does not have an established local value, or a value obtained through styles, templates, or data binding, an inheritable property provides its assigned property values to all child elements in the logical tree.</span></span>  
  
 <span data-ttu-id="2e684-126">Chcete-li, aby se vlastnost účastnila dědičnosti hodnot, vytvořte vlastní připojenou vlastnost, jak je popsáno v tématu [registrace připojené vlastnosti](how-to-register-an-attached-property.md).</span><span class="sxs-lookup"><span data-stu-id="2e684-126">To make a property participate in value inheritance, create a custom attached property, as described in [Register an Attached Property](how-to-register-an-attached-property.md).</span></span> <span data-ttu-id="2e684-127">Zaregistrujte vlastnost s metadaty (<xref:System.Windows.FrameworkPropertyMetadata>) a v nastavení možností v rámci těchto metadat zadejte možnost Inherits.</span><span class="sxs-lookup"><span data-stu-id="2e684-127">Register the property with metadata (<xref:System.Windows.FrameworkPropertyMetadata>) and specify the "Inherits" option in the options settings within that metadata.</span></span> <span data-ttu-id="2e684-128">Také se ujistěte, že vlastnost má vytvořenou výchozí hodnotu, protože tato hodnota bude nyní děděna.</span><span class="sxs-lookup"><span data-stu-id="2e684-128">Also make sure that the property has an established default value, because that value will now inherit.</span></span> <span data-ttu-id="2e684-129">I když jste vlastnost zaregistrovali jako připojenou, možná budete chtít vytvořit vlastnost "obálku" pro přístup k typu oprávnění get/set, stejně jako u vlastnosti závislosti "Nepřipojeno".</span><span class="sxs-lookup"><span data-stu-id="2e684-129">Although you registered the property as attached, you might also want to create a property "wrapper" for get/set access on the owner type, just as you would for an "nonattached" dependency property.</span></span> <span data-ttu-id="2e684-130">Po tomu lze dědičnou vlastnost nastavit buď pomocí obálky přímých vlastností na typu vlastníka nebo odvozených typů, nebo je lze nastavit pomocí syntaxe <xref:System.Windows.DependencyObject>připojené vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="2e684-130">After doing so, the inheritable property can either be set by using the direct property wrapper on the owner type or derived types, or it can be set by using the attached property syntax on any <xref:System.Windows.DependencyObject>.</span></span>  
  
 <span data-ttu-id="2e684-131">Připojené vlastnosti jsou koncepčně podobné globálním vlastnostem; můžete vyhledat hodnotu v jakémkoli <xref:System.Windows.DependencyObject> a získat platný výsledek.</span><span class="sxs-lookup"><span data-stu-id="2e684-131">Attached properties are conceptually similar to global properties; you can check for the value on any <xref:System.Windows.DependencyObject> and get a valid result.</span></span> <span data-ttu-id="2e684-132">Typický scénář pro připojené vlastnosti je nastavit hodnoty vlastností u podřízených elementů a tento scénář je efektivnější, pokud je vlastnost je připojená, která je vždy implicitně přítomna jako připojená vlastnost u každého prvku (<xref:System.Windows.DependencyObject>) ve stromu.</span><span class="sxs-lookup"><span data-stu-id="2e684-132">The typical scenario for attached properties is to set property values on child elements, and that scenario is more effective if the property in question is an attached property that is always implicitly present as an attached property on each element (<xref:System.Windows.DependencyObject>) in the tree.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2e684-133">I když se dědičnost hodnot vlastností může zdát fungovat pro nepřipojené vlastnosti závislosti, chování dědičnosti pro nepřipojenou vlastnost prostřednictvím určitých hranic prvků v běhovém stromu není definováno.</span><span class="sxs-lookup"><span data-stu-id="2e684-133">Although property value inheritance might appear to work for nonattached dependency properties, the inheritance behavior for a nonattached property through certain element boundaries in the run-time tree is undefined.</span></span> <span data-ttu-id="2e684-134">Vždy použijte <xref:System.Windows.DependencyProperty.RegisterAttached%2A> k registraci vlastností, které zadáte <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> v metadatech.</span><span class="sxs-lookup"><span data-stu-id="2e684-134">Always use <xref:System.Windows.DependencyProperty.RegisterAttached%2A> to register properties where you specify <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> in the metadata.</span></span>  
  
<a name="InheritanceContext"></a>   
## <a name="inheriting-property-values-across-tree-boundaries"></a><span data-ttu-id="2e684-135">Dědění hodnot vlastností napříč hranicemi stromu</span><span class="sxs-lookup"><span data-stu-id="2e684-135">Inheriting Property Values Across Tree Boundaries</span></span>  
 <span data-ttu-id="2e684-136">Dědičnost vlastností funguje procházením stromu prvků.</span><span class="sxs-lookup"><span data-stu-id="2e684-136">Property inheritance works by traversing a tree of elements.</span></span> <span data-ttu-id="2e684-137">Tento strom je často rovnoběžný s logickým stromem.</span><span class="sxs-lookup"><span data-stu-id="2e684-137">This tree is often parallel to the logical tree.</span></span> <span data-ttu-id="2e684-138">Kdykoli však zahrnete objekt základní úrovně WPF do značky, který definuje strom elementu, například <xref:System.Windows.Media.Brush>, jste vytvořili nesouvislý logický strom.</span><span class="sxs-lookup"><span data-stu-id="2e684-138">However, whenever you include a WPF core-level object in the markup that defines an element tree, such as a <xref:System.Windows.Media.Brush>, you have created a discontinuous logical tree.</span></span> <span data-ttu-id="2e684-139">Skutečný logický strom bez koncepčního rozšiřování prostřednictvím <xref:System.Windows.Media.Brush>, protože logický strom je koncept na úrovni architektury WPF.</span><span class="sxs-lookup"><span data-stu-id="2e684-139">A true logical tree does not conceptually extend through the <xref:System.Windows.Media.Brush>, because the logical tree is a WPF framework-level concept.</span></span> <span data-ttu-id="2e684-140">Můžete vidět, že se to projeví ve výsledcích při použití metod <xref:System.Windows.LogicalTreeHelper>.</span><span class="sxs-lookup"><span data-stu-id="2e684-140">You can see this reflected in the results when using the methods of <xref:System.Windows.LogicalTreeHelper>.</span></span> <span data-ttu-id="2e684-141">Dědičnost hodnot vlastností však může přenášet tuto mezeru v logickém stromu a může nadále přenášet děděné hodnoty prostřednictvím, pokud byla dědičná vlastnost registrována jako připojená vlastnost a bez záměrného blokování dědičnosti (například <xref:System.Windows.Controls.Frame>).</span><span class="sxs-lookup"><span data-stu-id="2e684-141">However, property value inheritance can bridge this gap in the logical tree and can still pass inherited values through, so long as the inheritable property was registered as an attached property and no deliberate inheritance-blocking boundary (such as a <xref:System.Windows.Controls.Frame>) is encountered.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2e684-142">Viz také:</span><span class="sxs-lookup"><span data-stu-id="2e684-142">See also</span></span>

- [<span data-ttu-id="2e684-143">Metadata vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="2e684-143">Dependency Property Metadata</span></span>](dependency-property-metadata.md)
- [<span data-ttu-id="2e684-144">Přehled přidružených vlastností</span><span class="sxs-lookup"><span data-stu-id="2e684-144">Attached Properties Overview</span></span>](attached-properties-overview.md)
- [<span data-ttu-id="2e684-145">Priorita hodnot vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="2e684-145">Dependency Property Value Precedence</span></span>](dependency-property-value-precedence.md)
