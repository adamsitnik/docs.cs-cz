---
title: Události změny vlastnosti
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], change events
- property value changes [WPF]
- change events [WPF], property
- events [WPF], change in property values
- creating property triggers [WPF]
- property change events [WPF], types of
- property change events [WPF]
- property triggers [WPF]
- identifying changed property events [WPF]
- property triggers [WPF], definition of
ms.assetid: 0a7989df-9674-4cc1-bc50-5d8ef5d9c055
ms.openlocfilehash: f8d0d5e65101ffda0edaaeabdea2870287ba0f1f
ms.sourcegitcommit: 24a4a8eb6d8cfe7b8549fb6d823076d7c697e0c6
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/23/2019
ms.locfileid: "68400850"
---
# <a name="property-change-events"></a><span data-ttu-id="44386-102">Události změny vlastnosti</span><span class="sxs-lookup"><span data-stu-id="44386-102">Property Change Events</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]<span data-ttu-id="44386-103">definuje několik událostí, které jsou vyvolány v reakci na změnu hodnoty vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-103">defines several events that are raised in response to a change in the value of a property.</span></span> <span data-ttu-id="44386-104">Vlastnost je často vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="44386-104">Often the property is a dependency property.</span></span> <span data-ttu-id="44386-105">Samotná událost je někdy směrována jako událost, která je někdy standardní událostí modulu CLR (Common Language Runtime).</span><span class="sxs-lookup"><span data-stu-id="44386-105">The event itself is sometimes a routed event and is sometimes a standard common language runtime (CLR) event.</span></span> <span data-ttu-id="44386-106">Definice události se liší v závislosti na scénáři, protože některé změny vlastností jsou vhodně směrovány prostřednictvím stromu elementu, zatímco jiné změny vlastností jsou obecně pouze obavy o objekt, u kterého byla vlastnost změněna.</span><span class="sxs-lookup"><span data-stu-id="44386-106">The definition of the event varies depending on the scenario, because some property changes are more appropriately routed through an element tree, whereas other property changes are generally only of concern to the object where the property changed.</span></span>  
  
## <a name="identifying-a-property-change-event"></a><span data-ttu-id="44386-107">Identifikace události změny vlastnosti</span><span class="sxs-lookup"><span data-stu-id="44386-107">Identifying a Property Change Event</span></span>  
 <span data-ttu-id="44386-108">Ne všechny události, které nastavují změnu vlastnosti, se explicitně identifikují jako událost změněné vlastností, a to buď na základě vzoru podpisu, nebo podle vzoru pojmenování.</span><span class="sxs-lookup"><span data-stu-id="44386-108">Not all events that report a property change are explicitly identified as a property changed event, either by virtue of a signature pattern or a naming pattern.</span></span> <span data-ttu-id="44386-109">Obecně popis události v [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] dokumentaci označuje, zda je událost přímo vázaná na změnu hodnoty vlastnosti a poskytuje křížové odkazy mezi vlastností a událostí.</span><span class="sxs-lookup"><span data-stu-id="44386-109">Generally, the description of the event in the [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] documentation indicates whether the event is directly tied to a property value change and provides cross-references between the property and event.</span></span>  
  
### <a name="routedpropertychanged-events"></a><span data-ttu-id="44386-110">Události RoutedPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="44386-110">RoutedPropertyChanged Events</span></span>  
 <span data-ttu-id="44386-111">Určité události používají datový typ události a delegáty, které jsou explicitně používány pro události změny vlastností.</span><span class="sxs-lookup"><span data-stu-id="44386-111">Certain events use an event data type and delegate that are explicitly used for property change events.</span></span> <span data-ttu-id="44386-112">Datový typ události je <xref:System.Windows.RoutedPropertyChangedEventArgs%601>a delegát je. <xref:System.Windows.RoutedPropertyChangedEventHandler%601></span><span class="sxs-lookup"><span data-stu-id="44386-112">The event data type is <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, and the delegate is <xref:System.Windows.RoutedPropertyChangedEventHandler%601>.</span></span> <span data-ttu-id="44386-113">Data události a Delegáti mají parametr obecného typu, který se používá k určení skutečného typu vlastnosti změny při definování obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="44386-113">The event data and delegate both have a generic type parameter that is used to specify the actual type of the changing property when you define the handler.</span></span> <span data-ttu-id="44386-114">Data události obsahují dvě vlastnosti, <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>které jsou následně předány jako argument typu v datech události.</span><span class="sxs-lookup"><span data-stu-id="44386-114">The event data contains two properties, <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> and <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>, which are both then passed as the type argument in the event data.</span></span>  
  
 <span data-ttu-id="44386-115">Část "směrované" název označuje, že událost změny vlastnosti je registrována jako směrovaná událost.</span><span class="sxs-lookup"><span data-stu-id="44386-115">The "Routed" part of the name indicates that the property changed event is registered as a routed event.</span></span> <span data-ttu-id="44386-116">Výhodou směrování události změněné vlastnosti je, že nejvyšší úroveň ovládacího prvku může přijímat události změněné vlastností, pokud vlastnosti podřízených prvků (složené části ovládacího prvku) mění hodnoty.</span><span class="sxs-lookup"><span data-stu-id="44386-116">The advantage of routing a property changed event is that the top level of a control can receive property changed events if properties on the child elements (the control's composite parts) change values.</span></span> <span data-ttu-id="44386-117">Například můžete vytvořit ovládací prvek, který obsahuje <xref:System.Windows.Controls.Primitives.RangeBase> ovládací prvek, jako je. <xref:System.Windows.Controls.Slider></span><span class="sxs-lookup"><span data-stu-id="44386-117">For instance, you might create a control that incorporates a <xref:System.Windows.Controls.Primitives.RangeBase> control such as a <xref:System.Windows.Controls.Slider>.</span></span> <span data-ttu-id="44386-118">Pokud se hodnota <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> vlastnosti změní v části posuvníku, může být vhodné tuto změnu zpracovat v nadřazeném ovládacím prvku, nikoli na části.</span><span class="sxs-lookup"><span data-stu-id="44386-118">If the value of the <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property changes on the slider part, you might want to handle that change on the parent control rather than on the part.</span></span>  
  
 <span data-ttu-id="44386-119">Vzhledem k tomu, že máte starou hodnotu a novou hodnotu, může se tato obslužná rutina události zvážit jako validátor pro hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-119">Because you have an old value and a new value, it might be tempting to use this event handler as a validator for the property value.</span></span> <span data-ttu-id="44386-120">Nejedná se ale o záměr návrhu většiny událostí změněných vlastností.</span><span class="sxs-lookup"><span data-stu-id="44386-120">However, that is not the design intention of most property changed events.</span></span> <span data-ttu-id="44386-121">Obecně jsou tyto hodnoty k dispozici, takže můžete pracovat s těmito hodnotami v jiných logických oblastech vašeho kódu, ale ve skutečnosti se změna hodnot z obslužné rutiny události nedá doporučit a může dojít k neúmyslnému rekurzi v závislosti na tom, jak je obslužná rutina implementovaná. .</span><span class="sxs-lookup"><span data-stu-id="44386-121">Generally, the values are provided so that you can act on those values in other logic areas of your code, but actually changing the values from within the event handler is not advisable, and may cause unintentional recursion depending on how your handler is implemented.</span></span>  
  
 <span data-ttu-id="44386-122">Pokud je vaše vlastnost vlastní vlastností závislosti nebo pokud pracujete s odvozenou třídou, kde jste definovali kód vytváření instancí, existuje mnohem lepší mechanismus pro sledování změn vlastností, které jsou integrované v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systému vlastností: zpětná volání <xref:System.Windows.CoerceValueCallback> systému vlastností <xref:System.Windows.PropertyChangedCallback>a.</span><span class="sxs-lookup"><span data-stu-id="44386-122">If your property is a custom dependency property, or if you are working with a derived class where you have defined the instantiation code, there is a much better mechanism for tracking property changes that is built in to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system: the property system callbacks <xref:System.Windows.CoerceValueCallback> and <xref:System.Windows.PropertyChangedCallback>.</span></span> <span data-ttu-id="44386-123">Další informace o tom, jak můžete použít [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systém vlastností pro ověřování a vynucení, najdete v tématech zpětná [volání vlastností závislosti a ověřování](dependency-property-callbacks-and-validation.md) a [vlastní vlastnosti závislosti](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="44386-123">For more details about how you can use the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system for validation and coercion, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md) and [Custom Dependency Properties](custom-dependency-properties.md).</span></span>  
  
### <a name="dependencypropertychanged-events"></a><span data-ttu-id="44386-124">Události DependencyPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="44386-124">DependencyPropertyChanged Events</span></span>  
 <span data-ttu-id="44386-125">Další dvojicí typů, které jsou součástí scénáře události změněné vlastnosti, je <xref:System.Windows.DependencyPropertyChangedEventArgs> a <xref:System.Windows.DependencyPropertyChangedEventHandler>.</span><span class="sxs-lookup"><span data-stu-id="44386-125">Another pair of types that are part of a property changed event scenario is <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler>.</span></span> <span data-ttu-id="44386-126">Události pro tyto změny vlastností nejsou směrovány; jsou to standardní události CLR.</span><span class="sxs-lookup"><span data-stu-id="44386-126">Events for these property changes are not routed; they are standard CLR events.</span></span> <span data-ttu-id="44386-127"><xref:System.Windows.DependencyPropertyChangedEventArgs>je neobvyklá typ generování sestav dat událostí, protože neodvozuje <xref:System.EventArgs>z; <xref:System.Windows.DependencyPropertyChangedEventArgs> je struktura, nikoli třída.</span><span class="sxs-lookup"><span data-stu-id="44386-127"><xref:System.Windows.DependencyPropertyChangedEventArgs> is an unusual event data reporting type because it does not derive from <xref:System.EventArgs>; <xref:System.Windows.DependencyPropertyChangedEventArgs> is a structure, not a class.</span></span>  
  
 <span data-ttu-id="44386-128">Události, které <xref:System.Windows.DependencyPropertyChangedEventArgs> používají <xref:System.Windows.DependencyPropertyChangedEventHandler> a jsou trochu běžnější než `RoutedPropertyChanged` události.</span><span class="sxs-lookup"><span data-stu-id="44386-128">Events that use <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler> are slightly more common than `RoutedPropertyChanged` events.</span></span> <span data-ttu-id="44386-129">Příklad události, která používá tyto typy je <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span><span class="sxs-lookup"><span data-stu-id="44386-129">An example of an event that uses these types is <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span>  
  
 <span data-ttu-id="44386-130">Podobně <xref:System.Windows.RoutedPropertyChangedEventArgs%601>jako <xref:System.Windows.DependencyPropertyChangedEventArgs> , také hlásí starou a novou hodnotu pro vlastnost.</span><span class="sxs-lookup"><span data-stu-id="44386-130">Like <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, <xref:System.Windows.DependencyPropertyChangedEventArgs> also reports an old and new value for the property.</span></span> <span data-ttu-id="44386-131">Také platí stejné informace o tom, co můžete s hodnotami provádět; Obecně se nedoporučuje, abyste znovu změnili hodnoty u odesilatele v reakci na událost.</span><span class="sxs-lookup"><span data-stu-id="44386-131">Also, the same considerations about what you can do with the values apply; it is generally not recommended that you attempt to change the values again on the sender in response to the event.</span></span>  
  
## <a name="property-triggers"></a><span data-ttu-id="44386-132">Aktivační procedury vlastností</span><span class="sxs-lookup"><span data-stu-id="44386-132">Property Triggers</span></span>  
 <span data-ttu-id="44386-133">Úzce související koncept k události změněné vlastnosti je aktivační událost vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-133">A closely related concept to a property changed event is a property trigger.</span></span> <span data-ttu-id="44386-134">Aktivační událost vlastnosti je vytvořena v rámci stylu nebo šablony a umožňuje vytvořit podmíněné chování na základě hodnoty vlastnosti, kde je přiřazena aktivační událost vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-134">A property trigger is created within a style or template and enables you to create a conditional behavior based on the value of the property where the property trigger is assigned.</span></span>  
  
 <span data-ttu-id="44386-135">Vlastnost triggeru vlastnosti musí být vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="44386-135">The property for a property trigger must be a dependency property.</span></span> <span data-ttu-id="44386-136">Může to být (a často je) vlastnost závislosti jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="44386-136">It can be (and frequently is) a read-only dependency property.</span></span> <span data-ttu-id="44386-137">Dobrý indikátor pro případ, že vlastnost závislosti vystavená ovládacím prvkem je alespoň částečně navržená tak, aby byla triggerem vlastnosti, je, že název vlastnosti začíná na "is".</span><span class="sxs-lookup"><span data-stu-id="44386-137">A good indicator for when a dependency property exposed by a control is at least partially designed to be a property trigger is if the property name begins with "Is".</span></span> <span data-ttu-id="44386-138">Vlastnosti, které mají tento názvový server, jsou často vlastností závislosti, která je jen pro čtení, přičemž primární scénář pro vlastnost je stav ovládacího prvku pro vytváření sestav, který může mít vliv na uživatelské rozhraní v reálném čase a je tedy kandidátem na triggery vlastností.</span><span class="sxs-lookup"><span data-stu-id="44386-138">Properties that have this naming are often a read-only Boolean dependency property where the primary scenario for the property is reporting control state that might have consequences to the real-time UI and is thus a property trigger candidate.</span></span>  
  
 <span data-ttu-id="44386-139">Některé z těchto vlastností mají také událost změny vyhrazené vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-139">Some of these properties also have a dedicated property changed event.</span></span> <span data-ttu-id="44386-140">Vlastnost <xref:System.Windows.UIElement.IsMouseCaptured%2A> má například událost <xref:System.Windows.UIElement.IsMouseCapturedChanged>změněné vlastnost.</span><span class="sxs-lookup"><span data-stu-id="44386-140">For instance, the property <xref:System.Windows.UIElement.IsMouseCaptured%2A> has a property changed event <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span> <span data-ttu-id="44386-141">Samotná vlastnost je jen pro čtení a její hodnota je upravena vstupním systémem a vstupní systém vyvolá <xref:System.Windows.UIElement.IsMouseCapturedChanged> každou změnu v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="44386-141">The property itself is read-only, with its value adjusted by the input system, and the input system raises <xref:System.Windows.UIElement.IsMouseCapturedChanged> on each real-time change.</span></span>  
  
 <span data-ttu-id="44386-142">V porovnání s událostí změněné vlastnosti true má použití triggeru vlastnosti k tomu, aby fungovalo u změny vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="44386-142">Compared to a true property changed event, using a property trigger to act on a property change has some limitations.</span></span>  
  
 <span data-ttu-id="44386-143">Triggery vlastností fungují přes přesnou logiku shody.</span><span class="sxs-lookup"><span data-stu-id="44386-143">Property triggers work through an exact match logic.</span></span> <span data-ttu-id="44386-144">Zadáte vlastnost a hodnotu, která určuje konkrétní hodnotu, pro kterou bude aktivační událost fungovat. Instance: `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span><span class="sxs-lookup"><span data-stu-id="44386-144">You specify a property and a value that indicates the specific value for which the trigger will act. For instance: `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span></span> <span data-ttu-id="44386-145">Z důvodu tohoto omezení je většina použití triggeru vlastností pro logické vlastnosti nebo vlastnosti, které přijímají hodnotu vyhrazeného výčtu, kde je možné rozsah hodnot dostatečně spravovat, aby bylo možné definovat Trigger pro každý případ.</span><span class="sxs-lookup"><span data-stu-id="44386-145">Because of this limitation, the majority of property trigger usages will be for Boolean properties, or properties that take a dedicated enumeration value, where the possible value range is manageable enough to define a trigger for each case.</span></span> <span data-ttu-id="44386-146">Triggery vlastností nebo se můžou vyskytovat jenom pro speciální hodnoty, třeba když počet položek dosáhne nuly, a nespustí se žádná aktivační událost, která by pro případy, kdy se hodnota vlastnosti změní směrem od nuly (místo triggerů pro všechny případy), nemusela být potřebná. sem patří obslužná rutina události nebo výchozí chování, které přepne zpátky ze stavu triggeru znovu, pokud je hodnota nenulová.</span><span class="sxs-lookup"><span data-stu-id="44386-146">Or property triggers might exist only for special values, such as when an items count reaches zero, and there would be no trigger that accounts for the cases when the property value changes away from zero again (instead of triggers for all cases, you might need a code event handler here, or a default behavior that toggles back from the trigger state again when the value is nonzero).</span></span>  
  
 <span data-ttu-id="44386-147">Syntaxe triggeru vlastnosti je analogická k příkazu "If" v programování.</span><span class="sxs-lookup"><span data-stu-id="44386-147">The property trigger syntax is analogous to an "if" statement in programming.</span></span> <span data-ttu-id="44386-148">Pokud má podmínka triggeru hodnotu true, pak je "tělo" triggeru vlastnosti "spuštěno".</span><span class="sxs-lookup"><span data-stu-id="44386-148">If the trigger condition is true, then the "body" of the property trigger is "executed".</span></span> <span data-ttu-id="44386-149">"Tělo" triggeru vlastnosti není kód, je značkami.</span><span class="sxs-lookup"><span data-stu-id="44386-149">The "body" of a property trigger is not code, it is markup.</span></span> <span data-ttu-id="44386-150">Tento kód je omezen na použití jednoho nebo více <xref:System.Windows.Setter> prvků pro nastavení dalších vlastností objektu, ve kterém je použit styl nebo šablona.</span><span class="sxs-lookup"><span data-stu-id="44386-150">That markup is limited to using one or more <xref:System.Windows.Setter> elements to set other properties of the object where the style or template is being applied.</span></span>  
  
 <span data-ttu-id="44386-151">Pro posunutí podmínky "Pokud" triggeru vlastnosti, který má širokou škálu možných hodnot, je obecně vhodné nastavit stejnou hodnotu vlastnosti na výchozí pomocí <xref:System.Windows.Setter>.</span><span class="sxs-lookup"><span data-stu-id="44386-151">To offset the "if" condition of a property trigger that has a wide variety of possible values, it is generally advisable to set that same property value to a default by using a <xref:System.Windows.Setter>.</span></span> <span data-ttu-id="44386-152">V takovém případě bude mít vlastnost s <xref:System.Windows.Setter> <xref:System.Windows.Trigger> omezenímpřednost,pokudjepodmínkatriggerupravdivá,ata,kteránenívrámci,budemítpřednost,kdykolivjepodmínkatriggeru<xref:System.Windows.Trigger> nepravdivá.</span><span class="sxs-lookup"><span data-stu-id="44386-152">This way, the <xref:System.Windows.Trigger> contained setter will have precedence when the trigger condition is true, and the <xref:System.Windows.Setter> that is not within a <xref:System.Windows.Trigger> will have precedence whenever the trigger condition is false.</span></span>  
  
 <span data-ttu-id="44386-153">Triggery vlastností jsou obecně vhodné pro scénáře, ve kterých se má změnit jedna nebo více vlastností vzhledu na základě stavu jiné vlastnosti stejného prvku.</span><span class="sxs-lookup"><span data-stu-id="44386-153">Property triggers are generally appropriate for scenarios where one or more appearance properties should change, based on the state of another property on the same element.</span></span>  
  
 <span data-ttu-id="44386-154">Další informace o aktivačních událostech vlastností naleznete v tématu [stylování a šablonování](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="44386-154">To learn more about property triggers, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="44386-155">Viz také:</span><span class="sxs-lookup"><span data-stu-id="44386-155">See also</span></span>

- [<span data-ttu-id="44386-156">Přehled směrovaných událostí</span><span class="sxs-lookup"><span data-stu-id="44386-156">Routed Events Overview</span></span>](routed-events-overview.md)
- [<span data-ttu-id="44386-157">Přehled vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="44386-157">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
