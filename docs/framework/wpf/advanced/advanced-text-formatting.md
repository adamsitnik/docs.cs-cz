---
title: Upřesněné formátování textu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 0d3b44007524f502d8393d1dc1834142090a7a15
ms.sourcegitcommit: 4d8efe00f2e5ab42e598aff298d13b8c052d9593
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/16/2019
ms.locfileid: "68238658"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="69163-102">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="69163-102">Advanced Text Formatting</span></span>
<span data-ttu-id="69163-103">Windows Presentation Foundation (WPF) poskytuje robustní sadu rozhraní API pro včetně textu ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="69163-103">The Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="69163-104">Rozložení a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]rozhraní API, jako například <xref:System.Windows.Controls.TextBlock>zadejte nejběžnější a obecné použití prvků pro textové prezentaci.</span><span class="sxs-lookup"><span data-stu-id="69163-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general use elements for text presentation.</span></span> <span data-ttu-id="69163-105">Rozhraní API, jako například kreslení <xref:System.Windows.Media.GlyphRunDrawing> a <xref:System.Windows.Media.FormattedText>, prostředkem pro zahrnutí do kreslení formátovaného textu.</span><span class="sxs-lookup"><span data-stu-id="69163-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="69163-106">Nanejvýš pokročilé úrovni členství, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] poskytuje formátování k řízení všech aspektů text prezentací, jako jsou Správa úložiště text, správa formátování textových spuštění a správa vložený objekt rozšiřitelné textu.</span><span class="sxs-lookup"><span data-stu-id="69163-106">At the most advanced level, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="69163-107">Toto téma obsahuje úvod do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formátování textu.</span><span class="sxs-lookup"><span data-stu-id="69163-107">This topic provides an introduction to [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting.</span></span> <span data-ttu-id="69163-108">Zaměřuje se na implementace klienta a použití [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formátování textu.</span><span class="sxs-lookup"><span data-stu-id="69163-108">It focuses on client implementation and use of the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="69163-109">Všechny příklady kódu v tomto dokumentu najdete v [Advanced ukázka formátování textu](https://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="69163-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  

<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="69163-110">Požadavky</span><span class="sxs-lookup"><span data-stu-id="69163-110">Prerequisites</span></span>  
 <span data-ttu-id="69163-111">Toto téma předpokládá, že máte zkušenosti s vyšší úroveň API používaná pro textové prezentaci.</span><span class="sxs-lookup"><span data-stu-id="69163-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="69163-112">Většina scénářů uživatele nebude vyžaduje pokročilé formátování rozhraní API popsané v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="69163-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="69163-113">Úvod k jiným textovým rozhraní API, najdete v článku [dokumenty v platformě WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="69163-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="69163-114">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="69163-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="69163-115">Rozložení textu a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] ovládacích prvků v [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] poskytnout vlastností formátování, které umožňují snadno zahrnout formátovaný text ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="69163-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="69163-116">Tyto ovládací prvky zveřejňují počet vlastností ke zpracování prezentace text, který zahrnuje jeho písmo, velikost a barvu.</span><span class="sxs-lookup"><span data-stu-id="69163-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="69163-117">Za běžných okolností dokáže zpracovat tyto ovládací prvky většinou textové prezentaci ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="69163-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="69163-118">Některé pokročilé scénáře však vyžadují ovládacího prvku textové úložiště, stejně jako textové prezentaci.</span><span class="sxs-lookup"><span data-stu-id="69163-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="69163-119">obsahuje formátování pro tento účel extensible textu.</span><span class="sxs-lookup"><span data-stu-id="69163-119">provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="69163-120">Pokročilé funkce formátování textu v nalezen [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] obsahují text formátování modul, text úložiště, spuštění textu a formátování vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="69163-120">The advanced text formatting features found in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="69163-121">Formátování, textu <xref:System.Windows.Media.TextFormatting.TextFormatter>, vytvoří řádků textu má být použit pro prezentaci.</span><span class="sxs-lookup"><span data-stu-id="69163-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="69163-122">Toho dosáhnete pomocí Zahajování procesu formátování řádku a volání formátování textu <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="69163-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="69163-123">Formátování textu načte spuštění text ze svého úložiště text zavoláním obchodu <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="69163-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="69163-124"><xref:System.Windows.Media.TextFormatting.TextRun> Objekty jsou pak uspořádané do <xref:System.Windows.Media.TextFormatting.TextLine> objekty podle formátování textu a vzhledem k aplikaci pro kontrolu nebo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="69163-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="69163-125">Použití formátování textu</span><span class="sxs-lookup"><span data-stu-id="69163-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="69163-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> je [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formátování textu motoru a poskytuje služby pro formátování a rozdělení řádky textu.</span><span class="sxs-lookup"><span data-stu-id="69163-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="69163-127">Formátování textu dokáže zpracovat jiným textovým formátování a styly odstavec a zahrnuje podporu pro mezinárodní text rozložení.</span><span class="sxs-lookup"><span data-stu-id="69163-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="69163-128">Na rozdíl od tradičních text API <xref:System.Windows.Media.TextFormatting.TextFormatter> komunikuje přes sadu metod zpětného volání klienta rozložení textu.</span><span class="sxs-lookup"><span data-stu-id="69163-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="69163-129">Vyžaduje od klienta tyto metody v implementaci <xref:System.Windows.Media.TextFormatting.TextSource> třídy.</span><span class="sxs-lookup"><span data-stu-id="69163-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="69163-130">Následující diagram znázorňuje interakci rozložení textu mezi klientskou aplikací a <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="69163-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagram klienta rozložení textu a objektu TextFormatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="69163-132">Formátování textu slouží k načtení řádky formátovaný text z textového úložiště, což je implementace <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="69163-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="69163-133">To vytvořením první instance formátování textu pomocí provádí <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="69163-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="69163-134">Tato metoda vytvoří instanci formátovacího modulu text a nastaví řádku maximální výšku a šířku.</span><span class="sxs-lookup"><span data-stu-id="69163-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="69163-135">Jakmile je vytvořena instance formátování textu, proces vytváření řádek se spustí volání <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="69163-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="69163-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> zavolá zpět do zdroje textu k načtení textu a formátování parametry pro spuštění textu, které tvoří řádku.</span><span class="sxs-lookup"><span data-stu-id="69163-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="69163-137">V následujícím příkladu se zobrazí proces formátování textu úložiště.</span><span class="sxs-lookup"><span data-stu-id="69163-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="69163-138"><xref:System.Windows.Media.TextFormatting.TextFormatter> Objektu se používá k načtení řádky textu z textového úložiště a pak formátovat řádek textu pro kreslení do <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="69163-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="69163-139">Implementace Store Text klienta</span><span class="sxs-lookup"><span data-stu-id="69163-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="69163-140">Když rozšíříte modul formátování textu, jsou nutné k implementaci a správě všech aspektů úložišti text.</span><span class="sxs-lookup"><span data-stu-id="69163-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="69163-141">Toto není jednoduchý úkol.</span><span class="sxs-lookup"><span data-stu-id="69163-141">This is not a trivial task.</span></span> <span data-ttu-id="69163-142">Text úložiště zodpovídá za sledování spuštění vlastnosti, vlastnosti odstavce, vložené objekty a další podobné obsah textu.</span><span class="sxs-lookup"><span data-stu-id="69163-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="69163-143">Poskytuje také formátování textu u jednotlivých <xref:System.Windows.Media.TextFormatting.TextRun> objekty, které text formátovací modul používá k vytvoření <xref:System.Windows.Media.TextFormatting.TextLine> objekty.</span><span class="sxs-lookup"><span data-stu-id="69163-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="69163-144">Pro zpracování virtualizace úložiště textu, textu úložiště musí být odvozen od <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="69163-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="69163-145"><xref:System.Windows.Media.TextFormatting.TextSource> definuje metodu, kterou používá formátování textu k načtení textu spuštění z úložiště text.</span><span class="sxs-lookup"><span data-stu-id="69163-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="69163-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> je metoda používá formátování textu k načtení textu pracuje použitých ve formátování řádku.</span><span class="sxs-lookup"><span data-stu-id="69163-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="69163-147">Volání <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> opakovaně provede nástroj formátování textu dokud nenastane některá z následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="69163-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="69163-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> nebo je vrácena podtřídy.</span><span class="sxs-lookup"><span data-stu-id="69163-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="69163-149">Součet šířka textu spuštění překračuje maximální řádku šířce zadané ve volání vytvoření formátování textu nebo formátování textu volání <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="69163-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="69163-150">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] sekvence znaku nového řádku, jako je například "CF", "LF" nebo "CRLF", je vrácena.</span><span class="sxs-lookup"><span data-stu-id="69163-150">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="69163-151">Toky poskytování textu</span><span class="sxs-lookup"><span data-stu-id="69163-151">Providing Text Runs</span></span>  
 <span data-ttu-id="69163-152">Základní proces formátování textu je interakce mezi úložiště textu a formátování textu.</span><span class="sxs-lookup"><span data-stu-id="69163-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="69163-153">Implementace <xref:System.Windows.Media.TextFormatting.TextSource> poskytuje formátování textu s <xref:System.Windows.Media.TextFormatting.TextRun> objektů a vlastností, pomocí kterých se mají formátovat text běží.</span><span class="sxs-lookup"><span data-stu-id="69163-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="69163-154">Tato interakce se zpracovává souborem <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody, které je voláno rozhraním formátování textu.</span><span class="sxs-lookup"><span data-stu-id="69163-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="69163-155">V následující tabulce jsou uvedeny některé z předdefinovaných <xref:System.Windows.Media.TextFormatting.TextRun> objekty.</span><span class="sxs-lookup"><span data-stu-id="69163-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="69163-156">Typ TextRun</span><span class="sxs-lookup"><span data-stu-id="69163-156">TextRun Type</span></span>|<span data-ttu-id="69163-157">Použití</span><span class="sxs-lookup"><span data-stu-id="69163-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="69163-158">Specializované text spustit slouží k předání reprezentace znaku glyfy formátování textu.</span><span class="sxs-lookup"><span data-stu-id="69163-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="69163-159">Spusťte slouží k poskytování obsahu v které měření, testování průchodu specializované text a vykreslování se provádí jako celek, jako je například tlačítko nebo obrázek v textu.</span><span class="sxs-lookup"><span data-stu-id="69163-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="69163-160">Specializované text spustit slouží k označení konce řádku.</span><span class="sxs-lookup"><span data-stu-id="69163-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="69163-161">Specializované text spustit slouží k označení konce odstavce.</span><span class="sxs-lookup"><span data-stu-id="69163-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="69163-162">Specializované text spustit používá k označení konce segmentu, například na konec rozsahu ovlivněny předchozí <xref:System.Windows.Media.TextFormatting.TextModifier> spustit.</span><span class="sxs-lookup"><span data-stu-id="69163-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="69163-163">Specializované text spustit slouží k označení rozsahu znaků skryté.</span><span class="sxs-lookup"><span data-stu-id="69163-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="69163-164">Specializované text spustit slouží k úpravě vlastností textu se spouští ve svém oboru.</span><span class="sxs-lookup"><span data-stu-id="69163-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="69163-165">Rozsah rozšiřuje na další odpovídající <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text spustit nebo další <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span><span class="sxs-lookup"><span data-stu-id="69163-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="69163-166">Kteroukoli z předdefinovaných <xref:System.Windows.Media.TextFormatting.TextRun> objekty mohou být rozčlenit do podtříd.</span><span class="sxs-lookup"><span data-stu-id="69163-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="69163-167">Text zdroje k poskytování že formátování textu s textem spouští, včetně vlastních dat díky tomu.</span><span class="sxs-lookup"><span data-stu-id="69163-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="69163-168">Následující příklad ukazuje <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="69163-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="69163-169">Vrátí toto úložiště text <xref:System.Windows.Media.TextFormatting.TextRun> objekty k formátování textu pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="69163-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
>  <span data-ttu-id="69163-170">V tomto příkladu text úložiště poskytuje stejné vlastnosti text pro veškerý text.</span><span class="sxs-lookup"><span data-stu-id="69163-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="69163-171">Pokročilé text, který ukládá by bylo potřeba implementovat vlastní span management umožňuje mít různé vlastnosti jednotlivých znaků.</span><span class="sxs-lookup"><span data-stu-id="69163-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="69163-172">Zadání vlastnosti formátování</span><span class="sxs-lookup"><span data-stu-id="69163-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="69163-173"><xref:System.Windows.Media.TextFormatting.TextRun> objekty jsou formátovány pomocí vlastnosti poskytované třídou úložiště text.</span><span class="sxs-lookup"><span data-stu-id="69163-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="69163-174">Tyto vlastnosti se dělí na dva typy <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> a <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="69163-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="69163-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> zpracovat odstavec včetně vlastnosti, jako <xref:System.Windows.TextAlignment> a <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="69163-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="69163-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> jsou vlastnosti, které mohou být různé pro každý text spouštět v rámci odstavce, jako jsou štětce popředí <xref:System.Windows.Media.Typeface>a velikost písma.</span><span class="sxs-lookup"><span data-stu-id="69163-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="69163-177">K implementaci vlastních odstavec a spustit typy vlastností vlastního textu, musí aplikace vytvořit třídy, které jsou odvozeny z <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> a <xref:System.Windows.Media.TextFormatting.TextRunProperties> v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="69163-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69163-178">Viz také:</span><span class="sxs-lookup"><span data-stu-id="69163-178">See also</span></span>

- [<span data-ttu-id="69163-179">Typografie v rozhraní WPF</span><span class="sxs-lookup"><span data-stu-id="69163-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="69163-180">Dokumenty v platformě WPF</span><span class="sxs-lookup"><span data-stu-id="69163-180">Documents in WPF</span></span>](documents-in-wpf.md)
