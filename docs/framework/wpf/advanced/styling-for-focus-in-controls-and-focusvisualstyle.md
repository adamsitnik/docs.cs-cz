---
title: Nastavení stylů pro fokus v ovládacích prvcích a FocusVisualStyle
ms.date: 03/30/2017
helpviewer_keywords:
- keyboard focus [WPF]
- focus [WPF], visual styling
- styles [WPF], focus visual style
ms.assetid: 786ac576-011b-4d72-913b-558deccb9b35
ms.openlocfilehash: 988b084144532df6f7a6073184fcf035b0813bfd
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/03/2019
ms.locfileid: "73458677"
---
# <a name="styling-for-focus-in-controls-and-focusvisualstyle"></a><span data-ttu-id="33859-102">Nastavení stylů pro fokus v ovládacích prvcích a FocusVisualStyle</span><span class="sxs-lookup"><span data-stu-id="33859-102">Styling for Focus in Controls, and FocusVisualStyle</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="33859-103">poskytuje dva paralelní mechanismy pro změnu vizuálního vzhledu ovládacího prvku, když obdrží fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="33859-103">provides two parallel mechanisms for changing the visual appearance of a control when it receives keyboard focus.</span></span> <span data-ttu-id="33859-104">Prvním mechanismem je použití setter vlastností pro vlastnosti, jako je například <xref:System.Windows.UIElement.IsKeyboardFocused%2A> v rámci stylu nebo šablony, které jsou použity pro ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="33859-104">The first mechanism is to use property setters for properties such as <xref:System.Windows.UIElement.IsKeyboardFocused%2A> within the style or template that is applied to the control.</span></span> <span data-ttu-id="33859-105">Druhým mechanismem je poskytnout samostatný styl jako hodnotu vlastnosti <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>; styl výběru fokusu vytvoří samostatný vizuální strom pro doplňku, který kreslí nad ovládací prvek, nikoli změnou vizuálního stromu ovládacího prvku nebo jiného prvku uživatelského rozhraní jeho nahrazením.</span><span class="sxs-lookup"><span data-stu-id="33859-105">The second mechanism is to provide a separate style as the value of the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property; the "focus visual style" creates a separate visual tree for an adorner that draws on top of the control, rather than changing the visual tree of the control or other UI element by replacing it.</span></span> <span data-ttu-id="33859-106">Toto téma popisuje scénáře, kde je každý z těchto mechanismů vhodný.</span><span class="sxs-lookup"><span data-stu-id="33859-106">This topic discusses the scenarios where each of these mechanisms is appropriate.</span></span>  

<a name="Purpose"></a>   
## <a name="the-purpose-of-focus-visual-style"></a><span data-ttu-id="33859-107">Účel vizuálního stylu fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-107">The Purpose of Focus Visual Style</span></span>  
 <span data-ttu-id="33859-108">Funkce vizuálního stylu fokusu poskytuje společný "objektový model" pro představení vizuální zpětné vazby uživatelů na základě navigace pomocí klávesnice do libovolného prvku uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="33859-108">The focus visual style feature provides a common "object model" for introducing visual user feedback based on keyboard navigation to any UI element.</span></span> <span data-ttu-id="33859-109">To je možné bez použití nové šablony k ovládacímu prvku nebo znalosti konkrétního složení šablony.</span><span class="sxs-lookup"><span data-stu-id="33859-109">This is possible without applying a new template to the control, or knowing the specific template composition.</span></span>  
  
 <span data-ttu-id="33859-110">Nicméně přesně vzhledem k tomu, že funkce vizuálu fokusu funguje bez znalosti šablon ovládacích prvků, vizuální zpětnou vazbu, která se dá zobrazit pro ovládací prvek pomocí vizuálního stylu fokusu, je nutně omezená.</span><span class="sxs-lookup"><span data-stu-id="33859-110">However, precisely because the focus visual style feature works without knowing the control templates, the visual feedback that can be displayed for a control using a focus visual style is necessarily limited.</span></span> <span data-ttu-id="33859-111">Co funkce ve skutečnosti dělá, je překryv jiného vizuálního stromu (doplňku) na vizuálním stromu, který byl vytvořen vykreslováním ovládacího prvku prostřednictvím jeho šablony.</span><span class="sxs-lookup"><span data-stu-id="33859-111">What the feature actually does is to overlay a different visual tree (an adorner) on top of the visual tree as created by a control's rendering through its template.</span></span> <span data-ttu-id="33859-112">Tento samostatný vizuální strom definujete pomocí stylu, který vyplní vlastnost <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span><span class="sxs-lookup"><span data-stu-id="33859-112">You define this separate visual tree using a style that fills the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property.</span></span>  
  
<a name="Default"></a>   
## <a name="default-focus-visual-style-behavior"></a><span data-ttu-id="33859-113">Výchozí chování stylu vizuálu fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-113">Default Focus Visual Style Behavior</span></span>  
 <span data-ttu-id="33859-114">Vizuální styly fokusu se chovají pouze v případě, že byla akce fokusu iniciována klávesnicí.</span><span class="sxs-lookup"><span data-stu-id="33859-114">Focus visual styles act only when the focus action was initiated by the keyboard.</span></span> <span data-ttu-id="33859-115">Jakákoli akce myši nebo Programová změna v rámci fokusu zakáže režim pro výběr vizuálních stylů.</span><span class="sxs-lookup"><span data-stu-id="33859-115">Any mouse action or programmatic focus change disables the mode for focus visual styles.</span></span> <span data-ttu-id="33859-116">Další informace o rozdílech mezi detailními režimy najdete v tématu [Přehled fokusu](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="33859-116">For more information about the distinctions between focus modes, see [Focus Overview](focus-overview.md).</span></span>  
  
 <span data-ttu-id="33859-117">Motivy pro ovládací prvky obsahují výchozí chování fokusu ovládacího prvku, které se stávají vizuálním stylem fokusu pro všechny ovládací prvky v motivu.</span><span class="sxs-lookup"><span data-stu-id="33859-117">The themes for controls include a default focus visual style behavior that becomes the focus visual style for all controls in the theme.</span></span> <span data-ttu-id="33859-118">Tento styl motivu je identifikován hodnotou statického klíče <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="33859-118">This theme style is identified by the value of the static key <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span></span> <span data-ttu-id="33859-119">Když deklarujete vlastní vizuální styl fokusu na úrovni aplikace, nahradíte toto výchozí chování stylu z motivů.</span><span class="sxs-lookup"><span data-stu-id="33859-119">When you declare your own focus visual style at the application level, you replace this default style behavior from the themes.</span></span> <span data-ttu-id="33859-120">Případně, pokud definujete celý motiv, měli byste použít stejný klíč k definování stylu pro výchozí chování celého motivu.</span><span class="sxs-lookup"><span data-stu-id="33859-120">Alternatively, if you define the entire theme, then you should use this same key to define the style for the default behavior for your entire theme.</span></span>  
  
 <span data-ttu-id="33859-121">V motivech je výchozím vizuálním stylem fokusu všeobecně velmi jednoduché.</span><span class="sxs-lookup"><span data-stu-id="33859-121">In the themes, the default focus visual style is generally very simple.</span></span> <span data-ttu-id="33859-122">Následuje hrubá aproximace:</span><span class="sxs-lookup"><span data-stu-id="33859-122">The following is a rough approximation:</span></span>  
  
```xaml  
<Style x:Key="{x:Static SystemParameters.FocusVisualStyleKey}">  
  <Setter Property="Control.Template">  
    <Setter.Value>  
      <ControlTemplate>  
        <Rectangle StrokeThickness="1"  
          Stroke="Black"  
          StrokeDashArray="1 2"  
          SnapsToDevicePixels="true"/>  
      </ControlTemplate>  
    </Setter.Value>  
  </Setter>  
</Style>  
```  
  
<a name="When"></a>   
## <a name="when-to-use-focus-visual-styles"></a><span data-ttu-id="33859-123">Kdy použít vizuální styly fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-123">When to Use Focus Visual Styles</span></span>  
 <span data-ttu-id="33859-124">V koncepčním případě by se měl vzhled vizuálních stylů fokusu aplikovaný na ovládací prvky spojit s ovládacím prvkem.</span><span class="sxs-lookup"><span data-stu-id="33859-124">Conceptually, the appearance of focus visual styles applied to controls should be coherent from control to control.</span></span> <span data-ttu-id="33859-125">Jedním ze způsobů, jak zajistit soudržnost, je změnit styl vizuálního zaměření pouze v případě, že sestavování celého motivu, kde každý ovládací prvek, který je definován v motivu, získá buď stejný vizuální styl fokusu, nebo určitou variaci stylu, který vizuálně souvisí s ovládacím prvkem s pokračováním. rol.</span><span class="sxs-lookup"><span data-stu-id="33859-125">One way to ensure coherence is to change the focus visual style only if you are composing an entire theme, where each control that is defined in the theme gets either the very same focus visual style, or some variation of a style that is visually related from control to control.</span></span> <span data-ttu-id="33859-126">Alternativně můžete použít stejný styl (nebo podobné styly) pro styl každého prvku, který je zaměřen na klávesnici na stránce nebo v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="33859-126">Alternatively, you might use the same style (or similar styles) to style every keyboard-focusable element on a page or in a UI.</span></span>  
  
 <span data-ttu-id="33859-127">Nastavení <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> pro jednotlivé styly ovládacích prvků, které nejsou součástí motivu, není zamýšlené použití vizuálních stylů fokusu.</span><span class="sxs-lookup"><span data-stu-id="33859-127">Setting <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> on individual control styles that are not part of a theme is not the intended usage of focus visual styles.</span></span> <span data-ttu-id="33859-128">Důvodem je, že nekonzistentní vizuální chování mezi ovládacími prvky může vést k matoucímu uživatelskému rozhraní týkajícímu se fokusu klávesnice.</span><span class="sxs-lookup"><span data-stu-id="33859-128">This is because an inconsistent visual behavior between controls can lead to a confusing user experience regarding keyboard focus.</span></span> <span data-ttu-id="33859-129">Pokud pro fokus klávesnice nepoužíváte chování specifické pro ovládací prvky, které jsou záměrně nesouvislé v rámci motivu, je mnohem lepším řešením použití triggerů v stylech pro jednotlivé vlastnosti stavu vstupu, například <xref:System.Windows.UIElement.IsFocused%2A> nebo <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span><span class="sxs-lookup"><span data-stu-id="33859-129">If you are intending control-specific behaviors for keyboard focus that are deliberately not coherent across a theme, a much better approach is to use triggers in styles for individual input state properties, such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span></span>  
  
 <span data-ttu-id="33859-130">Vizuální styly fokusu fungují výhradně pro fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="33859-130">Focus visual styles act exclusively for keyboard focus.</span></span> <span data-ttu-id="33859-131">V takovém případě jsou vizuální styly fokusu typem funkce usnadnění.</span><span class="sxs-lookup"><span data-stu-id="33859-131">As such, focus visual styles are a type of accessibility feature.</span></span> <span data-ttu-id="33859-132">Pokud chcete změnit uživatelské rozhraní pro jakýkoliv typ fokusu, ať už přes myš, klávesnici nebo programově, neměli byste používat vizuální styly fokusu a místo toho byste měli použít metody setter a triggery v stylech nebo šablonách, které fungují z hodnoty vlastností obecného výběru. například <xref:System.Windows.UIElement.IsFocused%2A> nebo <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span><span class="sxs-lookup"><span data-stu-id="33859-132">If you want UI changes for any type of focus, whether via mouse, keyboard, or programmatically, then you should not use focus visual styles, and should instead use setters and triggers in styles or templates that are working from the value of general focus properties such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span></span>  
  
<a name="How"></a>   
## <a name="how-to-create-a-focus-visual-style"></a><span data-ttu-id="33859-133">Postup vytvoření vizuálního stylu fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-133">How to Create a Focus Visual Style</span></span>  
 <span data-ttu-id="33859-134">Styl, který vytvoříte pro vizuální styl fokusu, by měl mít vždycky <xref:System.Windows.Style.TargetType%2A> <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="33859-134">The style you create for a focus visual style should always have the <xref:System.Windows.Style.TargetType%2A> of <xref:System.Windows.Controls.Control>.</span></span> <span data-ttu-id="33859-135">Styl by měl sestávat hlavně z <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="33859-135">The style should consist mainly of a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="33859-136">Neurčíte cílový typ, který bude typem, který je přiřazen k <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>mu stylu fokusu.</span><span class="sxs-lookup"><span data-stu-id="33859-136">You do not specify the target type to be the type where the focus visual style is assigned to the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span></span>  
  
 <span data-ttu-id="33859-137">Vzhledem k tomu, že cílový typ je vždy <xref:System.Windows.Controls.Control>, je nutné styl použít pomocí vlastností, které jsou společné pro všechny ovládací prvky (pomocí vlastností třídy <xref:System.Windows.Controls.Control> a jejích základních tříd).</span><span class="sxs-lookup"><span data-stu-id="33859-137">Because the target type is always <xref:System.Windows.Controls.Control>, you must style by using properties that are common to all controls (using properties of the <xref:System.Windows.Controls.Control> class and its base classes).</span></span> <span data-ttu-id="33859-138">Měli byste vytvořit šablonu, která bude správně fungovat jako překryv pro prvek uživatelského rozhraní a který nebude krýt funkční oblasti tohoto ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="33859-138">You should create a template that will properly function as an overlay to a UI element and that will not obscure functional areas of the control.</span></span> <span data-ttu-id="33859-139">Obecně to znamená, že vizuální zpětná vazba by se měla zobrazit mimo řídicí okraje nebo jako dočasné nebo nenáročné efekty, které neblokují testování přístupů na ovládacím prvku, kde je použit styl vizuálu fokusu.</span><span class="sxs-lookup"><span data-stu-id="33859-139">Generally, this means that the visual feedback should appear outside the control margins, or as temporary or unobtrusive effects that will not block the hit testing on the control where the focus visual style is applied.</span></span> <span data-ttu-id="33859-140">Vlastnosti, které lze použít ve vazbách šablon, které jsou užitečné při určování velikosti a umístění překryté šablony, zahrnují <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>a <xref:System.Windows.Controls.Control.Padding%2A>.</span><span class="sxs-lookup"><span data-stu-id="33859-140">Properties that you can use in template binding that are useful for determining sizing and positioning of your overlay template include <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.Controls.Control.Padding%2A>.</span></span>  
  
<a name="Alternatives"></a>   
## <a name="alternatives-to-using-a-focus-visual-style"></a><span data-ttu-id="33859-141">Alternativy k použití vizuálního stylu fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-141">Alternatives to Using a Focus Visual Style</span></span>  
 <span data-ttu-id="33859-142">V situacích, kdy použití stylu fokusu fokusu není vhodné, buď protože přidáváte pouze jednotlivé ovládací prvky, nebo protože potřebujete větší kontrolu nad šablonou ovládacího prvku, existuje mnoho dalších přístupných vlastností a technik, které mohou vytvořit vizuál. chování v reakci na změny fokusu.</span><span class="sxs-lookup"><span data-stu-id="33859-142">For situations where using a focus visual style is not appropriate, either because you are only styling single controls or because you want greater control over the control template, there are many other accessible properties and techniques that can create visual behavior in response to changes in focus.</span></span>  
  
 <span data-ttu-id="33859-143">Triggery, metody setter a metody setter jsou podrobněji popsány v článku [stylování a šablonování](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span><span class="sxs-lookup"><span data-stu-id="33859-143">Triggers, setters, and event setters are all discussed in detail in [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span> <span data-ttu-id="33859-144">Směrované zpracování událostí je popsáno v tématu [Přehled směrovaných událostí](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="33859-144">Routed event handling is discussed in [Routed Events Overview](routed-events-overview.md).</span></span>  
  
### <a name="iskeyboardfocused"></a><span data-ttu-id="33859-145">IsKeyboardFocused</span><span class="sxs-lookup"><span data-stu-id="33859-145">IsKeyboardFocused</span></span>  
 <span data-ttu-id="33859-146">Pokud vás zajímá konkrétně fokus klávesnice, lze vlastnost <xref:System.Windows.UIElement.IsKeyboardFocused%2A> Dependency použít pro <xref:System.Windows.Trigger>vlastností.</span><span class="sxs-lookup"><span data-stu-id="33859-146">If you are specifically interested in keyboard focus, the <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dependency property can be used for a property <xref:System.Windows.Trigger>.</span></span> <span data-ttu-id="33859-147">Aktivační událost vlastnosti ve stylu nebo šabloně je vhodnější pro definování chování fokusu klávesnice, které je velmi vhodné pro jeden ovládací prvek a který nemusí vizuálně odpovídat chování fokusu klávesnice pro jiné ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="33859-147">A property trigger in either a style or template is a more appropriate technique for defining a keyboard focus behavior that is very specifically for a single control, and which might not visually match the keyboard focus behavior for other controls.</span></span>  
  
 <span data-ttu-id="33859-148">Další podobná vlastnost závislosti je <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, která může být vhodná k použití, pokud chcete vizuálně vyzvat, aby se fokus klávesnice nacházet někde v rámci skládání nebo v rámci funkční oblasti ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="33859-148">Another similar dependency property is <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, which might be appropriate to use if you want to visually call out that keyboard focus is somewhere within compositing or within the functional area of the control.</span></span> <span data-ttu-id="33859-149">Například můžete umístit aktivační událost <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> tak, aby se panel, který seskupuje několik ovládacích prvků, zobrazoval jinak, i když fokus klávesnice může být přesnější na jednotlivém prvku v tomto panelu.</span><span class="sxs-lookup"><span data-stu-id="33859-149">For example, you might place an <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> trigger such that a panel that groups several controls appears differently, even though keyboard focus might more precisely be on an individual element within that panel.</span></span>  
  
 <span data-ttu-id="33859-150">Můžete také použít události <xref:System.Windows.UIElement.GotKeyboardFocus> a <xref:System.Windows.UIElement.LostKeyboardFocus> (stejně jako jejich ekvivalenty ve verzi Preview).</span><span class="sxs-lookup"><span data-stu-id="33859-150">You can also use the events <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> (as well as their Preview equivalents).</span></span> <span data-ttu-id="33859-151">Tyto události lze použít jako základ pro <xref:System.Windows.EventSetter>, nebo můžete napsat obslužné rutiny pro události v kódu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="33859-151">You can use these events as the basis for an <xref:System.Windows.EventSetter>, or you can write handlers for the events in code-behind.</span></span>  
  
### <a name="other-focus-properties"></a><span data-ttu-id="33859-152">Vlastnosti dalších vlastností výběru</span><span class="sxs-lookup"><span data-stu-id="33859-152">Other Focus Properties</span></span>  
 <span data-ttu-id="33859-153">Pokud chcete, aby všechny možné příčiny se změnou fokusu na vizuální chování, měli byste založit metodu setter nebo Trigger na vlastnosti závislosti <xref:System.Windows.UIElement.IsFocused%2A> nebo případně na událostech <xref:System.Windows.UIElement.GotFocus> nebo <xref:System.Windows.UIElement.LostFocus>, které se používají pro <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="33859-153">If you want all possible causes of changing focus to produce a visual behavior, you should base a setter or trigger on the <xref:System.Windows.UIElement.IsFocused%2A> dependency property, or alternatively on the <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus> events used for an <xref:System.Windows.EventSetter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33859-154">Viz také:</span><span class="sxs-lookup"><span data-stu-id="33859-154">See also</span></span>

- <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>
- [<span data-ttu-id="33859-155">Styly a šablony</span><span class="sxs-lookup"><span data-stu-id="33859-155">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="33859-156">Přehled fokusu</span><span class="sxs-lookup"><span data-stu-id="33859-156">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="33859-157">Přehled vstupu</span><span class="sxs-lookup"><span data-stu-id="33859-157">Input Overview</span></span>](input-overview.md)
