---
title: Přehled správy aplikací
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- application management [WPF]
ms.assetid: 32b1c054-5aca-423b-b4b5-ed8dc4dc637d
ms.openlocfilehash: 395077b7c82ee54a51b8086df0c59f731e3a2b70
ms.sourcegitcommit: d938c39afb9216db377d0f0ecdaa53936a851059
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/29/2019
ms.locfileid: "58634216"
---
# <a name="application-management-overview"></a><span data-ttu-id="fdc18-102">Přehled správy aplikací</span><span class="sxs-lookup"><span data-stu-id="fdc18-102">Application Management Overview</span></span>
<span data-ttu-id="fdc18-103">Všechny aplikace mají tendenci sdílejí společnou sadu funkcí, které se vztahuje na aplikace implementaci a správu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-103">All applications tend to share a common set of functionality that applies to application implementation and management.</span></span> <span data-ttu-id="fdc18-104">Toto téma obsahuje přehled funkcí v <xref:System.Windows.Application> třídy pro vytváření a správu aplikací.</span><span class="sxs-lookup"><span data-stu-id="fdc18-104">This topic provides an overview of the functionality in the <xref:System.Windows.Application> class for creating and managing applications.</span></span>  
   
  
## <a name="the-application-class"></a><span data-ttu-id="fdc18-105">Třída aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-105">The Application Class</span></span>  
 <span data-ttu-id="fdc18-106">V WPF, běžné funkce s rozsahem aplikace zapouzdřena v <xref:System.Windows.Application> třídy.</span><span class="sxs-lookup"><span data-stu-id="fdc18-106">In WPF, common application-scoped functionality is encapsulated in the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="fdc18-107"><xref:System.Windows.Application> Třída zahrnuje následující funkce:</span><span class="sxs-lookup"><span data-stu-id="fdc18-107">The <xref:System.Windows.Application> class includes the following functionality:</span></span>  
  
-   <span data-ttu-id="fdc18-108">Sledování a interakci s dobu životnosti aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-108">Tracking and interacting with application lifetime.</span></span>  
  
-   <span data-ttu-id="fdc18-109">Načítání a zpracování parametrů příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="fdc18-109">Retrieving and processing command-line parameters.</span></span>  
  
-   <span data-ttu-id="fdc18-110">Detekce a reakce na neošetřených výjimek.</span><span class="sxs-lookup"><span data-stu-id="fdc18-110">Detecting and responding to unhandled exceptions.</span></span>  
  
-   <span data-ttu-id="fdc18-111">Sdílení vlastností pro rozsah aplikace a prostředky.</span><span class="sxs-lookup"><span data-stu-id="fdc18-111">Sharing application-scope properties and resources.</span></span>  
  
-   <span data-ttu-id="fdc18-112">Správa systému windows v samostatné aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-112">Managing windows in standalone applications.</span></span>  
  
-   <span data-ttu-id="fdc18-113">Sledování a správu navigace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-113">Tracking and managing navigation.</span></span>  
  
<a name="The_Application_Class"></a>   
## <a name="how-to-perform-common-tasks-using-the-application-class"></a><span data-ttu-id="fdc18-114">Jak provádět běžné úlohy pomocí třídy aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-114">How to Perform Common Tasks Using the Application Class</span></span>  
 <span data-ttu-id="fdc18-115">Pokud si nejste zájem o všechny podrobnosti o <xref:System.Windows.Application> třídy, v následující tabulce jsou uvedeny některé běžné úlohy pro <xref:System.Windows.Application> a způsobu jejich provedení.</span><span class="sxs-lookup"><span data-stu-id="fdc18-115">If you are not interested in all of the details of the <xref:System.Windows.Application> class, the following table lists some of the common tasks for <xref:System.Windows.Application> and how to accomplish them.</span></span> <span data-ttu-id="fdc18-116">Zobrazení souvisejících rozhraní API a témata, můžete najít další informace a ukázky kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-116">By viewing the related API and topics, you can find more information and sample code.</span></span>  
  
|<span data-ttu-id="fdc18-117">Úloha</span><span class="sxs-lookup"><span data-stu-id="fdc18-117">Task</span></span>|<span data-ttu-id="fdc18-118">Přístup</span><span class="sxs-lookup"><span data-stu-id="fdc18-118">Approach</span></span>|  
|----------|--------------|  
|<span data-ttu-id="fdc18-119">Získejte objekt, který představuje aktuální aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-119">Get an object that represents the current application</span></span>|<span data-ttu-id="fdc18-120">Použití <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-120">Use the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="fdc18-121">Přidání úvodní obrazovky do aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-121">Add a startup screen to an application</span></span>|<span data-ttu-id="fdc18-122">Zobrazit [přidání úvodní obrazovky do aplikace WPF](how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-122">See [Add a Splash Screen to a WPF Application](how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>|  
|<span data-ttu-id="fdc18-123">Spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-123">Start an application</span></span>|<span data-ttu-id="fdc18-124">Použití <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="fdc18-124">Use the <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> method.</span></span>|  
|<span data-ttu-id="fdc18-125">Zastavit aplikaci</span><span class="sxs-lookup"><span data-stu-id="fdc18-125">Stop an application</span></span>|<span data-ttu-id="fdc18-126">Použití <xref:System.Windows.Application.Shutdown%2A> metodu <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> objektu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-126">Use the <xref:System.Windows.Application.Shutdown%2A> method of the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> object.</span></span>|  
|<span data-ttu-id="fdc18-127">Získat argumenty z příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="fdc18-127">Get arguments from the command line</span></span>|<span data-ttu-id="fdc18-128">Zpracování <xref:System.Windows.Application.Startup?displayProperty=nameWithType> událostí a použití <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-128">Handle the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event and use the <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fdc18-129">Příklad najdete v tématu <xref:System.Windows.Application.Startup?displayProperty=nameWithType> událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-129">For an example, see the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event.</span></span>|  
|<span data-ttu-id="fdc18-130">Získání a nastavení ukončovací kód aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-130">Get and set the application exit code</span></span>|<span data-ttu-id="fdc18-131">Nastavit <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> vlastnost <xref:System.Windows.Application.Exit?displayProperty=nameWithType> obslužná rutina události nebo volání <xref:System.Windows.Application.Shutdown%2A> a předáte v celé číslo.</span><span class="sxs-lookup"><span data-stu-id="fdc18-131">Set the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> property in the <xref:System.Windows.Application.Exit?displayProperty=nameWithType> event handler or call the <xref:System.Windows.Application.Shutdown%2A> method and pass in an integer.</span></span>|  
|<span data-ttu-id="fdc18-132">Rozpoznání hrozeb a reakce na neošetřené výjimky</span><span class="sxs-lookup"><span data-stu-id="fdc18-132">Detect and respond to unhandled exceptions</span></span>|<span data-ttu-id="fdc18-133">Zpracování <xref:System.Windows.Application.DispatcherUnhandledException> událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-133">Handle the <xref:System.Windows.Application.DispatcherUnhandledException> event.</span></span>|  
|<span data-ttu-id="fdc18-134">Získání a nastavení oboru aplikace prostředků</span><span class="sxs-lookup"><span data-stu-id="fdc18-134">Get and set application-scoped resources</span></span>|<span data-ttu-id="fdc18-135">Použití <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-135">Use the <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="fdc18-136">Použití slovníku zdrojů rozsahu aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-136">Use an application-scope resource dictionary</span></span>|<span data-ttu-id="fdc18-137">Zobrazit [použití slovníku zdrojů rozsahu aplikace](how-to-use-an-application-scope-resource-dictionary.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-137">See [Use an Application-Scope Resource Dictionary](how-to-use-an-application-scope-resource-dictionary.md).</span></span>|  
|<span data-ttu-id="fdc18-138">GET a set vlastnosti pro obor aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-138">Get and set application-scoped properties</span></span>|<span data-ttu-id="fdc18-139">Použití <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-139">Use the <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="fdc18-140">Získání a uložit stav aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-140">Get and save an application's state</span></span>|<span data-ttu-id="fdc18-141">Zobrazit [zachování a obnovení vlastností v rozsahu aplikace mezi jednotlivými relacemi aplikace](persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-141">See [Persist and Restore Application-Scope Properties Across Application Sessions](persist-and-restore-application-scope-properties.md).</span></span>|  
|<span data-ttu-id="fdc18-142">Správa souborů dat bez kódu, včetně souborů prostředků, soubory obsahu a souborů lokality původu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-142">Manage non-code data files, including resource files, content files, and site-of-origin files.</span></span>|<span data-ttu-id="fdc18-143">Zobrazit [prostředek aplikace WPF, obsah a datové soubory](wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-143">See [WPF Application Resource, Content, and Data Files](wpf-application-resource-content-and-data-files.md).</span></span>|  
|<span data-ttu-id="fdc18-144">Správa systému windows v samostatné aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-144">Manage windows in standalone applications</span></span>|<span data-ttu-id="fdc18-145">Zobrazit [přehled WPF Windows](wpf-windows-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-145">See [WPF Windows Overview](wpf-windows-overview.md).</span></span>|  
|<span data-ttu-id="fdc18-146">Sledování a správa navigace</span><span class="sxs-lookup"><span data-stu-id="fdc18-146">Track and manage navigation</span></span>|<span data-ttu-id="fdc18-147">Zobrazit [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-147">See [Navigation Overview](navigation-overview.md).</span></span>|  
  
<a name="The_Application_Definition"></a>   
## <a name="the-application-definition"></a><span data-ttu-id="fdc18-148">Definice aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-148">The Application Definition</span></span>  
 <span data-ttu-id="fdc18-149">Využívání funkce <xref:System.Windows.Application> třídy, je nutné implementovat definici aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-149">To utilize the functionality of the <xref:System.Windows.Application> class, you must implement an application definition.</span></span> <span data-ttu-id="fdc18-150">Definice aplikace WPF je třída, která je odvozena z <xref:System.Windows.Application> a má nakonfigurovanou speciální nastavení pro MSBuild.</span><span class="sxs-lookup"><span data-stu-id="fdc18-150">A WPF application definition is a class that derives from <xref:System.Windows.Application> and is configured with a special MSBuild setting.</span></span>  

### <a name="implementing-an-application-definition"></a><span data-ttu-id="fdc18-151">Implementace definice aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-151">Implementing an Application Definition</span></span>  
 <span data-ttu-id="fdc18-152">Typické definice aplikace WPF je implementováno pomocí značek a kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-152">A typical WPF application definition is implemented using both markup and code-behind.</span></span> <span data-ttu-id="fdc18-153">To umožňuje používat značky a deklarativně nastavte vlastnosti aplikace, prostředky a zaregistrujte události, při zpracování událostí a implementaci chování specifické pro aplikaci v modelu code-behind.</span><span class="sxs-lookup"><span data-stu-id="fdc18-153">This allows you to use markup to declaratively set application properties, resources, and register events, while handling events and implementing application-specific behavior in code-behind.</span></span>  
  
 <span data-ttu-id="fdc18-154">Následující příklad ukazuje, jak implementovat definici aplikace pomocí značek a kódu:</span><span class="sxs-lookup"><span data-stu-id="fdc18-154">The following example shows how to implement an application definition using both markup and code-behind:</span></span>  
  
 [!code-xaml[ApplicationSnippets#ApplicationXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml#applicationxaml)]  
  
 [!code-csharp[ApplicationSnippets#ApplicationCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml.cs#applicationcodebehind)]
 [!code-vb[ApplicationSnippets#ApplicationCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSnippets/visualbasic/application.xaml.vb#applicationcodebehind)]  
  
 <span data-ttu-id="fdc18-155">Povolit souboru označení a použití modelu code-behind soubor spolupráce, následující potřeba:</span><span class="sxs-lookup"><span data-stu-id="fdc18-155">To allow a markup file and code-behind file to work together, the following needs to happen:</span></span>  
  
- <span data-ttu-id="fdc18-156">V kódu `Application` musí obsahovat element `x:Class` atribut.</span><span class="sxs-lookup"><span data-stu-id="fdc18-156">In markup, the `Application` element must include the `x:Class` attribute.</span></span> <span data-ttu-id="fdc18-157">Když je aplikace sestavená, existenci `x:Class` ve značkách soubor způsobí, že nástroj MSBuild vytvoří `partial` třídu odvozenou od <xref:System.Windows.Application> a má název, který je určen `x:Class` atribut.</span><span class="sxs-lookup"><span data-stu-id="fdc18-157">When the application is built, the existence of `x:Class` in the markup file causes MSBuild to create a `partial` class that derives from <xref:System.Windows.Application> and has the name that is specified by the `x:Class` attribute.</span></span> <span data-ttu-id="fdc18-158">To vyžaduje přidání deklarace oboru názvů XML pro schéma XAML (`xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`).</span><span class="sxs-lookup"><span data-stu-id="fdc18-158">This requires the addition of an XML namespace declaration for the XAML schema (`xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`).</span></span>
  
-   <span data-ttu-id="fdc18-159">V modelu code-behind, musí být třída `partial` třídy se stejným názvem, která je zadána `x:Class` atribut v kódu a musí být odvozen od <xref:System.Windows.Application>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-159">In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup and must derive from <xref:System.Windows.Application>.</span></span> <span data-ttu-id="fdc18-160">To umožňuje použití modelu code-behind souboru má být spojen s `partial` třídu, která se vygeneruje pro označovacího souboru, když je aplikace sestavená (viz [sestavení aplikace WPF](building-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="fdc18-160">This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](building-a-wpf-application-wpf.md)).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-161">Při vytváření nového projektu aplikace WPF nebo aplikace WPF pro prohlížeč projekt pomocí sady Visual Studio, definice aplikace je zahrnutá ve výchozím nastavení a je definován pomocí značek a kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-161">When you create a new WPF Application project or WPF Browser Application project using Visual Studio, an application definition is included by default and is defined using both markup and code-behind.</span></span>  
  
 <span data-ttu-id="fdc18-162">Tento kód je minimum, které je potřeba implementovat definici aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-162">This code is the minimum that is required to implement an application definition.</span></span> <span data-ttu-id="fdc18-163">Další konfigurační nástroje MSBuild však musí provést k definici aplikace před sestavovat a spouštět aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-163">However, an additional MSBuild configuration needs to be made to the application definition before building and running the application.</span></span>  
  
### <a name="configuring-the-application-definition-for-msbuild"></a><span data-ttu-id="fdc18-164">Konfigurace definice aplikace pro MSBuild</span><span class="sxs-lookup"><span data-stu-id="fdc18-164">Configuring the Application Definition for MSBuild</span></span>  
 <span data-ttu-id="fdc18-165">Samostatné aplikace a aplikace prohlížeče XAML (XBAP) vyžadují provádění určitou úroveň infrastruktury před spuštěním.</span><span class="sxs-lookup"><span data-stu-id="fdc18-165">Standalone applications and XAML browser applications (XBAPs) require the implementation of a certain level of infrastructure before they can run.</span></span> <span data-ttu-id="fdc18-166">Nejdůležitější součást této infrastruktury je vstupním bodem.</span><span class="sxs-lookup"><span data-stu-id="fdc18-166">The most important part of this infrastructure is the entry point.</span></span> <span data-ttu-id="fdc18-167">Při spuštění aplikace uživatelem operační systém zavolá vstupní bod, který je dobře známé funkce pro spouštění aplikací.</span><span class="sxs-lookup"><span data-stu-id="fdc18-167">When an application is launched by a user, the operating system calls the entry point, which is a well-known function for starting applications.</span></span>  
  
 <span data-ttu-id="fdc18-168">Tradičně vývojáři potřebovali pro zápis některých nebo všech tento kód sami, v závislosti na technologie.</span><span class="sxs-lookup"><span data-stu-id="fdc18-168">Traditionally, developers have needed to write some or all of this code for themselves, depending on the technology.</span></span> <span data-ttu-id="fdc18-169">Ale generuje WPF tento kód za vás při References souboru definice aplikace je nakonfigurovaný jako MSBuild `ApplicationDefinition` položky, jak je znázorněno v následujícím souboru projektu nástroje MSBuild:</span><span class="sxs-lookup"><span data-stu-id="fdc18-169">However, WPF generates this code for you when the markup file of your application definition is configured as an MSBuild `ApplicationDefinition` item, as shown in the following MSBuild project file:</span></span>  
  
```xml  
<Project   
  DefaultTargets="Build"  
                        xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  
  ...  
  <ApplicationDefinition Include="App.xaml" />  
  <Compile Include="App.xaml.cs" />  
  ...  
</Project>  
```  
  
 <span data-ttu-id="fdc18-170">Protože soubor kódu obsahuje kód, je označen jako MSBuild `Compile` položky, jako je normální.</span><span class="sxs-lookup"><span data-stu-id="fdc18-170">Because the code-behind file contains code, it is marked as an MSBuild `Compile` item, as is normal.</span></span>  
  
 <span data-ttu-id="fdc18-171">Aplikace z těchto konfigurací nástroje MSBuild pro soubory značek a použití modelu code-behind definici aplikace způsobí, že nástroj MSBuild pro generování kódu, jako je následující:</span><span class="sxs-lookup"><span data-stu-id="fdc18-171">The application of these MSBuild configurations to the markup and code-behind files of an application definition causes MSBuild to generate code like the following:</span></span>  
  
 [!code-csharp[auto-generated-code](~/samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs)]
 [!code-vb[auto-generated-code](~/samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb)]  
  
 <span data-ttu-id="fdc18-172">Výsledný kód argumentech definice aplikace s kódem další infrastrukturu, která zahrnuje metodu vstupního bodu `Main`.</span><span class="sxs-lookup"><span data-stu-id="fdc18-172">The resulting code augments your application definition with additional infrastructure code, which includes the entry-point method `Main`.</span></span> <span data-ttu-id="fdc18-173"><xref:System.STAThreadAttribute> Atribut aplikován `Main` indikace, že je hlavní vlákno uživatelského rozhraní pro aplikace WPF vlákna STA, které je potřeba pro aplikace WPF.</span><span class="sxs-lookup"><span data-stu-id="fdc18-173">The <xref:System.STAThreadAttribute> attribute is applied to the `Main` method to indicate that the main UI thread for the WPF application is an STA thread, which is required for WPF applications.</span></span> <span data-ttu-id="fdc18-174">Při volání `Main` vytvoří novou instanci třídy `App` před voláním `InitializeComponent` metodu registrace událostí a nastavte vlastnosti, které jsou implementovány v kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-174">When called, `Main` creates a new instance of `App` before calling the `InitializeComponent` method to register the events and set the properties that are implemented in markup.</span></span> <span data-ttu-id="fdc18-175">Protože `InitializeComponent` se vygeneruje, není nutné explicitně volat `InitializeComponent` z definice aplikace stejným způsobem jako <xref:System.Windows.Controls.Page> a <xref:System.Windows.Window> implementace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-175">Because `InitializeComponent` is generated for you, you don't need to explicitly call `InitializeComponent` from an application definition like you do for <xref:System.Windows.Controls.Page> and <xref:System.Windows.Window> implementations.</span></span> <span data-ttu-id="fdc18-176">Nakonec <xref:System.Windows.Application.Run%2A> metoda je volána ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-176">Finally, the <xref:System.Windows.Application.Run%2A> method is called to start the application.</span></span>  
  
<a name="Getting_the_Current_Application"></a>   
## <a name="getting-the-current-application"></a><span data-ttu-id="fdc18-177">Získávání aktuální aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-177">Getting the Current Application</span></span>  
 <span data-ttu-id="fdc18-178">Protože funkce <xref:System.Windows.Application> třídy jsou sdíleny napříč aplikace, může existovat pouze jedna instance <xref:System.Windows.Application> třídy za <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-178">Because the functionality of the <xref:System.Windows.Application> class are shared across an application, there can be only one instance of the <xref:System.Windows.Application> class per <xref:System.AppDomain>.</span></span> <span data-ttu-id="fdc18-179">Pokud to chcete vynutit <xref:System.Windows.Application> třídy je implementován jako třída singleton (naleznete v tématu [implementace jednotlivý prvek v jazyce C#](https://go.microsoft.com/fwlink/?LinkId=100567)), vytvoří jednu instanci sebe sama a poskytuje sdílený přístup přes `static` <xref:System.Windows.Application.Current%2A> Vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-179">To enforce this, the <xref:System.Windows.Application> class is implemented as a singleton class (see [Implementing Singleton in C#](https://go.microsoft.com/fwlink/?LinkId=100567)), which creates a single instance of itself and provides shared access to it with the `static`<xref:System.Windows.Application.Current%2A> property.</span></span>  
  
 <span data-ttu-id="fdc18-180">Následující kód ukazuje, jak získat odkaz na <xref:System.Windows.Application> pro aktuální objekt <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-180">The following code shows how to acquire a reference to the <xref:System.Windows.Application> object for the current <xref:System.AppDomain>.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getcurrentappcode)]  
  
 <span data-ttu-id="fdc18-181"><xref:System.Windows.Application.Current%2A> Vrátí odkaz na instanci <xref:System.Windows.Application> třídy.</span><span class="sxs-lookup"><span data-stu-id="fdc18-181"><xref:System.Windows.Application.Current%2A> returns a reference to an instance of the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="fdc18-182">Pokud chcete odkaz na vaši <xref:System.Windows.Application> odvozené třídy musí přetypujte hodnotu <xref:System.Windows.Application.Current%2A> vlastnost, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-182">If you want a reference to your <xref:System.Windows.Application> derived class you must cast the value of the <xref:System.Windows.Application.Current%2A> property, as shown in the following example.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getstcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getstcurrentappcode)]  
  
 <span data-ttu-id="fdc18-183">Můžete zkontrolovat hodnoty <xref:System.Windows.Application.Current%2A> kdykoli během životnosti <xref:System.Windows.Application> objektu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-183">You can inspect the value of <xref:System.Windows.Application.Current%2A> at any point in the lifetime of an <xref:System.Windows.Application> object.</span></span> <span data-ttu-id="fdc18-184">Nicméně byste měli být opatrní.</span><span class="sxs-lookup"><span data-stu-id="fdc18-184">However, you should be careful.</span></span> <span data-ttu-id="fdc18-185">Po <xref:System.Windows.Application> je vytvořena instance třídy, je období, během které stavu <xref:System.Windows.Application> objektu je nekonzistentní.</span><span class="sxs-lookup"><span data-stu-id="fdc18-185">After the <xref:System.Windows.Application> class is instantiated, there is a period during which the state of the <xref:System.Windows.Application> object is inconsistent.</span></span> <span data-ttu-id="fdc18-186">Během tohoto období <xref:System.Windows.Application> je provádění různých úloh inicializace, které vyžaduje váš kód pro spuštění, včetně vytváření infrastruktury aplikací, nastavení vlastností a registrací událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-186">During this period, <xref:System.Windows.Application> is performing the various initialization tasks that are required by your code to run, including establishing application infrastructure, setting properties, and registering events.</span></span> <span data-ttu-id="fdc18-187">Pokud se pokusíte použít <xref:System.Windows.Application> objektu během tohoto období se váš kód může mít neočekávané výsledky, zejména v případě, že závisí na různých <xref:System.Windows.Application> vlastnosti nastavena.</span><span class="sxs-lookup"><span data-stu-id="fdc18-187">If you try to use the <xref:System.Windows.Application> object during this period, your code may have unexpected results, particularly if it depends on the various <xref:System.Windows.Application> properties being set.</span></span>  
  
 <span data-ttu-id="fdc18-188">Když <xref:System.Windows.Application> dokončí svoji inicializaci svého životního cyklu skutečně začíná.</span><span class="sxs-lookup"><span data-stu-id="fdc18-188">When <xref:System.Windows.Application> completes its initialization work, its lifetime truly begins.</span></span>  
  
<a name="Application_Lifetime"></a>   
## <a name="application-lifetime"></a><span data-ttu-id="fdc18-189">Doba života aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-189">Application Lifetime</span></span>  
 <span data-ttu-id="fdc18-190">Životnost aplikace WPF je označen několika událostem, které jsou generovány <xref:System.Windows.Application> dali vám vědět, kdy byla spuštěna aplikace, má se aktivovat a deaktivovat a vypnul.</span><span class="sxs-lookup"><span data-stu-id="fdc18-190">The lifetime of a WPF application is marked by several events that are raised by <xref:System.Windows.Application> to let you know when your application has started, has been activated and deactivated, and has been shut down.</span></span>  
  
  
<a name="Splash_Screen"></a>   
### <a name="splash-screen"></a><span data-ttu-id="fdc18-191">Úvodní obrazovka</span><span class="sxs-lookup"><span data-stu-id="fdc18-191">Splash Screen</span></span>  
 <span data-ttu-id="fdc18-192">Počínaje [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], zadáte image, který se má použít v okně spuštění nebo *úvodní obrazovka*.</span><span class="sxs-lookup"><span data-stu-id="fdc18-192">Starting in the [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], you can specify an image to be used in a startup window, or *splash screen*.</span></span> <span data-ttu-id="fdc18-193"><xref:System.Windows.SplashScreen> Třída usnadňuje zobrazení úvodní okno při načítání vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-193">The <xref:System.Windows.SplashScreen> class makes it easy to display a startup window while your application is loading.</span></span> <span data-ttu-id="fdc18-194"><xref:System.Windows.SplashScreen> Okno se vytvoří a zobrazí před <xref:System.Windows.Application.Run%2A> je volána.</span><span class="sxs-lookup"><span data-stu-id="fdc18-194">The <xref:System.Windows.SplashScreen> window is created and shown before <xref:System.Windows.Application.Run%2A> is called.</span></span> <span data-ttu-id="fdc18-195">Další informace najdete v tématu [dobu spuštění aplikace](../advanced/application-startup-time.md) a [přidání úvodní obrazovky do aplikace WPF](how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-195">For more information, see [Application Startup Time](../advanced/application-startup-time.md) and [Add a Splash Screen to a WPF Application](how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>  
  
<a name="Starting_an_Application"></a>   
### <a name="starting-an-application"></a><span data-ttu-id="fdc18-196">Spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-196">Starting an Application</span></span>  
 <span data-ttu-id="fdc18-197">Po <xref:System.Windows.Application.Run%2A> nazývá a byla inicializována aplikace, je připraven ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-197">After <xref:System.Windows.Application.Run%2A> is called and the application is initialized, the application is ready to run.</span></span> <span data-ttu-id="fdc18-198">Aktuálně jsou označeny při <xref:System.Windows.Application.Startup> událost se vyvolá:</span><span class="sxs-lookup"><span data-stu-id="fdc18-198">This moment is signified when the <xref:System.Windows.Application.Startup> event is raised:</span></span>  
  
[!code-csharp[Startup-event](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs?range=3-11,31-33)]
[!code-vb[Startup-event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb?range=5-11,30-32)]
  
 <span data-ttu-id="fdc18-199">V tomto okamžiku v životnosti aplikace, je nejčastěji používané krokem je zobrazení uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="fdc18-199">At this point in an application's lifetime, the most common thing to do is to show a UI.</span></span>  
  
<a name="Showing_a_User_Interface"></a>
### <a name="showing-a-user-interface"></a><span data-ttu-id="fdc18-200">Zobrazení uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="fdc18-200">Showing a User Interface</span></span>  
 <span data-ttu-id="fdc18-201">Většina aplikací Windows samostatné otevřete <xref:System.Windows.Window> když začnou systémem.</span><span class="sxs-lookup"><span data-stu-id="fdc18-201">Most standalone Windows applications open a <xref:System.Windows.Window> when they begin running.</span></span> <span data-ttu-id="fdc18-202"><xref:System.Windows.Application.Startup> Obslužná rutina události je jedno místo, ze které můžete dělat to, jak je ukázáno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-202">The <xref:System.Windows.Application.Startup> event handler is one location from which you can do this, as demonstrated by the following code.</span></span>  
  
 [!code-xaml[AppShowWindowHardSnippets#StartupEventMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml#startupeventmarkup)]  
  
 [!code-csharp[AppShowWindowHardSnippets#StartupEventCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml.cs#startupeventcodebehind)]
 [!code-vb[AppShowWindowHardSnippets#StartupEventCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/AppShowWindowHardSnippets/VisualBasic/Application.xaml.vb#startupeventcodebehind)]  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-203">První <xref:System.Windows.Window> má být vytvořena v samostatné aplikaci, bude ve výchozím nastavení hlavního okna aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-203">The first <xref:System.Windows.Window> to be instantiated in a standalone application becomes the main application window by default.</span></span> <span data-ttu-id="fdc18-204">To <xref:System.Windows.Window> objekt odkazují <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-204">This <xref:System.Windows.Window> object is referenced by the <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fdc18-205">Hodnota <xref:System.Windows.Application.MainWindow%2A> vlastnost lze změnit prostřednictvím kódu programu, pokud jiné okno než první instance <xref:System.Windows.Window> by měl být hlavní okno.</span><span class="sxs-lookup"><span data-stu-id="fdc18-205">The value of the <xref:System.Windows.Application.MainWindow%2A> property can be changed programmatically if a different window than the first instantiated <xref:System.Windows.Window> should be the main window.</span></span>  
  
 <span data-ttu-id="fdc18-206">Při prvním spuštění XBAP, bude pravděpodobně přejděte <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-206">When an XBAP first starts, it will most likely navigate to a <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="fdc18-207">To je ukázáno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-207">This is shown in the following code.</span></span>  
  
 [!code-xaml[XBAPAppStartupSnippets#StartupXBAPMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml#startupxbapmarkup)]  
  
 [!code-csharp[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml.cs#startupxbapcodebehind)]
 [!code-vb[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppStartupSnippets/VisualBasic/Application.xaml.vb#startupxbapcodebehind)]  
  
 <span data-ttu-id="fdc18-208">Pokud zpracováváte <xref:System.Windows.Application.Startup> pouze otevřít <xref:System.Windows.Window> nebo přejděte na <xref:System.Windows.Controls.Page>, můžete nastavit `StartupUri` atribut místo v kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-208">If you handle <xref:System.Windows.Application.Startup> to only open a <xref:System.Windows.Window> or navigate to a <xref:System.Windows.Controls.Page>, you can set the `StartupUri` attribute in markup instead.</span></span>  
  
 <span data-ttu-id="fdc18-209">Následující příklad ukazuje způsob použití <xref:System.Windows.Application.StartupUri%2A> ze samostatné aplikace otevřete <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-209">The following example shows how to use the <xref:System.Windows.Application.StartupUri%2A> from a standalone application to open a <xref:System.Windows.Window>.</span></span>  
  
 [!code-xaml[ApplicationManagementOverviewSnippets#OverviewStartupUriMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/App.xaml#overviewstartupurimarkup)]  
  
 <span data-ttu-id="fdc18-210">Následující příklad ukazuje, jak používat <xref:System.Windows.Application.StartupUri%2A> z XBAP přejděte <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-210">The following example shows how to use <xref:System.Windows.Application.StartupUri%2A> from an XBAP to navigate to a <xref:System.Windows.Controls.Page>.</span></span>  
  
 [!code-xaml[PageSnippets#XBAPStartupUriMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/PageSnippets/CSharp/App.xaml#xbapstartupurimarkup)]  
  
 <span data-ttu-id="fdc18-211">Tento kód má stejný účinek jako předchozí kód pro otevření okna.</span><span class="sxs-lookup"><span data-stu-id="fdc18-211">This markup has the same effect as the previous code for opening a window.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-212">Další informace v navigačním panelu najdete v tématu [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-212">For more information on navigation, see [Navigation Overview](navigation-overview.md).</span></span>  
  
 <span data-ttu-id="fdc18-213">Bude potřeba zpracovat <xref:System.Windows.Application.Startup> událostí otevřete <xref:System.Windows.Window> Pokud potřebujete k vytvoření instance pomocí jiného než výchozího konstruktoru, nebo je potřeba nastavit jeho vlastnosti nebo přihlášení k odběru jeho událostí před zobrazením jej nebo potřebujete zpracovávat jakékoli argumenty příkazového řádku, který byly zadány při aplikace se spustila.</span><span class="sxs-lookup"><span data-stu-id="fdc18-213">You need to handle the <xref:System.Windows.Application.Startup> event to open a <xref:System.Windows.Window> if you need to instantiate it using a non-default constructor, or you need to set its properties or subscribe to its events before showing it, or you need to process any command-line arguments that were supplied when the application was launched.</span></span>  
  
<a name="Processing_Command_Line_Arguments"></a>   
### <a name="processing-command-line-arguments"></a><span data-ttu-id="fdc18-214">Zpracování argumentů příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="fdc18-214">Processing Command-Line Arguments</span></span>  
 <span data-ttu-id="fdc18-215">Ve Windows samostatné aplikace můžete spustit z příkazového řádku nebo plochy.</span><span class="sxs-lookup"><span data-stu-id="fdc18-215">In Windows, standalone applications can be launched from either a command prompt or the desktop.</span></span> <span data-ttu-id="fdc18-216">V obou případech můžete předávat argumenty příkazového řádku k aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fdc18-216">In both cases, command-line arguments can be passed to the application.</span></span> <span data-ttu-id="fdc18-217">Následující příklad ukazuje aplikace, který je spuštěn s jedním argumentem příkazového řádku, "/ StartMinimized":</span><span class="sxs-lookup"><span data-stu-id="fdc18-217">The following example shows an application that is launched with a single command-line argument, "/StartMinimized":</span></span>  
  
 `wpfapplication.exe /StartMinimized`  
  
 <span data-ttu-id="fdc18-218">Během inicializace aplikace WPF načte argumenty příkazového řádku z operačního systému a předává je do <xref:System.Windows.Application.Startup> obslužnou rutinu události prostřednictvím <xref:System.Windows.StartupEventArgs.Args%2A> vlastnost <xref:System.Windows.StartupEventArgs> parametru.</span><span class="sxs-lookup"><span data-stu-id="fdc18-218">During application initialization, WPF retrieves the command-line arguments from the operating system and passes them to the <xref:System.Windows.Application.Startup> event handler via the <xref:System.Windows.StartupEventArgs.Args%2A> property of the <xref:System.Windows.StartupEventArgs> parameter.</span></span> <span data-ttu-id="fdc18-219">Můžete načíst a ukládat pomocí kódu podobně jako následující argumenty příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="fdc18-219">You can retrieve and store the command-line arguments using code like the following.</span></span>  
  
 [!code-xaml[ApplicationStartupSnippets#HandleStartupXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml#handlestartupxaml)]  
  
 [!code-csharp[ApplicationStartupSnippets#HandleStartupCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#handlestartupcodebehind)]
 [!code-vb[ApplicationStartupSnippets#HandleStartupCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#handlestartupcodebehind)]  
  
 <span data-ttu-id="fdc18-220">Kód obslužné rutiny <xref:System.Windows.Application.Startup> ke kontrole, jestli **/StartMinimized** byl zadán argument příkazového řádku; Pokud ano, otevře se hlavní okno s <xref:System.Windows.WindowState> z <xref:System.Windows.WindowState.Minimized>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-220">The code handles <xref:System.Windows.Application.Startup> to check whether the **/StartMinimized** command-line argument was provided; if so, it opens the main window with a <xref:System.Windows.WindowState> of <xref:System.Windows.WindowState.Minimized>.</span></span> <span data-ttu-id="fdc18-221">Všimněte si, že vzhledem k tomu, <xref:System.Windows.Window.WindowState%2A> musí být nastavena vlastnost prostřednictvím kódu programu, hlavní <xref:System.Windows.Window> musí být otevřený explicitně v kódu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-221">Note that because the <xref:System.Windows.Window.WindowState%2A> property must be set programmatically, the main <xref:System.Windows.Window> must be opened explicitly in code.</span></span>  
  
 <span data-ttu-id="fdc18-222">Nelze načíst a zpracovat argumenty příkazového řádku, protože neovlivňuje pomocí nasazení ClickOnce XBAP (viz [nasazení aplikace WPF](deploying-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="fdc18-222">XBAPs cannot retrieve and process command-line arguments because they are launched using ClickOnce deployment (see [Deploying a WPF Application](deploying-a-wpf-application-wpf.md)).</span></span> <span data-ttu-id="fdc18-223">Můžete však načíst a zpracovat parametrů řetězce dotazu z adresy URL, které se používají k jejich spuštění.</span><span class="sxs-lookup"><span data-stu-id="fdc18-223">However, they can retrieve and process query string parameters from the URLs that are used to launch them.</span></span>  
  
<a name="Application_Activation_and_Deactivation"></a>   
### <a name="application-activation-and-deactivation"></a><span data-ttu-id="fdc18-224">Aplikace aktivace a deaktivace</span><span class="sxs-lookup"><span data-stu-id="fdc18-224">Application Activation and Deactivation</span></span>  
 <span data-ttu-id="fdc18-225">Windows umožňuje uživatelům přepínat mezi aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="fdc18-225">Windows allows users to switch between applications.</span></span> <span data-ttu-id="fdc18-226">Nejběžnější způsob je pomocí kombinace kláves ALT + TAB.</span><span class="sxs-lookup"><span data-stu-id="fdc18-226">The most common way is to use the ALT+TAB key combination.</span></span> <span data-ttu-id="fdc18-227">Aplikace lze přepnout pouze na, pokud má viditelné <xref:System.Windows.Window> , který může uživatel vybrat.</span><span class="sxs-lookup"><span data-stu-id="fdc18-227">An application can only be switched to if it has a visible <xref:System.Windows.Window> that a user can select.</span></span> <span data-ttu-id="fdc18-228">Aktuálně vybraný <xref:System.Windows.Window> je *aktivní okno* (označované také jako *okno v popředí*) a je <xref:System.Windows.Window> , který přijímá vstup uživatele.</span><span class="sxs-lookup"><span data-stu-id="fdc18-228">The currently selected <xref:System.Windows.Window> is the *active window* (also known as the *foreground window*) and is the <xref:System.Windows.Window> that receives user input.</span></span> <span data-ttu-id="fdc18-229">Aplikace s aktivní okno *aktivní aplikace* (nebo *popředí aplikace*).</span><span class="sxs-lookup"><span data-stu-id="fdc18-229">The application with the active window is the *active application* (or *foreground application*).</span></span> <span data-ttu-id="fdc18-230">Aplikace se stane aktivní aplikaci za následujících okolností:</span><span class="sxs-lookup"><span data-stu-id="fdc18-230">An application becomes the active application in the following circumstances:</span></span>  
  
-   <span data-ttu-id="fdc18-231">Spuštění a ukazuje <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-231">It is launched and shows a <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="fdc18-232">Uživatel přepíná z jiné aplikace tak, že vyberete <xref:System.Windows.Window> v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fdc18-232">A user switches from another application by selecting a <xref:System.Windows.Window> in the application.</span></span>  
  
 <span data-ttu-id="fdc18-233">Můžete rozpoznat, kdy se aplikace stane aktivním pomocí manipulace <xref:System.Windows.Application.Activated?displayProperty=nameWithType> událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-233">You can detect when an application becomes active by handling the <xref:System.Windows.Application.Activated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="fdc18-234">Aplikace se může stát, neaktivní v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="fdc18-234">Likewise, an application can become inactive in the following circumstances:</span></span>  
  
-   <span data-ttu-id="fdc18-235">Uživatel přepne na jiná aplikace než je aktuální.</span><span class="sxs-lookup"><span data-stu-id="fdc18-235">A user switches to another application from the current one.</span></span>  
  
-   <span data-ttu-id="fdc18-236">Při ukončení aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-236">When the application shuts down.</span></span>  
  
 <span data-ttu-id="fdc18-237">Můžete rozpoznat, kdy se změní na neaktivní aplikace pomocí manipulace <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-237">You can detect when an application becomes inactive by handling the <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="fdc18-238">Následující kód ukazuje, jak naložit <xref:System.Windows.Application.Activated> a <xref:System.Windows.Application.Deactivated> události a určit, zda je aplikace aktivní.</span><span class="sxs-lookup"><span data-stu-id="fdc18-238">The following code shows how to handle the <xref:System.Windows.Application.Activated> and <xref:System.Windows.Application.Deactivated> events to determine whether an application is active.</span></span>  
  
 [!code-xaml[ApplicationActivationSnippets#DetectActivationStateXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml#detectactivationstatexaml)]  
  
 [!code-csharp[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml.cs#detectactivationstatecodebehind)]
 [!code-vb[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationActivationSnippets/visualbasic/application.xaml.vb#detectactivationstatecodebehind)]  
  
 <span data-ttu-id="fdc18-239">A <xref:System.Windows.Window> můžete také aktivovat a deaktivovat.</span><span class="sxs-lookup"><span data-stu-id="fdc18-239">A <xref:System.Windows.Window> can also be activated and deactivated.</span></span> <span data-ttu-id="fdc18-240">Zobrazit <xref:System.Windows.Window.Activated?displayProperty=nameWithType> a <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> pro další informace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-240">See <xref:System.Windows.Window.Activated?displayProperty=nameWithType> and <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> for more information.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-241">Ani <xref:System.Windows.Application.Activated?displayProperty=nameWithType> ani <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> se vyvolá pro aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="fdc18-241">Neither <xref:System.Windows.Application.Activated?displayProperty=nameWithType> nor <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> is raised for XBAPs.</span></span>  
  
<a name="Application_Shutdown"></a>   
### <a name="application-shutdown"></a><span data-ttu-id="fdc18-242">Ukončení aplikace</span><span class="sxs-lookup"><span data-stu-id="fdc18-242">Application Shutdown</span></span>  
 <span data-ttu-id="fdc18-243">Dobu životnosti aplikace končí, když je vypnutý, kterému může dojít z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="fdc18-243">The life of an application ends when it is shut down, which can occur for the following reasons:</span></span>  
  
-   <span data-ttu-id="fdc18-244">Uživatel zavře každý <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-244">A user closes every <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="fdc18-245">Uživatel zavře hlavní <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-245">A user closes the main <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="fdc18-246">Uživatel ukončí relaci Windows odhlášení nebo vypnutí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-246">A user ends the Windows session by logging off or shutting down.</span></span>  
  
-   <span data-ttu-id="fdc18-247">Byla splněna podmínku specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fdc18-247">An application-specific condition has been met.</span></span>  
  
 <span data-ttu-id="fdc18-248">Vám pomohou při správě ukončení aplikace <xref:System.Windows.Application> poskytuje <xref:System.Windows.Application.Shutdown%2A> metody <xref:System.Windows.Application.ShutdownMode%2A> vlastnost a <xref:System.Windows.Application.SessionEnding> a <xref:System.Windows.Application.Exit> události.</span><span class="sxs-lookup"><span data-stu-id="fdc18-248">To help you manage application shutdown, <xref:System.Windows.Application> provides the <xref:System.Windows.Application.Shutdown%2A> method, the <xref:System.Windows.Application.ShutdownMode%2A> property, and the <xref:System.Windows.Application.SessionEnding> and <xref:System.Windows.Application.Exit> events.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-249"><xref:System.Windows.Application.Shutdown%2A> lze volat pouze z aplikace, které mají <xref:System.Security.Permissions.UIPermission>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-249"><xref:System.Windows.Application.Shutdown%2A> can only be called from applications that have <xref:System.Security.Permissions.UIPermission>.</span></span> <span data-ttu-id="fdc18-250">Aplikace WPF samostatné vždy mají toto oprávnění.</span><span class="sxs-lookup"><span data-stu-id="fdc18-250">Standalone WPF applications always have this permission.</span></span> <span data-ttu-id="fdc18-251">XBAP spuštěná v sandboxu částečným vztahem důvěryhodnosti zabezpečení zóně Internet, ale to nejde.</span><span class="sxs-lookup"><span data-stu-id="fdc18-251">However, XBAPs running in the Internet zone partial-trust security sandbox do not.</span></span>  
  
#### <a name="shutdown-mode"></a><span data-ttu-id="fdc18-252">Ukončení režimu</span><span class="sxs-lookup"><span data-stu-id="fdc18-252">Shutdown Mode</span></span>  
 <span data-ttu-id="fdc18-253">Většina aplikací vypnout když jsou uzavřeny všechny systémy windows nebo při zavření hlavního okna.</span><span class="sxs-lookup"><span data-stu-id="fdc18-253">Most applications shut down either when all the windows are closed or when the main window is closed.</span></span> <span data-ttu-id="fdc18-254">V některých případech však další podmínky specifické pro aplikaci může zjistit, kdy aplikace ukončí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-254">Sometimes, however, other application-specific conditions may determine when an application shuts down.</span></span> <span data-ttu-id="fdc18-255">Můžete určit podmínky, za kterých vaše aplikace se vypne nastavením <xref:System.Windows.Application.ShutdownMode%2A> s jedním z následujících <xref:System.Windows.ShutdownMode> hodnot výčtu:</span><span class="sxs-lookup"><span data-stu-id="fdc18-255">You can specify the conditions under which your application will shut down by setting <xref:System.Windows.Application.ShutdownMode%2A> with one of the following <xref:System.Windows.ShutdownMode> enumeration values:</span></span>  
  
-   <xref:System.Windows.ShutdownMode.OnLastWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnMainWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnExplicitShutdown>  
  
 <span data-ttu-id="fdc18-256">Výchozí hodnota <xref:System.Windows.Application.ShutdownMode%2A> je <xref:System.Windows.ShutdownMode.OnLastWindowClose>, což znamená, že se aplikace automaticky ukončí při zavření posledního okna v aplikaci uživatele.</span><span class="sxs-lookup"><span data-stu-id="fdc18-256">The default value of <xref:System.Windows.Application.ShutdownMode%2A> is <xref:System.Windows.ShutdownMode.OnLastWindowClose>, which means that an application automatically shuts down when the last window in the application is closed by the user.</span></span> <span data-ttu-id="fdc18-257">Nicméně pokud vaše aplikace by měla být vypnut, při zavření hlavního okna, WPF automaticky toto dělá, pokud nastavíte <xref:System.Windows.Application.ShutdownMode%2A> k <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-257">However, if your application should be shut down when the main window is closed, WPF automatically does that if you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span> <span data-ttu-id="fdc18-258">To je ukázáno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-258">This is shown in the following example.</span></span>  
  
 [!code-xaml[ApplicationShutdownModeSnippets#OnMainWindowCloseMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationShutdownModeSnippets/CS/Page1.xaml#onmainwindowclosemarkup)]  
  
 <span data-ttu-id="fdc18-259">Až budete mít specifické pro aplikaci vypnout podmínky, nastavíte <xref:System.Windows.Application.ShutdownMode%2A> k <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-259">When you have application-specific shutdown conditions, you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span></span> <span data-ttu-id="fdc18-260">V takovém případě je vaší odpovědností, abyste vypnutí aplikace explicitně voláním <xref:System.Windows.Application.Shutdown%2A> metody; v opačném případě bude vaše aplikace dál běžet i v případě, že všechna okna zavřete.</span><span class="sxs-lookup"><span data-stu-id="fdc18-260">In this case, it is your responsibility to shut an application down by explicitly calling the <xref:System.Windows.Application.Shutdown%2A> method; otherwise, your application will continue running even if all the windows are closed.</span></span> <span data-ttu-id="fdc18-261">Všimněte si, že <xref:System.Windows.Application.Shutdown%2A> je implicitně volána, když <xref:System.Windows.Application.ShutdownMode%2A> je buď <xref:System.Windows.ShutdownMode.OnLastWindowClose> nebo <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-261">Note that <xref:System.Windows.Application.Shutdown%2A> is called implicitly when the <xref:System.Windows.Application.ShutdownMode%2A> is either <xref:System.Windows.ShutdownMode.OnLastWindowClose> or <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-262"><xref:System.Windows.Application.ShutdownMode%2A> můžete nastavit od XBAP, ale je ignorován; XBAP, který je vždy vypnout když ho je opuštění v prohlížeči nebo prohlížeč, který je hostitelem XBAP, který je zavřený.</span><span class="sxs-lookup"><span data-stu-id="fdc18-262"><xref:System.Windows.Application.ShutdownMode%2A> can be set from an XBAP, but it is ignored; an XBAP is always shut down when it is navigated away from in a browser or when the browser that hosts the XBAP is closed.</span></span> <span data-ttu-id="fdc18-263">Další informace najdete v tématu [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-263">For more information, see [Navigation Overview](navigation-overview.md).</span></span>  
  
#### <a name="session-ending"></a><span data-ttu-id="fdc18-264">Ukončení relace</span><span class="sxs-lookup"><span data-stu-id="fdc18-264">Session Ending</span></span>  
 <span data-ttu-id="fdc18-265">Vypnout podmínky, které jsou popsané <xref:System.Windows.Application.ShutdownMode%2A> vlastnosti jsou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fdc18-265">The shutdown conditions that are described by the <xref:System.Windows.Application.ShutdownMode%2A> property are specific to an application.</span></span> <span data-ttu-id="fdc18-266">V některých případech však aplikace může vypnout v důsledku externí podmínku.</span><span class="sxs-lookup"><span data-stu-id="fdc18-266">In some cases, though, an application may shut down as a result of an external condition.</span></span> <span data-ttu-id="fdc18-267">Nejběžnější externí stavu dochází, když uživatel ukončí relaci Windows pomocí následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="fdc18-267">The most common external condition occurs when a user ends the Windows session by the following actions:</span></span>  
  
-   <span data-ttu-id="fdc18-268">Odhlášení</span><span class="sxs-lookup"><span data-stu-id="fdc18-268">Logging off</span></span>  
  
-   <span data-ttu-id="fdc18-269">Vypínání</span><span class="sxs-lookup"><span data-stu-id="fdc18-269">Shutting down</span></span>  
  
-   <span data-ttu-id="fdc18-270">Restartování</span><span class="sxs-lookup"><span data-stu-id="fdc18-270">Restarting</span></span>  
  
-   <span data-ttu-id="fdc18-271">V režimu spánku</span><span class="sxs-lookup"><span data-stu-id="fdc18-271">Hibernating</span></span>  
  
 <span data-ttu-id="fdc18-272">Ke zjištění při ukončení relace Windows, dokáže zpracovat <xref:System.Windows.Application.SessionEnding> události, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-272">To detect when a Windows session ends, you can handle the <xref:System.Windows.Application.SessionEnding> event, as illustrated in the following example.</span></span>  
  
 [!code-xaml[ApplicationSessionEndingSnippets#HandlingSessionEndingXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml#handlingsessionendingxaml)]  
  
 [!code-csharp[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml.cs#handlingsessionendingcodebehind)]
 [!code-vb[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/visualbasic/application.xaml.vb#handlingsessionendingcodebehind)]  
  
 <span data-ttu-id="fdc18-273">V tomto příkladu zkontroluje kód <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> a určí, jak se ukončuje relace Windows.</span><span class="sxs-lookup"><span data-stu-id="fdc18-273">In this example, the code inspects the <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> property to determine how the Windows session is ending.</span></span> <span data-ttu-id="fdc18-274">Tato hodnota používá pro zobrazení zprávy potvrzení pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="fdc18-274">It uses this value to display a confirmation message to the user.</span></span> <span data-ttu-id="fdc18-275">Pokud uživatel nechce relace do konce, kód nastaví <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> k `true` zabránit ukončuje relace Windows.</span><span class="sxs-lookup"><span data-stu-id="fdc18-275">If the user does not want the session to end, the code sets <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> to `true` to prevent the Windows session from ending.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-276"><xref:System.Windows.Application.SessionEnding> pro aplikace XBAP není vyvolána.</span><span class="sxs-lookup"><span data-stu-id="fdc18-276"><xref:System.Windows.Application.SessionEnding> is not raised for XBAPs.</span></span>

#### <a name="exit"></a><span data-ttu-id="fdc18-277">Ukončit</span><span class="sxs-lookup"><span data-stu-id="fdc18-277">Exit</span></span>  
 <span data-ttu-id="fdc18-278">Při vypnutí aplikace může potřebovat k provedení konečné zpracování, jako je například zachování stavu aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-278">When an application shuts down, it may need to perform some final processing, such as persisting application state.</span></span> <span data-ttu-id="fdc18-279">V takových situacích můžete zpracovávat <xref:System.Windows.Application.Exit> události, jako `App_Exit` obslužná rutina události nemá v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-279">For these situations, you can handle the <xref:System.Windows.Application.Exit> event, as the `App_Exit` event handler does in the following example.</span></span> <span data-ttu-id="fdc18-280">Je definován jako obslužné rutiny události v *App.xaml* souboru.</span><span class="sxs-lookup"><span data-stu-id="fdc18-280">It is defined as an event handler in the *App.xaml* file.</span></span> <span data-ttu-id="fdc18-281">Jeho implementace je zvýrazněn *App.xaml.cs* a *Application.xaml.vb* soubory.</span><span class="sxs-lookup"><span data-stu-id="fdc18-281">Its implementation is highlighted in the *App.xaml.cs* and *Application.xaml.vb* files.</span></span>
  
[!code-xaml[Defining-the-Exit-event-handler](~/samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml?highlight=1-7)]  
  
 [!code-csharp[Handling-the-Exit-event](~/samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs?highlight=42-55)]
 [!code-vb[Handling-the-Exit-event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb?highlight=34-45)]  
  
 <span data-ttu-id="fdc18-282">Kompletní příklad naleznete v tématu [zachovat a obnovit vlastnosti rozsahu aplikace mezi relacemi aplikace](persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="fdc18-282">For the complete example, see [Persist and Restore Application-Scope Properties Across Application Sessions](persist-and-restore-application-scope-properties.md).</span></span>  
  
 <span data-ttu-id="fdc18-283"><xref:System.Windows.Application.Exit> může být zpracována samostatné aplikace a aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="fdc18-283"><xref:System.Windows.Application.Exit> can be handled by both standalone applications and XBAPs.</span></span> <span data-ttu-id="fdc18-284">Pro aplikace XBAP <xref:System.Windows.Application.Exit> dojde v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="fdc18-284">For XBAPs, <xref:System.Windows.Application.Exit> is raised when in the following circumstances:</span></span>  
  
-   <span data-ttu-id="fdc18-285">XBAP, který je opuštění.</span><span class="sxs-lookup"><span data-stu-id="fdc18-285">An XBAP is navigated away from.</span></span>  
  
-   <span data-ttu-id="fdc18-286">V [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], když na kartě, který je hostitelem XBAP, který je uzavřen.</span><span class="sxs-lookup"><span data-stu-id="fdc18-286">In [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], when the tab that is hosting the XBAP is closed.</span></span>  
  
-   <span data-ttu-id="fdc18-287">Při zavření prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="fdc18-287">When the browser is closed.</span></span>  
  
#### <a name="exit-code"></a><span data-ttu-id="fdc18-288">Ukončovací kód</span><span class="sxs-lookup"><span data-stu-id="fdc18-288">Exit Code</span></span>  
 <span data-ttu-id="fdc18-289">Aplikace je většinou spuštěných podle operačního systému v reakci na žádost uživatele.</span><span class="sxs-lookup"><span data-stu-id="fdc18-289">Applications are mostly launched by the operating system in response to a user request.</span></span> <span data-ttu-id="fdc18-290">Ale aplikace může spustit jinou aplikaci k provedení některých konkrétního úkolu.</span><span class="sxs-lookup"><span data-stu-id="fdc18-290">However, an application can be launched by another application to perform some specific task.</span></span> <span data-ttu-id="fdc18-291">Při vypnutí aplikace spouštění aplikace může chtít vědět podmínka, jejímž ukončení aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-291">When the launched application shuts down, the launching application may want to know the condition under which the launched application shut down.</span></span> <span data-ttu-id="fdc18-292">V těchto situacích Windows umožňuje aplikacím, které má být vrácen ukončovací kód aplikace při vypnutí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-292">In these situations, Windows allows applications to return an application exit code on shutdown.</span></span> <span data-ttu-id="fdc18-293">Aplikace WPF ve výchozím nastavení, vrátí hodnotu ukončovací kód 0.</span><span class="sxs-lookup"><span data-stu-id="fdc18-293">By default, WPF applications return an exit code value of 0.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-294">Při ladění ze sady Visual Studio, ukončovací kód aplikace se zobrazí v **výstup** okno při vypnutí aplikace, ve zprávě vypadá podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="fdc18-294">When you debug from Visual Studio, the application exit code is displayed in the **Output** window when the application shuts down, in a message that looks like the following:</span></span>  
>   
>  `The program '[5340] AWPFApp.vshost.exe: Managed' has exited with code 0 (0x0).`  
>   
>  <span data-ttu-id="fdc18-295">Otevřete **výstup** okno kliknutím **výstup** na **zobrazení** nabídky.</span><span class="sxs-lookup"><span data-stu-id="fdc18-295">You open the **Output** window by clicking **Output** on the **View** menu.</span></span>  
  
 <span data-ttu-id="fdc18-296">Chcete-li změnit ukončovací kód, můžete volat <xref:System.Windows.Application.Shutdown%28System.Int32%29> přetížení, která přebírá celočíselný argument bude ukončovací kód:</span><span class="sxs-lookup"><span data-stu-id="fdc18-296">To change the exit code, you can call the <xref:System.Windows.Application.Shutdown%28System.Int32%29> overload, which accepts an integer argument to be the exit code:</span></span>  
  
 [!code-csharp[ApplicationExitSnippets#AppExitCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationExitSnippets/CSharp/MainWindow.xaml.cs#appexitcode)]
 [!code-vb[ApplicationExitSnippets#AppExitCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationExitSnippets/visualbasic/mainwindow.xaml.vb#appexitcode)]  
  
 <span data-ttu-id="fdc18-297">Můžete zjistit hodnotu ukončovacího kódu a změnit, zpracování <xref:System.Windows.Application.Exit> událostí.</span><span class="sxs-lookup"><span data-stu-id="fdc18-297">You can detect the value of the exit code, and change it, by handling the <xref:System.Windows.Application.Exit> event.</span></span> <span data-ttu-id="fdc18-298"><xref:System.Windows.Application.Exit> Je předána obslužné rutiny události <xref:System.Windows.ExitEventArgs> poskytující přístup k ukončovací kód s <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="fdc18-298">The <xref:System.Windows.Application.Exit> event handler is passed an <xref:System.Windows.ExitEventArgs> which provides access to the exit code with the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> property.</span></span> <span data-ttu-id="fdc18-299">Další informace naleznete v tématu <xref:System.Windows.Application.Exit>.</span><span class="sxs-lookup"><span data-stu-id="fdc18-299">For more information, see <xref:System.Windows.Application.Exit>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fdc18-300">Ukončovací kód můžete nastavit v samostatné aplikace a aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="fdc18-300">You can set the exit code in both standalone applications and XBAPs.</span></span> <span data-ttu-id="fdc18-301">Ale hodnotu ukončovacího kódu se ignoruje pro aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="fdc18-301">However, the exit code value is ignored for XBAPs.</span></span>  
  
<a name="Unhandled_Exceptions"></a>   
### <a name="unhandled-exceptions"></a><span data-ttu-id="fdc18-302">Nezpracované výjimky</span><span class="sxs-lookup"><span data-stu-id="fdc18-302">Unhandled Exceptions</span></span>  
 <span data-ttu-id="fdc18-303">Aplikace může někdy vypnout podle nestandardní podmínky, třeba když dojde k neočekávané výjimce.</span><span class="sxs-lookup"><span data-stu-id="fdc18-303">Sometimes an application may shut down under abnormal conditions, such as when an unanticipated exception is thrown.</span></span> <span data-ttu-id="fdc18-304">V tomto případě aplikace nemusí mít kód ke zjištění a zpracování výjimky.</span><span class="sxs-lookup"><span data-stu-id="fdc18-304">In this case, the application may not have the code to detect and process the exception.</span></span> <span data-ttu-id="fdc18-305">Tento typ výjimka je neošetřená výjimka; Před ukončením aplikace, zobrazí se oznámení podobný tomu je znázorněno na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="fdc18-305">This type of exception is an unhandled exception; a notification similar to that shown in the following figure is displayed before the application is closed.</span></span>  
  
 ![Snímek obrazovky zobrazující oznámení o neošetřené výjimce.](./media/application-management-overview/unhandled-exception-notification.png)  
  
 <span data-ttu-id="fdc18-307">Z pohledu zkušenosti uživatele je lepší pro aplikaci, aby toto výchozí chování provedením některé nebo všechny z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="fdc18-307">From the user experience perspective, it is better for an application to avoid this default behavior by doing some or all of the following:</span></span>  
  
-   <span data-ttu-id="fdc18-308">Zobrazení informací o uživatelsky přívětivé.</span><span class="sxs-lookup"><span data-stu-id="fdc18-308">Displaying user-friendly information.</span></span>  
  
-   <span data-ttu-id="fdc18-309">Pokus zachovat aplikaci spuštěnou.</span><span class="sxs-lookup"><span data-stu-id="fdc18-309">Attempting to keep an application running.</span></span>  
  
-   <span data-ttu-id="fdc18-310">Záznam podrobné informace o výjimce vývojářsky přívětivé v protokolu událostí Windows.</span><span class="sxs-lookup"><span data-stu-id="fdc18-310">Recording detailed, developer-friendly exception information in the Windows event log.</span></span>  
  
 <span data-ttu-id="fdc18-311">Tato podpora implementace závisí na schopnost rozpoznat neošetřené výjimky, to znamená, co <xref:System.Windows.Application.DispatcherUnhandledException> událost se vyvolá pro.</span><span class="sxs-lookup"><span data-stu-id="fdc18-311">Implementing this support depends on being able to detect unhandled exceptions, which is what the <xref:System.Windows.Application.DispatcherUnhandledException> event is raised for.</span></span>  
  
[!code-xaml[detecting-unhandled-exceptions](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml#handledispatcherunhandledexceptionxaml)]  
  
[!code-csharp[code-to-detect-unhandled-exceptions](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs)]
[!code-vb[code-to-detect-unhandled-exceptions](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb)]  
  
 <span data-ttu-id="fdc18-312"><xref:System.Windows.Application.DispatcherUnhandledException> Obslužná rutina události je předán <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parametr, který obsahuje kontextové informace týkající se neošetřená výjimka, včetně výjimek, samotný (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="fdc18-312">The <xref:System.Windows.Application.DispatcherUnhandledException> event handler is passed a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parameter that contains contextual information regarding the unhandled exception, including the exception itself (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span></span> <span data-ttu-id="fdc18-313">Tyto informace můžete použít k určení způsobu zpracování výjimky.</span><span class="sxs-lookup"><span data-stu-id="fdc18-313">You can use this information to determine how to handle the exception.</span></span>  
  
 <span data-ttu-id="fdc18-314">Při zpracování <xref:System.Windows.Application.DispatcherUnhandledException>, byste měli nastavit <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> vlastnost `true`; v opačném případě WPF stále bere v úvahu výjimka, která má neošetřené a vrátí na výchozí chování je popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="fdc18-314">When you handle <xref:System.Windows.Application.DispatcherUnhandledException>, you should set the <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> property to `true`; otherwise, WPF still considers the exception to be unhandled and reverts to the default behavior described earlier.</span></span> <span data-ttu-id="fdc18-315">Pokud dojde k neošetřené výjimce a buď <xref:System.Windows.Application.DispatcherUnhandledException> nezpracovává události nebo zpracovává události a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> je nastavena na `false`, okamžitě ukončí aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fdc18-315">If an unhandled exception is raised and either the <xref:System.Windows.Application.DispatcherUnhandledException> event is not handled, or the event is handled and <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> is set to `false`, the application shuts down immediately.</span></span> <span data-ttu-id="fdc18-316">Kromě toho žádné jiné <xref:System.Windows.Application> jsou vyvolány události.</span><span class="sxs-lookup"><span data-stu-id="fdc18-316">Furthermore, no other <xref:System.Windows.Application> events are raised.</span></span> <span data-ttu-id="fdc18-317">V důsledku toho je potřeba zpracovat <xref:System.Windows.Application.DispatcherUnhandledException> Pokud aplikace obsahuje kód, který musí spustit před vypnutím aplikace.</span><span class="sxs-lookup"><span data-stu-id="fdc18-317">Consequently, you need to handle <xref:System.Windows.Application.DispatcherUnhandledException> if your application has code that must run before the application shuts down.</span></span>  
  
 <span data-ttu-id="fdc18-318">I když může aplikace vypnout v důsledku neošetřené výjimky, aplikace obvykle ukončí v reakci na žádost uživatele, jak je popsáno v další části.</span><span class="sxs-lookup"><span data-stu-id="fdc18-318">Although an application may shut down as a result of an unhandled exception, an application usually shuts down in response to a user request, as discussed in the next section.</span></span>  
  
<a name="Application_Lifetime_Events"></a>   
### <a name="application-lifetime-events"></a><span data-ttu-id="fdc18-319">Události životního cyklu aplikací</span><span class="sxs-lookup"><span data-stu-id="fdc18-319">Application Lifetime Events</span></span>  
 <span data-ttu-id="fdc18-320">Samostatné aplikace a aplikace XBAP nemusí přesně stejný životní cyklus.</span><span class="sxs-lookup"><span data-stu-id="fdc18-320">Standalone applications and XBAPs don't have exactly the same lifetimes.</span></span> <span data-ttu-id="fdc18-321">Následující obrázek znázorňuje klíče události během životnosti samostatné aplikace a zobrazuje pořadí, ve kterém jsou vyvolány.</span><span class="sxs-lookup"><span data-stu-id="fdc18-321">The following figure illustrates the key events in the lifetime of a standalone application and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="fdc18-322">![Samostatná aplikace &#45; události aplikačního objektu](./media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span><span class="sxs-lookup"><span data-stu-id="fdc18-322">![Standalone Application &#45; Application Object Events](./media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span></span>  
  
 <span data-ttu-id="fdc18-323">Na následujícím obrázku, ukazuje klíče události během životnosti XBAP a zobrazuje pořadí, ve kterém jsou vyvolány.</span><span class="sxs-lookup"><span data-stu-id="fdc18-323">Likewise, the following figure illustrates the key events in the lifetime of an XBAP, and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="fdc18-324">![XBAP &#45; události aplikačního objektu](./media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span><span class="sxs-lookup"><span data-stu-id="fdc18-324">![XBAP &#45; Application Object Events](./media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fdc18-325">Viz také:</span><span class="sxs-lookup"><span data-stu-id="fdc18-325">See also</span></span>
- <xref:System.Windows.Application>
- [<span data-ttu-id="fdc18-326">Přehled Windows ve WPF</span><span class="sxs-lookup"><span data-stu-id="fdc18-326">WPF Windows Overview</span></span>](wpf-windows-overview.md)
- [<span data-ttu-id="fdc18-327">Přehled navigace</span><span class="sxs-lookup"><span data-stu-id="fdc18-327">Navigation Overview</span></span>](navigation-overview.md)
- [<span data-ttu-id="fdc18-328">Prostředek, obsah a datové soubory aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="fdc18-328">WPF Application Resource, Content, and Data Files</span></span>](wpf-application-resource-content-and-data-files.md)
- [<span data-ttu-id="fdc18-329">Sbalení URI v technologii WPF</span><span class="sxs-lookup"><span data-stu-id="fdc18-329">Pack URIs in WPF</span></span>](pack-uris-in-wpf.md)
- <span data-ttu-id="fdc18-330">[Aplikační Model: Postupy: témata](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms749013(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="fdc18-330">[Application Model: How-to Topics](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms749013(v=vs.100))</span></span>
- [<span data-ttu-id="fdc18-331">Vývoj aplikací</span><span class="sxs-lookup"><span data-stu-id="fdc18-331">Application Development</span></span>](index.md)
