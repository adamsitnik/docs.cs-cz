---
title: Přehled správy aplikací
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- application management [WPF]
ms.assetid: 32b1c054-5aca-423b-b4b5-ed8dc4dc637d
ms.openlocfilehash: a5808261ec9fe957ee993177590446389f219609
ms.sourcegitcommit: 10736f243dd2296212e677e207102c463e5f143e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/06/2019
ms.locfileid: "68818020"
---
# <a name="application-management-overview"></a><span data-ttu-id="c2f9e-102">Přehled správy aplikací</span><span class="sxs-lookup"><span data-stu-id="c2f9e-102">Application Management Overview</span></span>
<span data-ttu-id="c2f9e-103">Všechny aplikace mají za následek sdílení společné sady funkcí, které se vztahují k implementaci a správě aplikací.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-103">All applications tend to share a common set of functionality that applies to application implementation and management.</span></span> <span data-ttu-id="c2f9e-104">Toto téma poskytuje přehled funkcí ve <xref:System.Windows.Application> třídě pro vytváření a správu aplikací.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-104">This topic provides an overview of the functionality in the <xref:System.Windows.Application> class for creating and managing applications.</span></span>  

## <a name="the-application-class"></a><span data-ttu-id="c2f9e-105">Třída aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-105">The Application Class</span></span>  
 <span data-ttu-id="c2f9e-106">Ve WPF jsou společné funkce rozsahu aplikace zapouzdřeny ve <xref:System.Windows.Application> třídě.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-106">In WPF, common application-scoped functionality is encapsulated in the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="c2f9e-107"><xref:System.Windows.Application> Třída obsahuje následující funkce:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-107">The <xref:System.Windows.Application> class includes the following functionality:</span></span>  
  
- <span data-ttu-id="c2f9e-108">Sledování a interakce s životním cyklu aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-108">Tracking and interacting with application lifetime.</span></span>  
  
- <span data-ttu-id="c2f9e-109">Načítání a zpracování parametrů příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-109">Retrieving and processing command-line parameters.</span></span>  
  
- <span data-ttu-id="c2f9e-110">Zjišťování a reakce na neošetřené výjimky.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-110">Detecting and responding to unhandled exceptions.</span></span>  
  
- <span data-ttu-id="c2f9e-111">Sdílení vlastností a prostředků oboru aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-111">Sharing application-scope properties and resources.</span></span>  
  
- <span data-ttu-id="c2f9e-112">Správa systému Windows v samostatných aplikacích.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-112">Managing windows in standalone applications.</span></span>  
  
- <span data-ttu-id="c2f9e-113">Sledování a Správa navigace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-113">Tracking and managing navigation.</span></span>  
  
<a name="The_Application_Class"></a>   
## <a name="how-to-perform-common-tasks-using-the-application-class"></a><span data-ttu-id="c2f9e-114">Jak provádět běžné úlohy pomocí třídy aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-114">How to Perform Common Tasks Using the Application Class</span></span>  
 <span data-ttu-id="c2f9e-115">Pokud si nejste zajímáte o všechny podrobnosti <xref:System.Windows.Application> třídy, v následující tabulce jsou uvedeny některé běžné úkoly pro <xref:System.Windows.Application> a jak je dosáhnout.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-115">If you are not interested in all of the details of the <xref:System.Windows.Application> class, the following table lists some of the common tasks for <xref:System.Windows.Application> and how to accomplish them.</span></span> <span data-ttu-id="c2f9e-116">Zobrazením souvisejících rozhraní API a témat můžete najít další informace a ukázkový kód.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-116">By viewing the related API and topics, you can find more information and sample code.</span></span>  
  
|<span data-ttu-id="c2f9e-117">Úloha</span><span class="sxs-lookup"><span data-stu-id="c2f9e-117">Task</span></span>|<span data-ttu-id="c2f9e-118">Přístup</span><span class="sxs-lookup"><span data-stu-id="c2f9e-118">Approach</span></span>|  
|----------|--------------|  
|<span data-ttu-id="c2f9e-119">Získat objekt, který představuje aktuální aplikaci</span><span class="sxs-lookup"><span data-stu-id="c2f9e-119">Get an object that represents the current application</span></span>|<span data-ttu-id="c2f9e-120"><xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> Použijte vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-120">Use the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="c2f9e-121">Přidání úvodní obrazovky do aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-121">Add a startup screen to an application</span></span>|<span data-ttu-id="c2f9e-122">Viz [Přidání úvodní obrazovky do aplikace WPF](how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-122">See [Add a Splash Screen to a WPF Application](how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>|  
|<span data-ttu-id="c2f9e-123">Spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-123">Start an application</span></span>|<span data-ttu-id="c2f9e-124"><xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> Použijte metodu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-124">Use the <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> method.</span></span>|  
|<span data-ttu-id="c2f9e-125">Zastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-125">Stop an application</span></span>|<span data-ttu-id="c2f9e-126"><xref:System.Windows.Application.Shutdown%2A> Použijte metodu<xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> objektu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-126">Use the <xref:System.Windows.Application.Shutdown%2A> method of the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> object.</span></span>|  
|<span data-ttu-id="c2f9e-127">Získat argumenty z příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="c2f9e-127">Get arguments from the command line</span></span>|<span data-ttu-id="c2f9e-128">Zpracujte událost a použijte <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType>vlastnost. <xref:System.Windows.Application.Startup?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="c2f9e-128">Handle the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event and use the <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="c2f9e-129">Příklad naleznete v tématu <xref:System.Windows.Application.Startup?displayProperty=nameWithType> událost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-129">For an example, see the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event.</span></span>|  
|<span data-ttu-id="c2f9e-130">Získat a nastavit ukončovací kód aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-130">Get and set the application exit code</span></span>|<span data-ttu-id="c2f9e-131">Nastavte vlastnost v obslužné rutině <xref:System.Windows.Application.Shutdown%2A> událostinebovolejtemetoduapředejteceléčíslo.<xref:System.Windows.Application.Exit?displayProperty=nameWithType> <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="c2f9e-131">Set the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> property in the <xref:System.Windows.Application.Exit?displayProperty=nameWithType> event handler or call the <xref:System.Windows.Application.Shutdown%2A> method and pass in an integer.</span></span>|  
|<span data-ttu-id="c2f9e-132">Detekce a reakce na neošetřené výjimky</span><span class="sxs-lookup"><span data-stu-id="c2f9e-132">Detect and respond to unhandled exceptions</span></span>|<span data-ttu-id="c2f9e-133"><xref:System.Windows.Application.DispatcherUnhandledException> Zpracujte událost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-133">Handle the <xref:System.Windows.Application.DispatcherUnhandledException> event.</span></span>|  
|<span data-ttu-id="c2f9e-134">Získání a nastavení prostředků v rozsahu aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-134">Get and set application-scoped resources</span></span>|<span data-ttu-id="c2f9e-135"><xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> Použijte vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-135">Use the <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="c2f9e-136">Použití slovníku prostředků oboru aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-136">Use an application-scope resource dictionary</span></span>|<span data-ttu-id="c2f9e-137">Viz [Použití slovníku prostředků oboru aplikace](how-to-use-an-application-scope-resource-dictionary.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-137">See [Use an Application-Scope Resource Dictionary](how-to-use-an-application-scope-resource-dictionary.md).</span></span>|  
|<span data-ttu-id="c2f9e-138">Získání a nastavení vlastností v rozsahu aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-138">Get and set application-scoped properties</span></span>|<span data-ttu-id="c2f9e-139"><xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> Použijte vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-139">Use the <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="c2f9e-140">Získání a uložení stavu aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-140">Get and save an application's state</span></span>|<span data-ttu-id="c2f9e-141">Viz [zachování a obnovení vlastností rozsahu aplikace napříč relacemi aplikace](persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-141">See [Persist and Restore Application-Scope Properties Across Application Sessions](persist-and-restore-application-scope-properties.md).</span></span>|  
|<span data-ttu-id="c2f9e-142">Spravujte soubory dat nesouvisející s kódem, včetně souborů prostředků, souborů obsahu a souborů, které jsou v původním umístění.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-142">Manage non-code data files, including resource files, content files, and site-of-origin files.</span></span>|<span data-ttu-id="c2f9e-143">Viz [prostředek aplikace WPF, obsah a datové soubory](wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-143">See [WPF Application Resource, Content, and Data Files](wpf-application-resource-content-and-data-files.md).</span></span>|  
|<span data-ttu-id="c2f9e-144">Správa Windows v samostatných aplikacích</span><span class="sxs-lookup"><span data-stu-id="c2f9e-144">Manage windows in standalone applications</span></span>|<span data-ttu-id="c2f9e-145">Viz [Přehled Windows WPF](wpf-windows-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-145">See [WPF Windows Overview](wpf-windows-overview.md).</span></span>|  
|<span data-ttu-id="c2f9e-146">Sledování a Správa navigace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-146">Track and manage navigation</span></span>|<span data-ttu-id="c2f9e-147">Viz [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-147">See [Navigation Overview](navigation-overview.md).</span></span>|  
  
<a name="The_Application_Definition"></a>   
## <a name="the-application-definition"></a><span data-ttu-id="c2f9e-148">Definice aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-148">The Application Definition</span></span>  
 <span data-ttu-id="c2f9e-149">Chcete-li využít funkci <xref:System.Windows.Application> třídy, je nutné implementovat definici aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-149">To utilize the functionality of the <xref:System.Windows.Application> class, you must implement an application definition.</span></span> <span data-ttu-id="c2f9e-150">Definice aplikace WPF je třída, která je odvozena z <xref:System.Windows.Application> a je nakonfigurována se speciálním nastavením nástroje MSBuild.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-150">A WPF application definition is a class that derives from <xref:System.Windows.Application> and is configured with a special MSBuild setting.</span></span>  

### <a name="implementing-an-application-definition"></a><span data-ttu-id="c2f9e-151">Implementace definice aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-151">Implementing an Application Definition</span></span>  
 <span data-ttu-id="c2f9e-152">Typická definice aplikace WPF je implementována pomocí kódu a kódu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-152">A typical WPF application definition is implemented using both markup and code-behind.</span></span> <span data-ttu-id="c2f9e-153">To vám umožňuje používat značky k deklarativnímu nastavení vlastností aplikace, prostředků a registrování událostí a současně zpracovávat události a implementaci chování specifického pro aplikaci v kódu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-153">This allows you to use markup to declaratively set application properties, resources, and register events, while handling events and implementing application-specific behavior in code-behind.</span></span>  
  
 <span data-ttu-id="c2f9e-154">Následující příklad ukazuje, jak implementovat definici aplikace pomocí značek a kódu na pozadí:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-154">The following example shows how to implement an application definition using both markup and code-behind:</span></span>  
  
 [!code-xaml[ApplicationSnippets#ApplicationXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml#applicationxaml)]  
  
 [!code-csharp[ApplicationSnippets#ApplicationCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml.cs#applicationcodebehind)]
 [!code-vb[ApplicationSnippets#ApplicationCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSnippets/visualbasic/application.xaml.vb#applicationcodebehind)]  
  
 <span data-ttu-id="c2f9e-155">Chcete-li, aby soubor značek a soubor s kódem na pozadí pracovaly společně, je nutné provést následující:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-155">To allow a markup file and code-behind file to work together, the following needs to happen:</span></span>  
  
- <span data-ttu-id="c2f9e-156">V kódu `Application` musí element `x:Class` obsahovat atribut.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-156">In markup, the `Application` element must include the `x:Class` attribute.</span></span> <span data-ttu-id="c2f9e-157">Když `x:Class` je aplikace sestavena, existence v souboru označení způsobí, že nástroj MSBuild `partial` vytvoří třídu, která je odvozena z <xref:System.Windows.Application> a `x:Class` má název, který je určen atributem.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-157">When the application is built, the existence of `x:Class` in the markup file causes MSBuild to create a `partial` class that derives from <xref:System.Windows.Application> and has the name that is specified by the `x:Class` attribute.</span></span> <span data-ttu-id="c2f9e-158">To vyžaduje přidání deklarace oboru názvů XML pro schéma XAML (`xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-158">This requires the addition of an XML namespace declaration for the XAML schema (`xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`).</span></span>
  
- <span data-ttu-id="c2f9e-159">V kódu na pozadí třída musí být `partial` třída se stejným názvem, který je určen `x:Class` atributem v označení a musí odvozovat z <xref:System.Windows.Application>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-159">In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup and must derive from <xref:System.Windows.Application>.</span></span> <span data-ttu-id="c2f9e-160">To umožňuje, aby soubor s kódem na pozadí byl přidružen `partial` ke třídě, která je generována pro soubor označení při sestavení aplikace (viz [Vytvoření aplikace WPF](building-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-160">This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](building-a-wpf-application-wpf.md)).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-161">Když vytvoříte nový projekt aplikace WPF nebo projekt WPF aplikace pomocí sady Visual Studio, definice aplikace je součástí výchozího nastavení a je definována pomocí kódu a kódu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-161">When you create a new WPF Application project or WPF Browser Application project using Visual Studio, an application definition is included by default and is defined using both markup and code-behind.</span></span>  
  
 <span data-ttu-id="c2f9e-162">Tento kód je minimální, který je požadován k implementaci definice aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-162">This code is the minimum that is required to implement an application definition.</span></span> <span data-ttu-id="c2f9e-163">Před vytvořením a spuštěním aplikace je však nutné provést další konfiguraci nástroje MSBuild v definici aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-163">However, an additional MSBuild configuration needs to be made to the application definition before building and running the application.</span></span>  
  
### <a name="configuring-the-application-definition-for-msbuild"></a><span data-ttu-id="c2f9e-164">Konfigurace definice aplikace pro MSBuild</span><span class="sxs-lookup"><span data-stu-id="c2f9e-164">Configuring the Application Definition for MSBuild</span></span>  
 <span data-ttu-id="c2f9e-165">Samostatné aplikace a aplikace prohlížeče XAML (XBAP) vyžadují implementaci určité úrovně infrastruktury předtím, než budou moct běžet.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-165">Standalone applications and XAML browser applications (XBAPs) require the implementation of a certain level of infrastructure before they can run.</span></span> <span data-ttu-id="c2f9e-166">Nejdůležitější součástí této infrastruktury je vstupní bod.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-166">The most important part of this infrastructure is the entry point.</span></span> <span data-ttu-id="c2f9e-167">Když uživatel spustí aplikaci, operační systém zavolá vstupní bod, což je dobře známá funkce pro spouštění aplikací.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-167">When an application is launched by a user, the operating system calls the entry point, which is a well-known function for starting applications.</span></span>  
  
 <span data-ttu-id="c2f9e-168">Vývojáři obvykle potřebují pro sebe napsat nějaký nebo celý tento kód, a to v závislosti na technologii.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-168">Traditionally, developers have needed to write some or all of this code for themselves, depending on the technology.</span></span> <span data-ttu-id="c2f9e-169">WPF ale tento kód vygeneruje, když je soubor označení vaší definice aplikace nakonfigurovaný jako položka MSBuild `ApplicationDefinition` , jak je znázorněno v následujícím souboru projektu MSBuild:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-169">However, WPF generates this code for you when the markup file of your application definition is configured as an MSBuild `ApplicationDefinition` item, as shown in the following MSBuild project file:</span></span>  
  
```xml  
<Project   
  DefaultTargets="Build"  
                        xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  
  ...  
  <ApplicationDefinition Include="App.xaml" />  
  <Compile Include="App.xaml.cs" />  
  ...  
</Project>  
```  
  
 <span data-ttu-id="c2f9e-170">Vzhledem k tomu, že soubor kódu na pozadí obsahuje kód, je označen jako `Compile` položka MSBuild, protože je normální.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-170">Because the code-behind file contains code, it is marked as an MSBuild `Compile` item, as is normal.</span></span>  
  
 <span data-ttu-id="c2f9e-171">Použití těchto konfigurací nástroje MSBuild na značky a soubory kódu na pozadí definice aplikace způsobí, že nástroj MSBuild generuje kód podobný následujícímu:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-171">The application of these MSBuild configurations to the markup and code-behind files of an application definition causes MSBuild to generate code like the following:</span></span>  
  
 [!code-csharp[auto-generated-code](~/samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs)]
 [!code-vb[auto-generated-code](~/samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb)]  
  
 <span data-ttu-id="c2f9e-172">Výsledný kód rozšiřuje definici vaší aplikace o další kód infrastruktury, který obsahuje metodu `Main`vstupního bodu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-172">The resulting code augments your application definition with additional infrastructure code, which includes the entry-point method `Main`.</span></span> <span data-ttu-id="c2f9e-173">Atribut se aplikuje `Main` na metodu, která označuje, že hlavní vlákno uživatelského rozhraní pro aplikaci WPF je vlákno STA, které je vyžadováno pro aplikace WPF. <xref:System.STAThreadAttribute></span><span class="sxs-lookup"><span data-stu-id="c2f9e-173">The <xref:System.STAThreadAttribute> attribute is applied to the `Main` method to indicate that the main UI thread for the WPF application is an STA thread, which is required for WPF applications.</span></span> <span data-ttu-id="c2f9e-174">Při volání `Main` vytvoří novou `App` instanci před voláním `InitializeComponent` metody pro registraci událostí a nastavení vlastností, které jsou implementovány v kódu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-174">When called, `Main` creates a new instance of `App` before calling the `InitializeComponent` method to register the events and set the properties that are implemented in markup.</span></span> <span data-ttu-id="c2f9e-175">Vzhledem `InitializeComponent` k tomu, že je pro vás vygenerována, `InitializeComponent` nemusíte explicitně volat z definice aplikace <xref:System.Windows.Controls.Page> , <xref:System.Windows.Window> jako je například pro a implementace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-175">Because `InitializeComponent` is generated for you, you don't need to explicitly call `InitializeComponent` from an application definition like you do for <xref:System.Windows.Controls.Page> and <xref:System.Windows.Window> implementations.</span></span> <span data-ttu-id="c2f9e-176">Nakonec je volána metoda pro spuštění aplikace. <xref:System.Windows.Application.Run%2A></span><span class="sxs-lookup"><span data-stu-id="c2f9e-176">Finally, the <xref:System.Windows.Application.Run%2A> method is called to start the application.</span></span>  
  
<a name="Getting_the_Current_Application"></a>   
## <a name="getting-the-current-application"></a><span data-ttu-id="c2f9e-177">Získávání aktuální aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-177">Getting the Current Application</span></span>  
 <span data-ttu-id="c2f9e-178">Vzhledem k tomu, že <xref:System.Windows.Application> funkce třídy jsou sdíleny napříč aplikací, může existovat pouze jedna instance <xref:System.Windows.Application> třídy na <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-178">Because the functionality of the <xref:System.Windows.Application> class are shared across an application, there can be only one instance of the <xref:System.Windows.Application> class per <xref:System.AppDomain>.</span></span> <span data-ttu-id="c2f9e-179">Chcete-li toto vyhovět, <xref:System.Windows.Application> třída je implementována jako třída typu Singleton (viz [implementace singleton v C# ](https://go.microsoft.com/fwlink/?LinkId=100567)rámci), která vytváří jednu instanci sebe sama a poskytuje `static` <xref:System.Windows.Application.Current%2A> sdílený přístup k ní s vlastností.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-179">To enforce this, the <xref:System.Windows.Application> class is implemented as a singleton class (see [Implementing Singleton in C#](https://go.microsoft.com/fwlink/?LinkId=100567)), which creates a single instance of itself and provides shared access to it with the `static`<xref:System.Windows.Application.Current%2A> property.</span></span>  
  
 <span data-ttu-id="c2f9e-180">Následující kód ukazuje, jak získat odkaz na <xref:System.Windows.Application> objekt pro aktuální. <xref:System.AppDomain></span><span class="sxs-lookup"><span data-stu-id="c2f9e-180">The following code shows how to acquire a reference to the <xref:System.Windows.Application> object for the current <xref:System.AppDomain>.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getcurrentappcode)]  
  
 <span data-ttu-id="c2f9e-181"><xref:System.Windows.Application.Current%2A>Vrátí odkaz na instanci <xref:System.Windows.Application> třídy.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-181"><xref:System.Windows.Application.Current%2A> returns a reference to an instance of the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="c2f9e-182">Pokud chcete odkaz na <xref:System.Windows.Application> odvozenou třídu, musíte přetypovat hodnotu <xref:System.Windows.Application.Current%2A> vlastnosti, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-182">If you want a reference to your <xref:System.Windows.Application> derived class you must cast the value of the <xref:System.Windows.Application.Current%2A> property, as shown in the following example.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getstcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getstcurrentappcode)]  
  
 <span data-ttu-id="c2f9e-183">Můžete zkontrolovat hodnotu <xref:System.Windows.Application.Current%2A> v jakémkoli okamžiku životnosti <xref:System.Windows.Application> objektu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-183">You can inspect the value of <xref:System.Windows.Application.Current%2A> at any point in the lifetime of an <xref:System.Windows.Application> object.</span></span> <span data-ttu-id="c2f9e-184">Měli byste si však být opatrní.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-184">However, you should be careful.</span></span> <span data-ttu-id="c2f9e-185">Po vytvoření instance <xref:System.Windows.Application> třídyexistujeobdobí,běhemkteréhojestav<xref:System.Windows.Application> objektu nekonzistentní.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-185">After the <xref:System.Windows.Application> class is instantiated, there is a period during which the state of the <xref:System.Windows.Application> object is inconsistent.</span></span> <span data-ttu-id="c2f9e-186">Během této doby <xref:System.Windows.Application> provádí různé inicializační úlohy, které váš kód vyžaduje ke spuštění, včetně stanovení infrastruktury aplikace, nastavení vlastností a registrování událostí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-186">During this period, <xref:System.Windows.Application> is performing the various initialization tasks that are required by your code to run, including establishing application infrastructure, setting properties, and registering events.</span></span> <span data-ttu-id="c2f9e-187">Pokud se pokusíte použít <xref:System.Windows.Application> objekt během této doby, váš kód může mít neočekávané výsledky, zejména v případě, že závisí na různých <xref:System.Windows.Application> vlastnostech, které jsou nastaveny.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-187">If you try to use the <xref:System.Windows.Application> object during this period, your code may have unexpected results, particularly if it depends on the various <xref:System.Windows.Application> properties being set.</span></span>  
  
 <span data-ttu-id="c2f9e-188">Po <xref:System.Windows.Application> dokončení své inicializační práce se skutečně zahájí jeho životnost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-188">When <xref:System.Windows.Application> completes its initialization work, its lifetime truly begins.</span></span>  
  
<a name="Application_Lifetime"></a>   
## <a name="application-lifetime"></a><span data-ttu-id="c2f9e-189">Doba života aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-189">Application Lifetime</span></span>  
 <span data-ttu-id="c2f9e-190">Životnost aplikace WPF je označena několika událostmi, které jsou vyvolány <xref:System.Windows.Application> a umožňují vám zjistit, zda byla aplikace spuštěna, zda byla aktivována a dezaktivována a byla ukončena.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-190">The lifetime of a WPF application is marked by several events that are raised by <xref:System.Windows.Application> to let you know when your application has started, has been activated and deactivated, and has been shut down.</span></span>  

<a name="Splash_Screen"></a>   
### <a name="splash-screen"></a><span data-ttu-id="c2f9e-191">Úvodní obrazovka</span><span class="sxs-lookup"><span data-stu-id="c2f9e-191">Splash Screen</span></span>  
 <span data-ttu-id="c2f9e-192">Počínaje verzí .NET Framework 3,5 SP1 můžete určit obrázek, který se má použít v okně pro spuštění, nebo na *úvodní obrazovce*.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-192">Starting in the .NET Framework 3.5 SP1, you can specify an image to be used in a startup window, or *splash screen*.</span></span> <span data-ttu-id="c2f9e-193"><xref:System.Windows.SplashScreen> Třída usnadňuje zobrazení spouštěcího okna během načítání aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-193">The <xref:System.Windows.SplashScreen> class makes it easy to display a startup window while your application is loading.</span></span> <span data-ttu-id="c2f9e-194">Okno se vytvoří a zobrazí se před <xref:System.Windows.Application.Run%2A> tím, než se zavolá. <xref:System.Windows.SplashScreen></span><span class="sxs-lookup"><span data-stu-id="c2f9e-194">The <xref:System.Windows.SplashScreen> window is created and shown before <xref:System.Windows.Application.Run%2A> is called.</span></span> <span data-ttu-id="c2f9e-195">Další informace najdete v tématu [čas spuštění aplikace](../advanced/application-startup-time.md) a [Přidání úvodní obrazovky do aplikace WPF](how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-195">For more information, see [Application Startup Time](../advanced/application-startup-time.md) and [Add a Splash Screen to a WPF Application](how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>  
  
<a name="Starting_an_Application"></a>   
### <a name="starting-an-application"></a><span data-ttu-id="c2f9e-196">Spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-196">Starting an Application</span></span>  
 <span data-ttu-id="c2f9e-197">Po <xref:System.Windows.Application.Run%2A> volání a inicializaci aplikace je aplikace připravena ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-197">After <xref:System.Windows.Application.Run%2A> is called and the application is initialized, the application is ready to run.</span></span> <span data-ttu-id="c2f9e-198">Tento okamžik je označen při <xref:System.Windows.Application.Startup> vyvolání události:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-198">This moment is signified when the <xref:System.Windows.Application.Startup> event is raised:</span></span>  
  
[!code-csharp[Startup-event](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs?range=3-11,31-33)]
[!code-vb[Startup-event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb?range=5-11,30-32)]
  
 <span data-ttu-id="c2f9e-199">V tomto okamžiku životního cyklu aplikace je nejběžnější postup zobrazit uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-199">At this point in an application's lifetime, the most common thing to do is to show a UI.</span></span>  
  
<a name="Showing_a_User_Interface"></a>
### <a name="showing-a-user-interface"></a><span data-ttu-id="c2f9e-200">Zobrazení uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="c2f9e-200">Showing a User Interface</span></span>  
 <span data-ttu-id="c2f9e-201">Většina samostatných aplikací systému Windows otevře <xref:System.Windows.Window> při zahájení běhu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-201">Most standalone Windows applications open a <xref:System.Windows.Window> when they begin running.</span></span> <span data-ttu-id="c2f9e-202">Obslužná <xref:System.Windows.Application.Startup> rutina události je jedno umístění, ze kterého lze provést, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-202">The <xref:System.Windows.Application.Startup> event handler is one location from which you can do this, as demonstrated by the following code.</span></span>  
  
 [!code-xaml[AppShowWindowHardSnippets#StartupEventMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml#startupeventmarkup)]  
  
 [!code-csharp[AppShowWindowHardSnippets#StartupEventCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml.cs#startupeventcodebehind)]
 [!code-vb[AppShowWindowHardSnippets#StartupEventCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/AppShowWindowHardSnippets/VisualBasic/Application.xaml.vb#startupeventcodebehind)]  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-203">První <xref:System.Windows.Window> instance, která má být vytvořena v samostatné aplikaci, se ve výchozím nastavení stal hlavním oknem aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-203">The first <xref:System.Windows.Window> to be instantiated in a standalone application becomes the main application window by default.</span></span> <span data-ttu-id="c2f9e-204"><xref:System.Windows.Window> Na<xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> tento objekt odkazuje vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-204">This <xref:System.Windows.Window> object is referenced by the <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="c2f9e-205">Hodnota <xref:System.Windows.Application.MainWindow%2A> vlastnosti může být změněna programově, pokud <xref:System.Windows.Window> by jiné okno než první instance mělo být hlavním oknem.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-205">The value of the <xref:System.Windows.Application.MainWindow%2A> property can be changed programmatically if a different window than the first instantiated <xref:System.Windows.Window> should be the main window.</span></span>  
  
 <span data-ttu-id="c2f9e-206">Při prvním spuštění aplikace XBAP bude pravděpodobně možné přejít na <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-206">When an XBAP first starts, it will most likely navigate to a <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="c2f9e-207">Tento kód je zobrazen v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-207">This is shown in the following code.</span></span>  
  
 [!code-xaml[XBAPAppStartupSnippets#StartupXBAPMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml#startupxbapmarkup)]  
  
 [!code-csharp[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml.cs#startupxbapcodebehind)]
 [!code-vb[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppStartupSnippets/VisualBasic/Application.xaml.vb#startupxbapcodebehind)]  
  
 <span data-ttu-id="c2f9e-208">Pokud zpracováváte <xref:System.Windows.Application.Startup> <xref:System.Windows.Window> pouze otevření nebo nebo navigovat na <xref:System.Windows.Controls.Page>, můžete místo toho nastavit `StartupUri` atribut v označení.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-208">If you handle <xref:System.Windows.Application.Startup> to only open a <xref:System.Windows.Window> or navigate to a <xref:System.Windows.Controls.Page>, you can set the `StartupUri` attribute in markup instead.</span></span>  
  
 <span data-ttu-id="c2f9e-209">Následující příklad ukazuje, jak použít <xref:System.Windows.Application.StartupUri%2A> ze samostatné aplikace k <xref:System.Windows.Window>otevření.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-209">The following example shows how to use the <xref:System.Windows.Application.StartupUri%2A> from a standalone application to open a <xref:System.Windows.Window>.</span></span>  
  
 [!code-xaml[ApplicationManagementOverviewSnippets#OverviewStartupUriMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/App.xaml#overviewstartupurimarkup)]  
  
 <span data-ttu-id="c2f9e-210">Následující příklad ukazuje, jak použít <xref:System.Windows.Application.StartupUri%2A> z aplikace XBAP k přechodu <xref:System.Windows.Controls.Page>na.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-210">The following example shows how to use <xref:System.Windows.Application.StartupUri%2A> from an XBAP to navigate to a <xref:System.Windows.Controls.Page>.</span></span>  
  
 [!code-xaml[PageSnippets#XBAPStartupUriMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/PageSnippets/CSharp/App.xaml#xbapstartupurimarkup)]  
  
 <span data-ttu-id="c2f9e-211">Tento kód má stejný účinek jako předchozí kód pro otevření okna.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-211">This markup has the same effect as the previous code for opening a window.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-212">Další informace o navigaci najdete v tématu [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-212">For more information on navigation, see [Navigation Overview](navigation-overview.md).</span></span>  
  
 <span data-ttu-id="c2f9e-213">Je nutné zpracovat <xref:System.Windows.Application.Startup> událost pro <xref:System.Windows.Window> otevření, pokud je třeba ji vytvořit pomocí konstruktoru bez parametrů, nebo musíte nastavit její vlastnosti nebo se přihlásit k odběru jejích událostí, než je zobrazíte, nebo potřebujete zpracovat argumenty příkazového řádku. které byly zadány při spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-213">You need to handle the <xref:System.Windows.Application.Startup> event to open a <xref:System.Windows.Window> if you need to instantiate it using a non-parameterless constructor, or you need to set its properties or subscribe to its events before showing it, or you need to process any command-line arguments that were supplied when the application was launched.</span></span>  
  
<a name="Processing_Command_Line_Arguments"></a>   
### <a name="processing-command-line-arguments"></a><span data-ttu-id="c2f9e-214">Zpracování argumentů příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="c2f9e-214">Processing Command-Line Arguments</span></span>  
 <span data-ttu-id="c2f9e-215">V systému Windows můžete samostatné aplikace spustit z příkazového řádku nebo z plochy.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-215">In Windows, standalone applications can be launched from either a command prompt or the desktop.</span></span> <span data-ttu-id="c2f9e-216">V obou případech lze do aplikace předat argumenty příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-216">In both cases, command-line arguments can be passed to the application.</span></span> <span data-ttu-id="c2f9e-217">Následující příklad ukazuje aplikaci, která se spustí s jedním argumentem příkazového řádku, "/StartMinimized":</span><span class="sxs-lookup"><span data-stu-id="c2f9e-217">The following example shows an application that is launched with a single command-line argument, "/StartMinimized":</span></span>  
  
 `wpfapplication.exe /StartMinimized`  
  
 <span data-ttu-id="c2f9e-218">Při inicializaci aplikace WPF načte argumenty příkazového řádku z operačního systému a předá je <xref:System.Windows.Application.Startup> obslužné rutině události <xref:System.Windows.StartupEventArgs.Args%2A> prostřednictvím vlastnosti <xref:System.Windows.StartupEventArgs> parametru.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-218">During application initialization, WPF retrieves the command-line arguments from the operating system and passes them to the <xref:System.Windows.Application.Startup> event handler via the <xref:System.Windows.StartupEventArgs.Args%2A> property of the <xref:System.Windows.StartupEventArgs> parameter.</span></span> <span data-ttu-id="c2f9e-219">Argumenty příkazového řádku můžete načíst a uložit pomocí kódu podobného následujícímu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-219">You can retrieve and store the command-line arguments using code like the following.</span></span>  
  
 [!code-xaml[ApplicationStartupSnippets#HandleStartupXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml#handlestartupxaml)]  
  
 [!code-csharp[ApplicationStartupSnippets#HandleStartupCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#handlestartupcodebehind)]
 [!code-vb[ApplicationStartupSnippets#HandleStartupCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#handlestartupcodebehind)]  
  
 <span data-ttu-id="c2f9e-220">Popisovač <xref:System.Windows.Application.Startup> kódu kontroluje, zda byl zadán argument příkazového řádku **/StartMinimized** . Pokud ano, otevře se <xref:System.Windows.WindowState> hlavní <xref:System.Windows.WindowState.Minimized>okno s.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-220">The code handles <xref:System.Windows.Application.Startup> to check whether the **/StartMinimized** command-line argument was provided; if so, it opens the main window with a <xref:System.Windows.WindowState> of <xref:System.Windows.WindowState.Minimized>.</span></span> <span data-ttu-id="c2f9e-221">Všimněte si, že <xref:System.Windows.Window.WindowState%2A> vzhledem k tomu, že vlastnost musí být <xref:System.Windows.Window> nastavena programově, musí být hlavní otevřený explicitně v kódu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-221">Note that because the <xref:System.Windows.Window.WindowState%2A> property must be set programmatically, the main <xref:System.Windows.Window> must be opened explicitly in code.</span></span>  
  
 <span data-ttu-id="c2f9e-222">XBAP nemohou načíst a zpracovat argumenty příkazového řádku, protože jsou spouštěny pomocí nasazení ClickOnce (viz [nasazení aplikace WPF](deploying-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-222">XBAPs cannot retrieve and process command-line arguments because they are launched using ClickOnce deployment (see [Deploying a WPF Application](deploying-a-wpf-application-wpf.md)).</span></span> <span data-ttu-id="c2f9e-223">Můžou ale načítat a zpracovávat parametry řetězce dotazu z adres URL, které se používají ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-223">However, they can retrieve and process query string parameters from the URLs that are used to launch them.</span></span>  
  
<a name="Application_Activation_and_Deactivation"></a>   
### <a name="application-activation-and-deactivation"></a><span data-ttu-id="c2f9e-224">Aktivace a deaktivace aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-224">Application Activation and Deactivation</span></span>  
 <span data-ttu-id="c2f9e-225">Systém Windows umožňuje uživatelům přepínat mezi aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-225">Windows allows users to switch between applications.</span></span> <span data-ttu-id="c2f9e-226">Nejběžnějším způsobem je použití kombinace kláves ALT + TAB.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-226">The most common way is to use the ALT+TAB key combination.</span></span> <span data-ttu-id="c2f9e-227">Aplikaci lze přepnout do pouze v případě, že je viditelná <xref:System.Windows.Window> , kterou může uživatel vybrat.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-227">An application can only be switched to if it has a visible <xref:System.Windows.Window> that a user can select.</span></span> <span data-ttu-id="c2f9e-228">Aktuálně vybraný <xref:System.Windows.Window> je *aktivní okno* (označované také jako <xref:System.Windows.Window> okno na *popředí*), které přijímá vstup uživatele.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-228">The currently selected <xref:System.Windows.Window> is the *active window* (also known as the *foreground window*) and is the <xref:System.Windows.Window> that receives user input.</span></span> <span data-ttu-id="c2f9e-229">Aplikace s aktivním oknem je *aktivní aplikace* (nebo aplikace v *popředí*).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-229">The application with the active window is the *active application* (or *foreground application*).</span></span> <span data-ttu-id="c2f9e-230">Aplikace se bude aktivní aplikací v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-230">An application becomes the active application in the following circumstances:</span></span>  
  
- <span data-ttu-id="c2f9e-231">Spustí se a zobrazí se <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-231">It is launched and shows a <xref:System.Windows.Window>.</span></span>  
  
- <span data-ttu-id="c2f9e-232">Uživatel přepne z jiné aplikace výběrem a <xref:System.Windows.Window> v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-232">A user switches from another application by selecting a <xref:System.Windows.Window> in the application.</span></span>  
  
 <span data-ttu-id="c2f9e-233">Můžete zjistit, kdy se aplikace bude aktivní, a to <xref:System.Windows.Application.Activated?displayProperty=nameWithType> tak, že se událost zpracuje.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-233">You can detect when an application becomes active by handling the <xref:System.Windows.Application.Activated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="c2f9e-234">Podobně může být aplikace neaktivní v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-234">Likewise, an application can become inactive in the following circumstances:</span></span>  
  
- <span data-ttu-id="c2f9e-235">Uživatel přepne do jiné aplikace z aktuálního.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-235">A user switches to another application from the current one.</span></span>  
  
- <span data-ttu-id="c2f9e-236">Když se aplikace vypíná.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-236">When the application shuts down.</span></span>  
  
 <span data-ttu-id="c2f9e-237">Můžete zjistit, kdy se aplikace bude neaktivní, a to <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> zpracováním události.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-237">You can detect when an application becomes inactive by handling the <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="c2f9e-238">Následující kód ukazuje, jak zpracovat <xref:System.Windows.Application.Activated> události a <xref:System.Windows.Application.Deactivated> k určení, zda je aplikace aktivní.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-238">The following code shows how to handle the <xref:System.Windows.Application.Activated> and <xref:System.Windows.Application.Deactivated> events to determine whether an application is active.</span></span>  
  
 [!code-xaml[ApplicationActivationSnippets#DetectActivationStateXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml#detectactivationstatexaml)]  
  
 [!code-csharp[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml.cs#detectactivationstatecodebehind)]
 [!code-vb[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationActivationSnippets/visualbasic/application.xaml.vb#detectactivationstatecodebehind)]  
  
 <span data-ttu-id="c2f9e-239"><xref:System.Windows.Window> Lze také aktivovat a deaktivovat.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-239">A <xref:System.Windows.Window> can also be activated and deactivated.</span></span> <span data-ttu-id="c2f9e-240">Další <xref:System.Windows.Window.Activated?displayProperty=nameWithType> informace <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> najdete v tématu a.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-240">See <xref:System.Windows.Window.Activated?displayProperty=nameWithType> and <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> for more information.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-241">Pro XBAP <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> není anivyvolána.<xref:System.Windows.Application.Activated?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="c2f9e-241">Neither <xref:System.Windows.Application.Activated?displayProperty=nameWithType> nor <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> is raised for XBAPs.</span></span>  
  
<a name="Application_Shutdown"></a>   
### <a name="application-shutdown"></a><span data-ttu-id="c2f9e-242">Vypnutí aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-242">Application Shutdown</span></span>  
 <span data-ttu-id="c2f9e-243">Životnost aplikace končí, když je vypnutá, což může nastat z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-243">The life of an application ends when it is shut down, which can occur for the following reasons:</span></span>  
  
- <span data-ttu-id="c2f9e-244">Uživatel se zavře každý <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-244">A user closes every <xref:System.Windows.Window>.</span></span>  
  
- <span data-ttu-id="c2f9e-245">Uživatel zavírá hlavní <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-245">A user closes the main <xref:System.Windows.Window>.</span></span>  
  
- <span data-ttu-id="c2f9e-246">Uživatel ukončí relaci systému Windows odhlášením nebo vypnutím.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-246">A user ends the Windows session by logging off or shutting down.</span></span>  
  
- <span data-ttu-id="c2f9e-247">Byla splněna podmínka specifická pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-247">An application-specific condition has been met.</span></span>  
  
 <span data-ttu-id="c2f9e-248">Pro usnadnění správy vypnutí <xref:System.Windows.Application> aplikace <xref:System.Windows.Application.Shutdown%2A> poskytuje metoda, <xref:System.Windows.Application.ShutdownMode%2A> vlastnost a <xref:System.Windows.Application.SessionEnding> události a <xref:System.Windows.Application.Exit> .</span><span class="sxs-lookup"><span data-stu-id="c2f9e-248">To help you manage application shutdown, <xref:System.Windows.Application> provides the <xref:System.Windows.Application.Shutdown%2A> method, the <xref:System.Windows.Application.ShutdownMode%2A> property, and the <xref:System.Windows.Application.SessionEnding> and <xref:System.Windows.Application.Exit> events.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-249"><xref:System.Windows.Application.Shutdown%2A>lze ji volat pouze z aplikací, které <xref:System.Security.Permissions.UIPermission>mají.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-249"><xref:System.Windows.Application.Shutdown%2A> can only be called from applications that have <xref:System.Security.Permissions.UIPermission>.</span></span> <span data-ttu-id="c2f9e-250">Samostatná aplikace WPF mají vždy toto oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-250">Standalone WPF applications always have this permission.</span></span> <span data-ttu-id="c2f9e-251">Aplikace XBAP spuštěné v izolovaném prostoru zabezpečení zóny Internet Zone ale nepodporují.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-251">However, XBAPs running in the Internet zone partial-trust security sandbox do not.</span></span>  
  
#### <a name="shutdown-mode"></a><span data-ttu-id="c2f9e-252">Režim vypnutí</span><span class="sxs-lookup"><span data-stu-id="c2f9e-252">Shutdown Mode</span></span>  
 <span data-ttu-id="c2f9e-253">Většina aplikací se vypne buď při zavření všech oken nebo při zavření hlavního okna.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-253">Most applications shut down either when all the windows are closed or when the main window is closed.</span></span> <span data-ttu-id="c2f9e-254">Někdy ale jiné podmínky specifické pro aplikace mohou určit, kdy se aplikace vypíná.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-254">Sometimes, however, other application-specific conditions may determine when an application shuts down.</span></span> <span data-ttu-id="c2f9e-255">Můžete určit podmínky, za kterých se vaše aplikace vypne, nastavením <xref:System.Windows.Application.ShutdownMode%2A> jedné z následujících <xref:System.Windows.ShutdownMode> hodnot výčtu:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-255">You can specify the conditions under which your application will shut down by setting <xref:System.Windows.Application.ShutdownMode%2A> with one of the following <xref:System.Windows.ShutdownMode> enumeration values:</span></span>  
  
- <xref:System.Windows.ShutdownMode.OnLastWindowClose>  
  
- <xref:System.Windows.ShutdownMode.OnMainWindowClose>  
  
- <xref:System.Windows.ShutdownMode.OnExplicitShutdown>  
  
 <span data-ttu-id="c2f9e-256">Výchozí hodnota <xref:System.Windows.Application.ShutdownMode%2A> je <xref:System.Windows.ShutdownMode.OnLastWindowClose>, což znamená, že aplikace se automaticky vypne, když uživatel zavře poslední okno aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-256">The default value of <xref:System.Windows.Application.ShutdownMode%2A> is <xref:System.Windows.ShutdownMode.OnLastWindowClose>, which means that an application automatically shuts down when the last window in the application is closed by the user.</span></span> <span data-ttu-id="c2f9e-257">Pokud by však měla být aplikace ukončena při zavření hlavního okna, WPF automaticky provede, že pokud nastavíte <xref:System.Windows.Application.ShutdownMode%2A> na. <xref:System.Windows.ShutdownMode.OnMainWindowClose></span><span class="sxs-lookup"><span data-stu-id="c2f9e-257">However, if your application should be shut down when the main window is closed, WPF automatically does that if you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span> <span data-ttu-id="c2f9e-258">To je ukázáno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-258">This is shown in the following example.</span></span>  
  
 [!code-xaml[ApplicationShutdownModeSnippets#OnMainWindowCloseMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationShutdownModeSnippets/CS/Page1.xaml#onmainwindowclosemarkup)]  
  
 <span data-ttu-id="c2f9e-259">Pokud máte podmínky pro vypnutí specifické pro aplikaci, nastavte <xref:System.Windows.Application.ShutdownMode%2A> na. <xref:System.Windows.ShutdownMode.OnExplicitShutdown></span><span class="sxs-lookup"><span data-stu-id="c2f9e-259">When you have application-specific shutdown conditions, you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span></span> <span data-ttu-id="c2f9e-260">V tomto případě je vaší zodpovědností ukončit aplikaci tím, že explicitně zavoláte <xref:System.Windows.Application.Shutdown%2A> metodu. v opačném případě bude aplikace dál běžet i v případě, že jsou všechna okna zavřena.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-260">In this case, it is your responsibility to shut an application down by explicitly calling the <xref:System.Windows.Application.Shutdown%2A> method; otherwise, your application will continue running even if all the windows are closed.</span></span> <span data-ttu-id="c2f9e-261">Všimněte si <xref:System.Windows.Application.Shutdown%2A> , že implicitně se volá <xref:System.Windows.Application.ShutdownMode%2A> , když <xref:System.Windows.ShutdownMode.OnLastWindowClose> je <xref:System.Windows.ShutdownMode.OnMainWindowClose>buď nebo.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-261">Note that <xref:System.Windows.Application.Shutdown%2A> is called implicitly when the <xref:System.Windows.Application.ShutdownMode%2A> is either <xref:System.Windows.ShutdownMode.OnLastWindowClose> or <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-262"><xref:System.Windows.Application.ShutdownMode%2A>dá se nastavit z XBAP, ale ignoruje se. XBAP je vždy vypnuta, když je přecházení v prohlížeči nebo když je zavřen prohlížeč, který je hostitelem aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-262"><xref:System.Windows.Application.ShutdownMode%2A> can be set from an XBAP, but it is ignored; an XBAP is always shut down when it is navigated away from in a browser or when the browser that hosts the XBAP is closed.</span></span> <span data-ttu-id="c2f9e-263">Další informace najdete v tématu [Přehled navigace](navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-263">For more information, see [Navigation Overview](navigation-overview.md).</span></span>  
  
#### <a name="session-ending"></a><span data-ttu-id="c2f9e-264">Ukončení relace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-264">Session Ending</span></span>  
 <span data-ttu-id="c2f9e-265">Podmínky vypnutí, které jsou popsány <xref:System.Windows.Application.ShutdownMode%2A> vlastností, jsou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-265">The shutdown conditions that are described by the <xref:System.Windows.Application.ShutdownMode%2A> property are specific to an application.</span></span> <span data-ttu-id="c2f9e-266">V některých případech ale může dojít k vypnutí aplikace v důsledku externí podmínky.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-266">In some cases, though, an application may shut down as a result of an external condition.</span></span> <span data-ttu-id="c2f9e-267">Nejběžnější externí podmínka nastane, když uživatel ukončí relaci systému Windows následujícími akcemi:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-267">The most common external condition occurs when a user ends the Windows session by the following actions:</span></span>  
  
- <span data-ttu-id="c2f9e-268">Odhlášení</span><span class="sxs-lookup"><span data-stu-id="c2f9e-268">Logging off</span></span>  
  
- <span data-ttu-id="c2f9e-269">Vypínání</span><span class="sxs-lookup"><span data-stu-id="c2f9e-269">Shutting down</span></span>  
  
- <span data-ttu-id="c2f9e-270">Restartovat</span><span class="sxs-lookup"><span data-stu-id="c2f9e-270">Restarting</span></span>  
  
- <span data-ttu-id="c2f9e-271">Hibernace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-271">Hibernating</span></span>  
  
 <span data-ttu-id="c2f9e-272">Chcete-li zjistit, kdy relace systému Windows skončí, můžete <xref:System.Windows.Application.SessionEnding> zpracovat událost, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-272">To detect when a Windows session ends, you can handle the <xref:System.Windows.Application.SessionEnding> event, as illustrated in the following example.</span></span>  
  
 [!code-xaml[ApplicationSessionEndingSnippets#HandlingSessionEndingXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml#handlingsessionendingxaml)]  
  
 [!code-csharp[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml.cs#handlingsessionendingcodebehind)]
 [!code-vb[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/visualbasic/application.xaml.vb#handlingsessionendingcodebehind)]  
  
 <span data-ttu-id="c2f9e-273">V tomto příkladu kód zkontroluje <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> vlastnost a určí, jak probíhá ukončování relace systému Windows.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-273">In this example, the code inspects the <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> property to determine how the Windows session is ending.</span></span> <span data-ttu-id="c2f9e-274">Tato hodnota se používá k zobrazení potvrzovací zprávy uživateli.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-274">It uses this value to display a confirmation message to the user.</span></span> <span data-ttu-id="c2f9e-275">Pokud uživatel nechce ukončit relaci, kód nastaví <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> `true` , aby nedošlo k ukončení relace systému Windows.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-275">If the user does not want the session to end, the code sets <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> to `true` to prevent the Windows session from ending.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-276"><xref:System.Windows.Application.SessionEnding>není vyvoláno pro XBAP.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-276"><xref:System.Windows.Application.SessionEnding> is not raised for XBAPs.</span></span>

#### <a name="exit"></a><span data-ttu-id="c2f9e-277">Ukončit</span><span class="sxs-lookup"><span data-stu-id="c2f9e-277">Exit</span></span>  
 <span data-ttu-id="c2f9e-278">Když se aplikace ukončí, může být nutné provést nějaké konečné zpracování, jako je například zachování stavu aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-278">When an application shuts down, it may need to perform some final processing, such as persisting application state.</span></span> <span data-ttu-id="c2f9e-279">V těchto situacích lze <xref:System.Windows.Application.Exit> událost zpracovat, `App_Exit` jako obslužná rutina události, v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-279">For these situations, you can handle the <xref:System.Windows.Application.Exit> event, as the `App_Exit` event handler does in the following example.</span></span> <span data-ttu-id="c2f9e-280">Je definován jako obslužná rutina události v souboru *App. XAML* .</span><span class="sxs-lookup"><span data-stu-id="c2f9e-280">It is defined as an event handler in the *App.xaml* file.</span></span> <span data-ttu-id="c2f9e-281">Jeho implementace je zvýrazněna v souborech *App.XAML.cs* a *Application. XAML. vb* .</span><span class="sxs-lookup"><span data-stu-id="c2f9e-281">Its implementation is highlighted in the *App.xaml.cs* and *Application.xaml.vb* files.</span></span>
  
[!code-xaml[Defining-the-Exit-event-handler](~/samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml?highlight=1-7)]  
  
 [!code-csharp[Handling-the-Exit-event](~/samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs?highlight=42-55)]
 [!code-vb[Handling-the-Exit-event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb?highlight=34-45)]  
  
 <span data-ttu-id="c2f9e-282">Úplný příklad naleznete v tématu [trvalé a obnovení vlastností rozsahu aplikace napříč relacemi aplikace](persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="c2f9e-282">For the complete example, see [Persist and Restore Application-Scope Properties Across Application Sessions](persist-and-restore-application-scope-properties.md).</span></span>  
  
 <span data-ttu-id="c2f9e-283"><xref:System.Windows.Application.Exit>může být zpracována samostatnými aplikacemi i XBAP.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-283"><xref:System.Windows.Application.Exit> can be handled by both standalone applications and XBAPs.</span></span> <span data-ttu-id="c2f9e-284">Pro XBAP <xref:System.Windows.Application.Exit> je vyvolána v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-284">For XBAPs, <xref:System.Windows.Application.Exit> is raised when in the following circumstances:</span></span>  
  
- <span data-ttu-id="c2f9e-285">Aplikace XBAP přešla jinam.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-285">An XBAP is navigated away from.</span></span>  
  
- <span data-ttu-id="c2f9e-286">V aplikaci Internet Explorer, pokud je zavřena karta, která je hostitelem aplikace XBAP.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-286">In Internet Explorer, when the tab that is hosting the XBAP is closed.</span></span>  
  
- <span data-ttu-id="c2f9e-287">Při zavření prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-287">When the browser is closed.</span></span>  
  
#### <a name="exit-code"></a><span data-ttu-id="c2f9e-288">Ukončovací kód</span><span class="sxs-lookup"><span data-stu-id="c2f9e-288">Exit Code</span></span>  
 <span data-ttu-id="c2f9e-289">Aplikace jsou většinou spuštěné operačním systémem v reakci na požadavek uživatele.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-289">Applications are mostly launched by the operating system in response to a user request.</span></span> <span data-ttu-id="c2f9e-290">Aplikaci však lze spustit jinou aplikací k provedení určitého úkolu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-290">However, an application can be launched by another application to perform some specific task.</span></span> <span data-ttu-id="c2f9e-291">Po ukončení spuštěné aplikace může spuštění aplikace chtít znát podmínku, za kterou se spuštěné aplikace vypnula.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-291">When the launched application shuts down, the launching application may want to know the condition under which the launched application shut down.</span></span> <span data-ttu-id="c2f9e-292">V těchto situacích systém Windows umožňuje aplikacím vracet ukončovací kód aplikace při vypnutí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-292">In these situations, Windows allows applications to return an application exit code on shutdown.</span></span> <span data-ttu-id="c2f9e-293">Ve výchozím nastavení aplikace WPF vrátí ukončovací kód s hodnotou 0.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-293">By default, WPF applications return an exit code value of 0.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-294">Při ladění ze sady Visual Studio se ukončovací kód aplikace zobrazuje v okně **výstup** , když se aplikace ukončí, ve zprávě, která vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-294">When you debug from Visual Studio, the application exit code is displayed in the **Output** window when the application shuts down, in a message that looks like the following:</span></span>  
>   
>  `The program '[5340] AWPFApp.vshost.exe: Managed' has exited with code 0 (0x0).`  
>   
>  <span data-ttu-id="c2f9e-295">Otevřete okno **výstup** kliknutím na **výstup** v nabídce **zobrazení** .</span><span class="sxs-lookup"><span data-stu-id="c2f9e-295">You open the **Output** window by clicking **Output** on the **View** menu.</span></span>  
  
 <span data-ttu-id="c2f9e-296">Chcete-li změnit ukončovací kód, můžete volat <xref:System.Windows.Application.Shutdown%28System.Int32%29> přetížení, které přijímá celočíselný argument jako ukončovací kód:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-296">To change the exit code, you can call the <xref:System.Windows.Application.Shutdown%28System.Int32%29> overload, which accepts an integer argument to be the exit code:</span></span>  
  
 [!code-csharp[ApplicationExitSnippets#AppExitCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationExitSnippets/CSharp/MainWindow.xaml.cs#appexitcode)]
 [!code-vb[ApplicationExitSnippets#AppExitCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationExitSnippets/visualbasic/mainwindow.xaml.vb#appexitcode)]  
  
 <span data-ttu-id="c2f9e-297">Můžete zjistit hodnotu ukončovacího kódu a změnit ji pomocí zpracování <xref:System.Windows.Application.Exit> události.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-297">You can detect the value of the exit code, and change it, by handling the <xref:System.Windows.Application.Exit> event.</span></span> <span data-ttu-id="c2f9e-298">Obslužná rutina <xref:System.Windows.ExitEventArgs>událostije předána, která poskytuje přístup k ukončovacímu kódu <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> s vlastností. <xref:System.Windows.Application.Exit></span><span class="sxs-lookup"><span data-stu-id="c2f9e-298">The <xref:System.Windows.Application.Exit> event handler is passed an <xref:System.Windows.ExitEventArgs> which provides access to the exit code with the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> property.</span></span> <span data-ttu-id="c2f9e-299">Další informace naleznete v tématu <xref:System.Windows.Application.Exit>.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-299">For more information, see <xref:System.Windows.Application.Exit>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2f9e-300">Ukončovací kód můžete nastavit jak v samostatných aplikacích, tak v XBAP.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-300">You can set the exit code in both standalone applications and XBAPs.</span></span> <span data-ttu-id="c2f9e-301">Hodnota ukončovacího kódu se ale pro aplikace XBAP ignoruje.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-301">However, the exit code value is ignored for XBAPs.</span></span>  
  
<a name="Unhandled_Exceptions"></a>   
### <a name="unhandled-exceptions"></a><span data-ttu-id="c2f9e-302">Neošetřené výjimky</span><span class="sxs-lookup"><span data-stu-id="c2f9e-302">Unhandled Exceptions</span></span>  
 <span data-ttu-id="c2f9e-303">V některých případech se může stát, že se aplikace vypne za abnormálních podmínek, například při vyvolání neočekávané výjimky.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-303">Sometimes an application may shut down under abnormal conditions, such as when an unanticipated exception is thrown.</span></span> <span data-ttu-id="c2f9e-304">V tomto případě aplikace nemusí mít kód pro detekci a zpracování výjimky.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-304">In this case, the application may not have the code to detect and process the exception.</span></span> <span data-ttu-id="c2f9e-305">Tento typ výjimky je Neošetřená výjimka; oznámení podobné tomuto obrázku zobrazenému na následujícím obrázku je zobrazeno před zavřením aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-305">This type of exception is an unhandled exception; a notification similar to that shown in the following figure is displayed before the application is closed.</span></span>  
  
 ![Snímek obrazovky, který zobrazuje oznámení o neošetřené výjimce.](./media/application-management-overview/unhandled-exception-notification.png)  
  
 <span data-ttu-id="c2f9e-307">V perspektivě uživatelského prostředí je lepší, aby aplikace zabránila tomuto výchozímu chování tím, že provádí některé nebo všechny následující akce:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-307">From the user experience perspective, it is better for an application to avoid this default behavior by doing some or all of the following:</span></span>  
  
- <span data-ttu-id="c2f9e-308">Zobrazují se uživatelsky přívětivé informace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-308">Displaying user-friendly information.</span></span>  
  
- <span data-ttu-id="c2f9e-309">Probíhá pokus o zachování aplikace v chodu.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-309">Attempting to keep an application running.</span></span>  
  
- <span data-ttu-id="c2f9e-310">V protokolu událostí systému Windows se zaznamenávají podrobné informace o výjimce pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-310">Recording detailed, developer-friendly exception information in the Windows event log.</span></span>  
  
 <span data-ttu-id="c2f9e-311">Implementace této podpory závisí na schopnostech detekovat neošetřené výjimky, což znamená, že <xref:System.Windows.Application.DispatcherUnhandledException> událost je vyvolána pro.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-311">Implementing this support depends on being able to detect unhandled exceptions, which is what the <xref:System.Windows.Application.DispatcherUnhandledException> event is raised for.</span></span>  
  
[!code-xaml[detecting-unhandled-exceptions](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml#handledispatcherunhandledexceptionxaml)]  
  
[!code-csharp[code-to-detect-unhandled-exceptions](~/samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs)]
[!code-vb[code-to-detect-unhandled-exceptions](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb)]  
  
 <span data-ttu-id="c2f9e-312">Obslužné rutině <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs>událostije předán parametr, který obsahuje kontextové informace týkající se neošetřené výjimky, včetně samotné výjimky (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>). <xref:System.Windows.Application.DispatcherUnhandledException></span><span class="sxs-lookup"><span data-stu-id="c2f9e-312">The <xref:System.Windows.Application.DispatcherUnhandledException> event handler is passed a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parameter that contains contextual information regarding the unhandled exception, including the exception itself (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span></span> <span data-ttu-id="c2f9e-313">Tyto informace můžete použít k určení, jak se má výjimka zpracovat.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-313">You can use this information to determine how to handle the exception.</span></span>  
  
 <span data-ttu-id="c2f9e-314">Při zpracování <xref:System.Windows.Application.DispatcherUnhandledException> <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> vlastnosti byste měli nastavit vlastnost na `true`hodnotu; v opačném případě WPF stále považuje výjimku za neošetřenou a vrátí se k výchozímu chování popsanému výše.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-314">When you handle <xref:System.Windows.Application.DispatcherUnhandledException>, you should set the <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> property to `true`; otherwise, WPF still considers the exception to be unhandled and reverts to the default behavior described earlier.</span></span> <span data-ttu-id="c2f9e-315">Je-li vyvolána neošetřená výjimka a <xref:System.Windows.Application.DispatcherUnhandledException> událost není zpracována nebo událost je zpracována a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> je nastavena na `false`hodnotu, aplikace se okamžitě ukončí.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-315">If an unhandled exception is raised and either the <xref:System.Windows.Application.DispatcherUnhandledException> event is not handled, or the event is handled and <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> is set to `false`, the application shuts down immediately.</span></span> <span data-ttu-id="c2f9e-316">Kromě toho nejsou vyvolány žádné další <xref:System.Windows.Application> události.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-316">Furthermore, no other <xref:System.Windows.Application> events are raised.</span></span> <span data-ttu-id="c2f9e-317">V důsledku toho je nutné zpracovat <xref:System.Windows.Application.DispatcherUnhandledException> , zda má aplikace kód, který musí být spuštěn před vypnutím aplikace.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-317">Consequently, you need to handle <xref:System.Windows.Application.DispatcherUnhandledException> if your application has code that must run before the application shuts down.</span></span>  
  
 <span data-ttu-id="c2f9e-318">I když se aplikace může vypnout v důsledku neošetřené výjimky, aplikace se obvykle vypne v reakci na požadavek uživatele, jak je popsáno v další části.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-318">Although an application may shut down as a result of an unhandled exception, an application usually shuts down in response to a user request, as discussed in the next section.</span></span>  
  
<a name="Application_Lifetime_Events"></a>   
### <a name="application-lifetime-events"></a><span data-ttu-id="c2f9e-319">Události životního cyklu aplikace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-319">Application Lifetime Events</span></span>  
 <span data-ttu-id="c2f9e-320">Samostatné aplikace a XBAP nemají přesně stejné životnosti.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-320">Standalone applications and XBAPs don't have exactly the same lifetimes.</span></span> <span data-ttu-id="c2f9e-321">Následující obrázek znázorňuje klíčové události při životnosti samostatné aplikace a ukazuje pořadí, ve kterém jsou vyvolány.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-321">The following figure illustrates the key events in the lifetime of a standalone application and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="c2f9e-322">![Samostatné události &#45; objektu aplikační aplikace](./media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span><span class="sxs-lookup"><span data-stu-id="c2f9e-322">![Standalone Application &#45; Application Object Events](./media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span></span>  
  
 <span data-ttu-id="c2f9e-323">Podobně následující obrázek ilustruje klíčové události v době životnosti XBAP a zobrazuje sekvenci, ve které jsou vyvolány.</span><span class="sxs-lookup"><span data-stu-id="c2f9e-323">Likewise, the following figure illustrates the key events in the lifetime of an XBAP, and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="c2f9e-324">![Události &#45; objektu aplikace XBAP](./media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span><span class="sxs-lookup"><span data-stu-id="c2f9e-324">![XBAP &#45; Application Object Events](./media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2f9e-325">Viz také:</span><span class="sxs-lookup"><span data-stu-id="c2f9e-325">See also</span></span>

- <xref:System.Windows.Application>
- [<span data-ttu-id="c2f9e-326">Přehled Windows ve WPF</span><span class="sxs-lookup"><span data-stu-id="c2f9e-326">WPF Windows Overview</span></span>](wpf-windows-overview.md)
- [<span data-ttu-id="c2f9e-327">Přehled navigace</span><span class="sxs-lookup"><span data-stu-id="c2f9e-327">Navigation Overview</span></span>](navigation-overview.md)
- [<span data-ttu-id="c2f9e-328">Prostředek, obsah a datové soubory aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="c2f9e-328">WPF Application Resource, Content, and Data Files</span></span>](wpf-application-resource-content-and-data-files.md)
- [<span data-ttu-id="c2f9e-329">Sbalení URI v technologii WPF</span><span class="sxs-lookup"><span data-stu-id="c2f9e-329">Pack URIs in WPF</span></span>](pack-uris-in-wpf.md)
- <span data-ttu-id="c2f9e-330">[Aplikační model: Témata s postupy](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms749013(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="c2f9e-330">[Application Model: How-to Topics](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms749013(v=vs.100))</span></span>
- [<span data-ttu-id="c2f9e-331">Vývoj aplikací</span><span class="sxs-lookup"><span data-stu-id="c2f9e-331">Application Development</span></span>](index.md)
