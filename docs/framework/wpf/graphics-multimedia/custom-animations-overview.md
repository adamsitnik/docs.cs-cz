---
title: Přehled vlastních animací
ms.date: 03/30/2017
helpviewer_keywords:
- custom classes [WPF], animation
- key frames [WPF], custom
- custom key frames [WPF]
- animation [WPF], custom classes
- custom animation classes [WPF]
ms.assetid: 9be69d50-3384-4938-886f-08ce00e4a7a6
ms.openlocfilehash: 0ab553f6ac22813533710e8b2ed7a3be31f6914d
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/05/2019
ms.locfileid: "57358519"
---
# <a name="custom-animations-overview"></a><span data-ttu-id="1ceee-102">Přehled vlastních animací</span><span class="sxs-lookup"><span data-stu-id="1ceee-102">Custom Animations Overview</span></span>
<span data-ttu-id="1ceee-103">Toto téma popisuje, jak a kdy k rozšíření [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace systém tak, že vytvoříte vlastní klíčové snímky animace třídy, nebo pomocí zpětného volání za rámce se.</span><span class="sxs-lookup"><span data-stu-id="1ceee-103">This topic describes how and when to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system by creating custom key frames, animation classes, or by using per-frame callback to bypass it.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="1ceee-104">Požadavky</span><span class="sxs-lookup"><span data-stu-id="1ceee-104">Prerequisites</span></span>  
 <span data-ttu-id="1ceee-105">V tomto tématu informace o tom, měli byste se seznámit s různými typy animací poskytované [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ceee-105">To understand this topic, you should be familiar with the different types of animations provided by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="1ceee-106">Další informace najdete v tématu Přehled animací From/To/By, [přehled animací klíčových snímků](key-frame-animations-overview.md)a [přehled animací cesty](path-animations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1ceee-106">For more information, see the From/To/By Animations Overview, the [Key-Frame Animations Overview](key-frame-animations-overview.md), and the [Path Animations Overview](path-animations-overview.md).</span></span>  
  
 <span data-ttu-id="1ceee-107">Protože animace třídy dědí <xref:System.Windows.Freezable> třídy, měli byste se seznámit s <xref:System.Windows.Freezable> objekty a o tom, jak dědit z <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-107">Because the animation classes inherit from the <xref:System.Windows.Freezable> class, you should be familiar with <xref:System.Windows.Freezable> objects and how to inherit from <xref:System.Windows.Freezable>.</span></span> <span data-ttu-id="1ceee-108">Další informace najdete v tématu [přehled Zablokovatelných objektů](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1ceee-108">For more information, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>  
  
<a name="extendingtheanimationsystem"></a>   
## <a name="extending-the-animation-system"></a><span data-ttu-id="1ceee-109">Rozšíření systému animace</span><span class="sxs-lookup"><span data-stu-id="1ceee-109">Extending the Animation System</span></span>  
 <span data-ttu-id="1ceee-110">Existuje několik způsobů, jak rozšířit [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace systému, v závislosti na úrovni integrované funkce, kterou chcete použít.</span><span class="sxs-lookup"><span data-stu-id="1ceee-110">There are a number of ways to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system, depending on the level of built-in functionality you want to use.</span></span>  <span data-ttu-id="1ceee-111">Existují tři primární rozšiřitelnost body v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace modul:</span><span class="sxs-lookup"><span data-stu-id="1ceee-111">There are three primary extensibility points in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine:</span></span>  
  
-   <span data-ttu-id="1ceee-112">Vytvoření vlastní klíčové rámečku objektu děděním z jednoho z  *\<typ >* klíčový snímek třídy, jako například <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-112">Create a custom key frame object by inheriting from one of the *\<Type>* KeyFrame classes, such as <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span></span> <span data-ttu-id="1ceee-113">Tento přístup používá většina vestavěnou funkci [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] modul animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-113">This approach uses most of the built-in functionality of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine.</span></span>  
  
-   <span data-ttu-id="1ceee-114">Vytvoření vlastní třídy animace děděním z <xref:System.Windows.Media.Animation.AnimationTimeline> nebo jeden z  *\<typ >* AnimationBase třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-114">Create your own animation class by inheriting from <xref:System.Windows.Media.Animation.AnimationTimeline> or one of the *\<Type>* AnimationBase classes.</span></span>  
  
-   <span data-ttu-id="1ceee-115">Generovat animací na základě podle snímků pomocí zpětné volání na snímku.</span><span class="sxs-lookup"><span data-stu-id="1ceee-115">Use per-frame callback to generate animations on a per-frame basis.</span></span> <span data-ttu-id="1ceee-116">Tento přístup se zcela vynechá animace a časování systému.</span><span class="sxs-lookup"><span data-stu-id="1ceee-116">This approach completely bypasses the animation and timing system.</span></span>  
  
 <span data-ttu-id="1ceee-117">Následující tabulka popisuje některé scénáře pro rozšíření systému animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-117">The following table describes some the scenarios for extending the animation system.</span></span>  
  
|<span data-ttu-id="1ceee-118">Pokud chcete...</span><span class="sxs-lookup"><span data-stu-id="1ceee-118">When you want to...</span></span>|<span data-ttu-id="1ceee-119">Tuto metodu použijte</span><span class="sxs-lookup"><span data-stu-id="1ceee-119">Use this approach</span></span>|  
|-------------------------|-----------------------|  
|<span data-ttu-id="1ceee-120">Přizpůsobení interpolaci mezi hodnotami typu, který má odpovídající  *\<typ >* AnimationUsingKeyFrames</span><span class="sxs-lookup"><span data-stu-id="1ceee-120">Customize the interpolation between values of a type that has a corresponding *\<Type>* AnimationUsingKeyFrames</span></span>|<span data-ttu-id="1ceee-121">Vytvořte vlastní klíčové rámečku.</span><span class="sxs-lookup"><span data-stu-id="1ceee-121">Create a custom key frame.</span></span> <span data-ttu-id="1ceee-122">Další informace najdete v tématu [vytvořit objekt Frame vlastní klíč](#createacustomkeyframe) oddílu.</span><span class="sxs-lookup"><span data-stu-id="1ceee-122">For more information, see the [Create a Custom Key Frame](#createacustomkeyframe) section.</span></span>|  
|<span data-ttu-id="1ceee-123">Přizpůsobení víc než jenom interpolaci mezi hodnotami typu, který má odpovídající  *\<typ >* animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-123">Customize more than just the interpolation between values of a type that has a corresponding *\<Type>* Animation.</span></span>|<span data-ttu-id="1ceee-124">Vytvořte vlastní animace třídu, která dědí z  *\<typ >* AnimationBase třídu, která odpovídá typu, který má být animován.</span><span class="sxs-lookup"><span data-stu-id="1ceee-124">Create a custom animation class that inherits from the *\<Type>* AnimationBase class that corresponds to the type you want to animate.</span></span> <span data-ttu-id="1ceee-125">Další informace najdete v tématu [vytvoření vlastní třídy animace](#createacustomanimationtype) oddílu.</span><span class="sxs-lookup"><span data-stu-id="1ceee-125">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="1ceee-126">Animace typ, který nemá odpovídající [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace</span><span class="sxs-lookup"><span data-stu-id="1ceee-126">Animate a type that has no corresponding [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation</span></span>|<span data-ttu-id="1ceee-127">Použití <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> nebo vytvořit třídu, která dědí z <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-127">Use an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> or create a class that inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="1ceee-128">Další informace najdete v tématu [vytvoření vlastní třídy animace](#createacustomanimationtype) oddílu.</span><span class="sxs-lookup"><span data-stu-id="1ceee-128">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="1ceee-129">Animovat více objektů s hodnotami, které se počítají každá snímků a jsou založeny na poslední sadu interakce s objekty</span><span class="sxs-lookup"><span data-stu-id="1ceee-129">Animate multiple objects with values that are computed each frame and are based on the last set of object interactions</span></span>|<span data-ttu-id="1ceee-130">Použijte na rámce zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="1ceee-130">Use per-frame callback.</span></span> <span data-ttu-id="1ceee-131">Další informace najdete v tématu [vytvořte zpětné volání na rámec použití](#useperframecallback) oddílu.</span><span class="sxs-lookup"><span data-stu-id="1ceee-131">For more information, see the [Create a Use Per-Frame Callback](#useperframecallback) section.</span></span>|  
  
<a name="createacustomkeyframe"></a>   
## <a name="create-a-custom-key-frame"></a><span data-ttu-id="1ceee-132">Vytvořit vlastní klíčové rámečku</span><span class="sxs-lookup"><span data-stu-id="1ceee-132">Create a Custom Key Frame</span></span>  
 <span data-ttu-id="1ceee-133">Vytvoření vlastní klíčové rámečku třídy je nejjednodušší způsob, jak rozšířit systém animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-133">Creating a custom key frame class is the simplest way to extend the animation system.</span></span> <span data-ttu-id="1ceee-134">Tuto metodu použijte, pokud chcete metodu různých interpolace animace klíčových snímků.</span><span class="sxs-lookup"><span data-stu-id="1ceee-134">Use this approach when you want to a different interpolation method for a key-frame animation.</span></span>  <span data-ttu-id="1ceee-135">Jak je popsáno v [přehled animací klíčových snímků](key-frame-animations-overview.md), animace klíčových snímků používá ke generování jeho výstupní hodnoty klíčových snímků objektů.</span><span class="sxs-lookup"><span data-stu-id="1ceee-135">As described in the [Key-Frame Animations Overview](key-frame-animations-overview.md), a key-frame animation uses key frame objects to generate its output values.</span></span> <span data-ttu-id="1ceee-136">Každý objekt klíčový snímek provádí tři funkce:</span><span class="sxs-lookup"><span data-stu-id="1ceee-136">Each key frame object performs three functions:</span></span>  
  
-   <span data-ttu-id="1ceee-137">Určuje cílový hodnotu pomocí jeho <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1ceee-137">Specifies a target value using its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
-   <span data-ttu-id="1ceee-138">Určuje dobu, kdy by mělo být tato hodnota dosaženo pomocí jeho <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1ceee-138">Specifies the time at which that value should be reached using its <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property.</span></span>  
  
-   <span data-ttu-id="1ceee-139">Interpolaci hodnotu předchozí klíčový snímek a vlastní hodnotu implementací metody InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="1ceee-139">Interpolates between the value of the previous key frame and its own value by implementing the InterpolateValueCore method.</span></span>  
  
 <span data-ttu-id="1ceee-140">**Pokyny k implementaci**</span><span class="sxs-lookup"><span data-stu-id="1ceee-140">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="1ceee-141">Odvozovat  *\<typ >* klíčový snímek abstraktní třídy a implementovat metodu InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="1ceee-141">Derive from the *\<Type>* KeyFrame abstract class and implement the InterpolateValueCore method.</span></span> <span data-ttu-id="1ceee-142">Metoda InterpolateValueCore vrátí aktuální hodnotu klíčového snímku.</span><span class="sxs-lookup"><span data-stu-id="1ceee-142">The InterpolateValueCore method returns the current value of the key frame.</span></span> <span data-ttu-id="1ceee-143">Přebírá dva parametry: hodnoty předchozí klíčový snímek a průběh hodnotu od 0 do 1.</span><span class="sxs-lookup"><span data-stu-id="1ceee-143">It takes two parameters: the value of the previous key frame and a progress value that ranges from 0 to 1.</span></span> <span data-ttu-id="1ceee-144">Průběh 0 označuje klíčový snímek byl spuštěn, a hodnota 1 označuje, že klíčový snímek dokončil a by měl vrátit hodnotu zadanou pomocí jeho <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1ceee-144">A progress of 0 indicates the key frame has just started, and a value of 1 indicates that the key frame has just completed and should return the value specified by its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
 <span data-ttu-id="1ceee-145">Protože  *\<typ >* klíčový snímek třídy dědí z <xref:System.Windows.Freezable> třídy, je nutné také přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> core vrací novou instanci třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-145">Because the *\<Type>* KeyFrame classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="1ceee-146">Pokud třída nepoužívá vlastnosti závislosti k ukládání svých dat nebo vyžaduje dodatečnou inicializaci. po jeho vytvoření, možná budete muset přepsat další metody; Zobrazit [přehled Zablokovatelných objektů](../advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-146">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="1ceee-147">Po vytvoření vlastních  *\<typ >* klíčový snímek animace, můžete ji  *\<typ >* AnimationUsingKeyFrames pro daný typ.</span><span class="sxs-lookup"><span data-stu-id="1ceee-147">After you've created your custom *\<Type>* KeyFrame animation, you can use it with the *\<Type>* AnimationUsingKeyFrames for that type.</span></span>  
  
<a name="createacustomanimationtype"></a>   
## <a name="create-a-custom-animation-class"></a><span data-ttu-id="1ceee-148">Vytvořte třídu vlastní animace</span><span class="sxs-lookup"><span data-stu-id="1ceee-148">Create a Custom Animation Class</span></span>  
 <span data-ttu-id="1ceee-149">Vytváří se vlastní animace typ získáte tak větší kontrolu nad tím, jak animovat objektu v.</span><span class="sxs-lookup"><span data-stu-id="1ceee-149">Creating your own animation type gives you more control over how an object in animated.</span></span> <span data-ttu-id="1ceee-150">Existují dva doporučené způsoby, jak vytvořit vlastní typ animace: lze odvodit z <xref:System.Windows.Media.Animation.AnimationTimeline> třídy nebo  *\<typ >* AnimationBase třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-150">There are two recommended ways to create your own animation type: you can derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class or the *\<Type>* AnimationBase class.</span></span> <span data-ttu-id="1ceee-151">Odvozování z  *\<typ >* animace nebo  *\<typ >* AnimationUsingKeyFrames třídy se nedoporučuje.</span><span class="sxs-lookup"><span data-stu-id="1ceee-151">Deriving from the *\<Type>* Animation or *\<Type>* AnimationUsingKeyFrames classes is not recommended.</span></span>  
  
### <a name="derive-from-typeanimationbase"></a><span data-ttu-id="1ceee-152">Jsou odvozeny z \<typ > AnimationBase</span><span class="sxs-lookup"><span data-stu-id="1ceee-152">Derive from \<Type>AnimationBase</span></span>  
 <span data-ttu-id="1ceee-153">Odvozování z  *\<typ >* AnimationBase třída je nejjednodušší způsob, jak vytvořit nový typ animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-153">Deriving from a *\<Type>* AnimationBase class is the simplest way to create a new animation type.</span></span> <span data-ttu-id="1ceee-154">Tuto metodu použijte, pokud chcete vytvořit nový animace pro typ, který již má odpovídající  *\<typ >* AnimationBase třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-154">Use this approach when you want to create a new animation for type that already has a corresponding *\<Type>* AnimationBase class.</span></span>  
  
 <span data-ttu-id="1ceee-155">**Pokyny k implementaci**</span><span class="sxs-lookup"><span data-stu-id="1ceee-155">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="1ceee-156">Odvozovat  *\<typ >* animace třídy a implementovat metodu GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="1ceee-156">Derive from a *\<Type>* Animation class and implement the GetCurrentValueCore method.</span></span> <span data-ttu-id="1ceee-157">Metoda GetCurrentValueCore vrátí aktuální hodnotu animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-157">The GetCurrentValueCore method returns the current value of the animation.</span></span> <span data-ttu-id="1ceee-158">Přijímá tři parametry: navrhované výchozí hodnoty, navrhované konečnou hodnotu a <xref:System.Windows.Media.Animation.AnimationClock>, kterou používáte k určení rozsahu postupu animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-158">It takes three parameters: a suggested starting value, a suggested ending value, and an <xref:System.Windows.Media.Animation.AnimationClock>, which you use to determine the progress of the animation.</span></span>  
  
 <span data-ttu-id="1ceee-159">Protože  *\<typ >* AnimationBase třídy dědí z <xref:System.Windows.Freezable> třídy, je nutné také přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> core vrací novou instanci třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-159">Because the *\<Type>* AnimationBase classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="1ceee-160">Pokud třída nepoužívá vlastnosti závislosti k ukládání svých dat nebo vyžaduje dodatečnou inicializaci. po jeho vytvoření, možná budete muset přepsat další metody; Zobrazit [přehled Zablokovatelných objektů](../advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-160">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="1ceee-161">Další informace najdete v dokumentaci k GetCurrentValueCore metodu pro  *\<typ >* AnimationBase třídy pro typ, který má být animován.</span><span class="sxs-lookup"><span data-stu-id="1ceee-161">For more information, see the GetCurrentValueCore method documentation for the *\<Type>* AnimationBase class for the type that you want to animate.</span></span> <span data-ttu-id="1ceee-162">Příklad najdete v tématu [ukázkové vlastní animace](https://go.microsoft.com/fwlink/?LinkID=159981)</span><span class="sxs-lookup"><span data-stu-id="1ceee-162">For an example, see the [Custom Animation Sample](https://go.microsoft.com/fwlink/?LinkID=159981)</span></span>  
  
 <span data-ttu-id="1ceee-163">**Alternativní přístupy**</span><span class="sxs-lookup"><span data-stu-id="1ceee-163">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="1ceee-164">Pokud chcete jednoduše změnit, jak jsou interpolovány hodnot animace, vzhledem k tomu odvození některého ze  *\<typ >* třídy klíčový snímek.</span><span class="sxs-lookup"><span data-stu-id="1ceee-164">If you simply want to change how animation values are interpolated, considering deriving from one of the *\<Type>* KeyFrame classes.</span></span> <span data-ttu-id="1ceee-165">Klíčový snímek, který vytvoříte, je možné s odpovídající  *\<typ >* AnimationUsingKeyFrames poskytované [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ceee-165">The key frame you create can be used with the corresponding *\<Type>* AnimationUsingKeyFrames provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="derive-from-animationtimeline"></a><span data-ttu-id="1ceee-166">Odvozovat třídu AnimationTimeline</span><span class="sxs-lookup"><span data-stu-id="1ceee-166">Derive from AnimationTimeline</span></span>  
 <span data-ttu-id="1ceee-167">Odvozovat <xref:System.Windows.Media.Animation.AnimationTimeline> třídy, pokud chcete vytvořit animaci pro typ, který ještě nemá odpovídající [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace, nebo pokud chcete vytvořit animaci, která není silného typu.</span><span class="sxs-lookup"><span data-stu-id="1ceee-167">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class when you want to create an animation for a type that doesn't already have a matching [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation, or you want to create an animation that is not strongly typed.</span></span>  
  
 <span data-ttu-id="1ceee-168">**Pokyny k implementaci**</span><span class="sxs-lookup"><span data-stu-id="1ceee-168">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="1ceee-169">Odvozovat <xref:System.Windows.Media.Animation.AnimationTimeline> třídy a přepsat následující členy:</span><span class="sxs-lookup"><span data-stu-id="1ceee-169">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class and override the following members:</span></span>  
  
-   <span data-ttu-id="1ceee-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – Pokud je konkrétní novou třídu, je nutné přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> vrácení nové instance třídy.</span><span class="sxs-lookup"><span data-stu-id="1ceee-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – If your new class is concrete, you must override <xref:System.Windows.Freezable.CreateInstanceCore%2A> to return a new instance of your class.</span></span>  
  
-   <span data-ttu-id="1ceee-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Přepište tuto metodu za účelem vrácení aktuální hodnoty animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Override this method to return the current value of your animation.</span></span> <span data-ttu-id="1ceee-172">Přijímá tři parametry: původní výchozí hodnotu, výchozí cíl hodnotu a <xref:System.Windows.Media.Animation.AnimationClock>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-172">It takes three parameters: a default origin value, a default destination value, and an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span> <span data-ttu-id="1ceee-173">Použití <xref:System.Windows.Media.Animation.AnimationClock> k získání aktuálního času a průběhu pro animaci.</span><span class="sxs-lookup"><span data-stu-id="1ceee-173">Use the <xref:System.Windows.Media.Animation.AnimationClock> to obtain the current time or progress for the animation.</span></span> <span data-ttu-id="1ceee-174">Můžete zvolit, jestli se má použít výchozí hodnoty zdroj a cíl.</span><span class="sxs-lookup"><span data-stu-id="1ceee-174">You can choose whether to use the default origin and destination values.</span></span>  
  
-   <span data-ttu-id="1ceee-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Tato vlastnost označující, zda animace používá výchozí cíl hodnotu zadanou pomocí přepsání <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1ceee-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Override this property to indicate whether your animation uses the default destination value specified by the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method.</span></span>  
  
-   <span data-ttu-id="1ceee-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Přepsat tuto vlastnost umožňující označit, <xref:System.Type> výstupu animace vytvoří.</span><span class="sxs-lookup"><span data-stu-id="1ceee-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Override this property to indicate the <xref:System.Type> of output your animation produces.</span></span>  
  
 <span data-ttu-id="1ceee-177">Pokud třída nepoužívá vlastnosti závislosti k ukládání svých dat nebo vyžaduje dodatečnou inicializaci. po jeho vytvoření, možná budete muset přepsat další metody; Zobrazit [přehled Zablokovatelných objektů](../advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-177">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="1ceee-178">Doporučené paradigma (používané [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animací), je použít dvě úrovně dědičnosti:</span><span class="sxs-lookup"><span data-stu-id="1ceee-178">The recommended paradigm (used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations) is to use two inheritance levels:</span></span>  
  
1.  <span data-ttu-id="1ceee-179">Vytvořit abstraktní  *\<typ >* AnimationBase třída odvozená z <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-179">Create an abstract *\<Type>* AnimationBase class that derives from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="1ceee-180">Tato třída by měly přepsat <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1ceee-180">This class should override the <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> method.</span></span> <span data-ttu-id="1ceee-181">Měl by také zavést nové abstraktní metoda GetCurrentValueCore a přepsat <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> tak, aby ho ověří typy výchozí cílové hodnoty parametrů a výchozí hodnota, pak zavolá GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="1ceee-181">It should also introduce a new abstract method, GetCurrentValueCore, and override <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> so that it validates the types of the default origin value and default destination value parameters, then calls GetCurrentValueCore.</span></span>  
  
2.  <span data-ttu-id="1ceee-182">Vytvořit jiné třídy, která dědí z nové  *\<typ >* AnimationBase třídy a přepíše <xref:System.Windows.Freezable.CreateInstanceCore%2A> metody, metoda GetCurrentValueCore, která je zavedená, a <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1ceee-182">Create another class that inherits from your new *\<Type>* AnimationBase class and overrides the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method, the GetCurrentValueCore method that you introduced, and the <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> property.</span></span>  
  
 <span data-ttu-id="1ceee-183">**Alternativní přístupy**</span><span class="sxs-lookup"><span data-stu-id="1ceee-183">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="1ceee-184">Pokud chcete typ, který nemá žádné odpovídající animace od/Komu/kým a animace klíčových snímků animace, zvažte použití <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span><span class="sxs-lookup"><span data-stu-id="1ceee-184">If you want to animate a type that has no corresponding From/To/By animation or key-frame animation, consider using an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="1ceee-185">Protože je slabě typované, <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> libovolný typ hodnoty lze animovat.</span><span class="sxs-lookup"><span data-stu-id="1ceee-185">Because it is weakly typed, an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> can animate any type of value.</span></span> <span data-ttu-id="1ceee-186">Nevýhod tohoto přístupu je, že <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> podporuje pouze diskrétní interpolace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-186">The drawback to this approach is that <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> only supports discrete interpolation.</span></span>  
  
<a name="useperframecallback"></a>   
## <a name="use-per-frame-callback"></a><span data-ttu-id="1ceee-187">Použití zpětného volání na rámec</span><span class="sxs-lookup"><span data-stu-id="1ceee-187">Use Per-Frame Callback</span></span>  
 <span data-ttu-id="1ceee-188">Tuto metodu použijte, když budete chtít úplně obejít [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace systému.</span><span class="sxs-lookup"><span data-stu-id="1ceee-188">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="1ceee-189">Jeden scénář pro tento přístup je fyzika animace, kde na každou animaci kroku na nový směr nebo pozice animované objekty musí být přepočítány na základě poslední sadu interakce s objekty.</span><span class="sxs-lookup"><span data-stu-id="1ceee-189">One scenario for this approach is physics animations, where at each animation step a new direction or position of animated objects needs to be recomputed based on the  last set of object interactions.</span></span>  
  
 <span data-ttu-id="1ceee-190">**Pokyny k implementaci**</span><span class="sxs-lookup"><span data-stu-id="1ceee-190">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="1ceee-191">Na rozdíl od dalších přístupů popsaných v tomto přehledu k použití na rámce zpětného volání není nutné k vytvoření třídy klíčových snímků nebo vlastní animace.</span><span class="sxs-lookup"><span data-stu-id="1ceee-191">Unlike the other approaches described in this overview, to use per-frame callback you don't need to create a custom animation or key frame class.</span></span>  
  
 <span data-ttu-id="1ceee-192">Místo toho si zaregistrujete <xref:System.Windows.Media.CompositionTarget.Rendering> události objektu, který obsahuje objekty, které má být animován.</span><span class="sxs-lookup"><span data-stu-id="1ceee-192">Instead, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="1ceee-193">Tato metoda obslužné rutiny události volána jednou pro každý snímek.</span><span class="sxs-lookup"><span data-stu-id="1ceee-193">This event handler method gets called once per frame.</span></span> <span data-ttu-id="1ceee-194">Pokaždé, když, který [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals se nazývá trvalý vykreslování data ve vizuálním stromu ve stromové struktuře kompozice metodu obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="1ceee-194">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="1ceee-195">V obslužné rutině událostí, provádět vaše cokoli, co projeví výpočty, které jsou nezbytné pro animace a nastavte vlastnosti objektů má být animován s těmito hodnotami.</span><span class="sxs-lookup"><span data-stu-id="1ceee-195">In your event handler, perform your whatever calculations necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="1ceee-196">Získat čas prezentace aktuálního snímku <xref:System.EventArgs> přidružený k tomuto událostí můžete přetypovat jako <xref:System.Windows.Media.RenderingEventArgs>, které poskytují <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> vlastnost, která vám umožní získat aktuální rámec v vykreslování čas.</span><span class="sxs-lookup"><span data-stu-id="1ceee-196">To obtain the presentation time of the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="1ceee-197">Další informace najdete v tématu <xref:System.Windows.Media.CompositionTarget.Rendering> stránky.</span><span class="sxs-lookup"><span data-stu-id="1ceee-197">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ceee-198">Viz také:</span><span class="sxs-lookup"><span data-stu-id="1ceee-198">See also</span></span>
- <xref:System.Windows.Media.Animation.AnimationTimeline>
- <xref:System.Windows.Media.Animation.IKeyFrame>
- [<span data-ttu-id="1ceee-199">Přehled způsobů animace vlastností</span><span class="sxs-lookup"><span data-stu-id="1ceee-199">Property Animation Techniques Overview</span></span>](property-animation-techniques-overview.md)
- [<span data-ttu-id="1ceee-200">Přehled zablokovatelných objektů</span><span class="sxs-lookup"><span data-stu-id="1ceee-200">Freezable Objects Overview</span></span>](../advanced/freezable-objects-overview.md)
- [<span data-ttu-id="1ceee-201">Přehled animací klíčových snímků</span><span class="sxs-lookup"><span data-stu-id="1ceee-201">Key-Frame Animations Overview</span></span>](key-frame-animations-overview.md)
- [<span data-ttu-id="1ceee-202">Přehled animací cesty</span><span class="sxs-lookup"><span data-stu-id="1ceee-202">Path Animations Overview</span></span>](path-animations-overview.md)
- [<span data-ttu-id="1ceee-203">Přehled animace</span><span class="sxs-lookup"><span data-stu-id="1ceee-203">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="1ceee-204">Přehled animace a systému časování</span><span class="sxs-lookup"><span data-stu-id="1ceee-204">Animation and Timing System Overview</span></span>](animation-and-timing-system-overview.md)
- [<span data-ttu-id="1ceee-205">Ukázka vlastních animací</span><span class="sxs-lookup"><span data-stu-id="1ceee-205">Custom Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159981)
