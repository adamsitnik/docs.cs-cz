---
title: Aktualizace datové služby (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, changing data
- WCF Data Services, client library
ms.assetid: 00d993be-ffed-4dea-baf7-6eea982cdb54
ms.openlocfilehash: ddc9e3ec1a07e52e366ff5c17d4dd2ce3a3192a0
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54569164"
---
# <a name="updating-the-data-service-wcf-data-services"></a><span data-ttu-id="6724b-102">Aktualizace datové služby (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="6724b-102">Updating the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="6724b-103">Při použití [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] klientskou knihovnu pro využívání [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] informačního kanálu, knihovně přeloží položek v informačním kanálu do instancí tříd klientské datové služby.</span><span class="sxs-lookup"><span data-stu-id="6724b-103">When you use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library to consume an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed, the library translates the entries in the feed into instances of client data service classes.</span></span> <span data-ttu-id="6724b-104">Tyto datové služby třídy jsou sledovány pomocí <xref:System.Data.Services.Client.DataServiceContext> ke kterému <xref:System.Data.Services.Client.DataServiceQuery%601> patří.</span><span class="sxs-lookup"><span data-stu-id="6724b-104">These data service classes are tracked by using the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span> <span data-ttu-id="6724b-105">Klient sleduje změny entity, které sestavy pomocí metod na <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="6724b-105">The client tracks changes to entities that you report by using methods on <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="6724b-106">Tyto metody umožnění spolupráce klienta služby pro sledování přidané a odstraněné entit a také změny, které provedete na hodnoty vlastnosti nebo vztahy mezi instancí entit.</span><span class="sxs-lookup"><span data-stu-id="6724b-106">These methods enable the client to track added and deleted entities and also changes that you make to property values or to relationships between entity instances.</span></span> <span data-ttu-id="6724b-107">Tyto sledované změny odesílají zpět do datové služby jako operace založené na protokolu REST při volání <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="6724b-107">Those tracked changes are sent back to the data service as REST-based operations when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6724b-108">Při použití instance <xref:System.Data.Services.Client.DataServiceCollection%601> vazba dat k ovládacím prvkům, změny dat v ovládacím prvku vazby automaticky hlášení do <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="6724b-108">When you use an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> to bind data to controls, changes made to data in the bound control are automatically reported to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="6724b-109">Další informace najdete v tématu [vazba dat k ovládacím prvkům](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-109">For more information, see [Binding Data to Controls](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span></span>  
  
## <a name="adding-modifying-and-changing-entities"></a><span data-ttu-id="6724b-110">Přidáním, úpravou a změnou entity</span><span class="sxs-lookup"><span data-stu-id="6724b-110">Adding, Modifying, and Changing Entities</span></span>  
 <span data-ttu-id="6724b-111">Při použití **přidat odkaz na službu** dialogového okna v sadě Visual Studio se přidat odkaz na [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] informační kanál, výsledný tříd klientské datové služby každý mají statickou *vytvořit* metodu, která má jednu parametr pro každou vlastnost neumožňující entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-111">When you use the **Add Service Reference** dialog in Visual Studio to add a reference to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed, the resulting client data service classes each have a static *Create* method that takes one parameter for each non-nullable entity property.</span></span> <span data-ttu-id="6724b-112">Tuto metodu můžete použít k vytvoření instance entity typu třídy, jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="6724b-112">You can use this method to create instances of entity type classes, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#createnewproduct)]
 [!code-vb[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#createnewproduct)]  
  
 <span data-ttu-id="6724b-113">Chcete-li přidat instanci entity, zavolejte odpovídající *AddTo* metodu na <xref:System.Data.Services.Client.DataServiceContext> třídy generované **přidat odkaz na službu** dialogové okno, jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="6724b-113">To add an entity instance, call the appropriate *AddTo* method on the <xref:System.Data.Services.Client.DataServiceContext> class generated by the **Add Service Reference** dialog box, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addproductspecific)]
 [!code-vb[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addproductspecific)]  
  
 <span data-ttu-id="6724b-114">Tento postup přidá objekt do kontextu a do sady entit správné.</span><span class="sxs-lookup"><span data-stu-id="6724b-114">This adds the object to the context and into the correct entity set.</span></span> <span data-ttu-id="6724b-115">Můžete také volat <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, ale místo toho je nutné zadat název sady entit.</span><span class="sxs-lookup"><span data-stu-id="6724b-115">You can also call <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, but you must instead supply the entity set name.</span></span> <span data-ttu-id="6724b-116">Pokud Přidání entity obsahuje jeden nebo více relace s jinými entitami, můžete použít <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> metoda nebo použijte jednu z výše uvedených metod a také explicitně definovat tyto odkazy.</span><span class="sxs-lookup"><span data-stu-id="6724b-116">If the added entity has one or more relationships to other entities, you can either use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method or use one of the previous methods and also explicitly define those links.</span></span> <span data-ttu-id="6724b-117">Tyto operace jsou popsány dále v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="6724b-117">These operations are discussed later in this topic.</span></span>  
  
 <span data-ttu-id="6724b-118">Pokud chcete upravit existující instanci entity, první dotaz pro danou entitu, proveďte požadované změny do jeho vlastnosti a poté zavolejte <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> metodu na <xref:System.Data.Services.Client.DataServiceContext> a informuje klientské knihovny potřebné k odeslání aktualizace pro tento objekt, jak je znázorněno v v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="6724b-118">To modify an existing entity instance, first query for that entity, make the desired changes to its properties, and then call the <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> to indicate to the client library that it needs to send an update for that object, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#modifycustomerspecific)]
 [!code-vb[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#modifycustomerspecific)]  
  
 <span data-ttu-id="6724b-119">Chcete-li odstranit instanci entity, zavolejte <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> metodu <xref:System.Data.Services.Client.DataServiceContext>, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="6724b-119">To delete an entity instance, call the <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext>, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#deleteproductspecific)]
 [!code-vb[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#deleteproductspecific)]  
  
 <span data-ttu-id="6724b-120">Další informace najdete v tématu [jak: Přidání, úpravy a odstranění entit](../../../../docs/framework/data/wcf/how-to-add-modify-and-delete-entities-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-120">For more information, see [How to: Add, Modify, and Delete Entities](../../../../docs/framework/data/wcf/how-to-add-modify-and-delete-entities-wcf-data-services.md).</span></span>  
  
## <a name="attaching-entities"></a><span data-ttu-id="6724b-121">Připojení entit</span><span class="sxs-lookup"><span data-stu-id="6724b-121">Attaching Entities</span></span>  
 <span data-ttu-id="6724b-122">Klientská knihovna umožňuje ukládat aktualizace, které jste provedli s entitou bez první spuštění dotazu načtěte entitu do <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="6724b-122">The client library enables you to save updates that you made to an entity without first executing a query to load the entity into the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="6724b-123">Použití <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A> metoda připojit existující objekt na konkrétní entitu, nastavte <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="6724b-123">Use the <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A> method to attach an existing object to a specific entity set in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="6724b-124">Můžete upravit objekt a uložte změny do datové služby.</span><span class="sxs-lookup"><span data-stu-id="6724b-124">You can then modify the object and save the changes to the data service.</span></span> <span data-ttu-id="6724b-125">V následujícím příkladu je připojen objekt zákazníka, který byl změněn na kontext a poté <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> je volána k označení připojeného objektu jako <xref:System.Data.Services.Client.EntityStates.Modified> před <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> se volá:</span><span class="sxs-lookup"><span data-stu-id="6724b-125">In the following example, a customer object that has been changed is attached to the context and then <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> is called to mark the attached object as <xref:System.Data.Services.Client.EntityStates.Modified> before <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> is called:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#attachobjectspecific)]
 [!code-vb[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#attachobjectspecific)]  
  
 <span data-ttu-id="6724b-126">Při připojování objekty, platí následující aspekty:</span><span class="sxs-lookup"><span data-stu-id="6724b-126">The following considerations apply when attaching objects:</span></span>  
  
-   <span data-ttu-id="6724b-127">Objekt je připojena v <xref:System.Data.Services.Client.EntityStates.Unchanged> stavu.</span><span class="sxs-lookup"><span data-stu-id="6724b-127">An object is attached in the <xref:System.Data.Services.Client.EntityStates.Unchanged> state.</span></span>  
  
-   <span data-ttu-id="6724b-128">Když je připojen objektu, není připojen také objekty, které se vztahují k připojeného objektu.</span><span class="sxs-lookup"><span data-stu-id="6724b-128">When an object is attached, objects that are related to the attached object are not also attached.</span></span>  
  
-   <span data-ttu-id="6724b-129">Objekt nelze připojit, pokud entita již sledován správou kontextu.</span><span class="sxs-lookup"><span data-stu-id="6724b-129">An object cannot be attached if the entity is already being tracked by the context.</span></span>  
  
-   <span data-ttu-id="6724b-130"><xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29> Přetížení metody, která přebírá `etag` parametr se používá při připojení, který uživateli přišel spolu s hodnotou eTag objektu entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-130">The <xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29> method overload that takes an `etag` parameter is used when you attach an entity object that was received along with an eTag value.</span></span> <span data-ttu-id="6724b-131">Tato hodnota eTag, pak se k Kontrola souběžnosti při uložení změn do připojeného objektu.</span><span class="sxs-lookup"><span data-stu-id="6724b-131">This eTag value is then used to check for concurrency when changes to the attached object are saved.</span></span>  
  
 <span data-ttu-id="6724b-132">Další informace najdete v tématu [jak: Přiřazení existující Entity k prvku DataServiceContext](../../../../docs/framework/data/wcf/attach-an-existing-entity-to-dc-wcf-data.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-132">For more information, see [How to: Attach an Existing Entity to the DataServiceContext](../../../../docs/framework/data/wcf/attach-an-existing-entity-to-dc-wcf-data.md).</span></span>  
  
## <a name="creating-and-modifying-relationship-links"></a><span data-ttu-id="6724b-133">Vytvoření a úprava vztahů propojení</span><span class="sxs-lookup"><span data-stu-id="6724b-133">Creating and Modifying Relationship Links</span></span>  
 <span data-ttu-id="6724b-134">Po přidání nové entity pomocí <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> metody nebo odpovídající *AddTo* metodu <xref:System.Data.Services.Client.DataServiceContext> třídy, která **přidat odkaz na službu** generuje dialogového okna, případné relace mezi nové entity a související entity nejsou definovány automaticky.</span><span class="sxs-lookup"><span data-stu-id="6724b-134">When you add a new entity by using either the <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> method or the appropriate *AddTo* method of the <xref:System.Data.Services.Client.DataServiceContext> class that the **Add Service Reference** dialog generates, any relationships between the new entity and related entities are not automatically defined.</span></span>  
  
 <span data-ttu-id="6724b-135">Můžete vytvořit a změnit vztahy mezi instancí entit a mít klientská knihovna odrážet provedené změny ve službě data.</span><span class="sxs-lookup"><span data-stu-id="6724b-135">You can create and change relationships between entity instances and have the client library reflect those changes in the data service.</span></span> <span data-ttu-id="6724b-136">Vztahy mezi entitami, které jsou definovány jako přidružení v modelu a <xref:System.Data.Services.Client.DataServiceContext> sleduje každý vztah jako odkaz objektu v kontextu.</span><span class="sxs-lookup"><span data-stu-id="6724b-136">Relationships between entities are defined as associations in the model, and the <xref:System.Data.Services.Client.DataServiceContext> tracks each relationship as a link object in the context.</span></span> [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] <span data-ttu-id="6724b-137">poskytuje následující metody na <xref:System.Data.Services.Client.DataServiceContext> třídy vytvářet, upravovat a odstraňovat tyto odkazy:</span><span class="sxs-lookup"><span data-stu-id="6724b-137">provides the following methods on the <xref:System.Data.Services.Client.DataServiceContext> class to create, modify, and delete these links:</span></span>  
  
|<span data-ttu-id="6724b-138">Metoda</span><span class="sxs-lookup"><span data-stu-id="6724b-138">Method</span></span>|<span data-ttu-id="6724b-139">Popis</span><span class="sxs-lookup"><span data-stu-id="6724b-139">Description</span></span>|  
|------------|-----------------|  
|<xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A>|<span data-ttu-id="6724b-140">Vytvoří nové propojení mezi dvěma objekty související entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-140">Creates a new link between two related entity objects.</span></span> <span data-ttu-id="6724b-141">Voláním této metody je ekvivalentní volání <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> a <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> jak vytvořit nový objekt a definovat vztah na existující objekt.</span><span class="sxs-lookup"><span data-stu-id="6724b-141">Calling this method is equivalent to calling <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> and <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> to both create the new object and define the relationship to an existing object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>|<span data-ttu-id="6724b-142">Vytvoří nové propojení mezi dvěma objekty související entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-142">Creates a new link between two related entity objects.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>|<span data-ttu-id="6724b-143">Aktualizuje existující propojení mezi dvěma objekty související entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-143">Updates an existing link between two related entity objects.</span></span> <span data-ttu-id="6724b-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> slouží také k odstranění odkazů s kardinalitou nula nebo 1--: 1 (`0..1:1`) a 1: 1 (`1:1`).</span><span class="sxs-lookup"><span data-stu-id="6724b-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> is also used to delete links with a cardinality of zero-or-one-to-one (`0..1:1`) and one-to-one (`1:1`).</span></span> <span data-ttu-id="6724b-145">Můžete to provést nastavením související objekt na `null`.</span><span class="sxs-lookup"><span data-stu-id="6724b-145">You can do this by setting the related object to `null`.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DeleteLink%2A>|<span data-ttu-id="6724b-146">Označí odkaz, který sleduje kontext k odstranění při <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="6724b-146">Marks a link that the context is tracking for deletion when the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="6724b-147">Tuto metodu použijte, pokud objekt v relaci odstraníte nebo změníte relace nejprve odstranit odkaz na existující objekt a následným přidáním odkazu na nový související objekt.</span><span class="sxs-lookup"><span data-stu-id="6724b-147">Use this method when you delete a related object or change a relationship by first deleting the link to an existing object and then adding a link to the new related object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AttachLink%2A>|<span data-ttu-id="6724b-148">Upozorní kontextu stávajícího propojení mezi dva objekty entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-148">Notifies the context of an existing link between two entity objects.</span></span> <span data-ttu-id="6724b-149">Kontext předpokládá, že tato relace již existuje ve službě data a nepokusí se vytvářet propojení při volání <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="6724b-149">The context assumes that this relationship already exists in the data service and does not try to create the link when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span> <span data-ttu-id="6724b-150">Tuto metodu použijte, pokud připojení objektů do kontextu a muset připojit také propojení mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="6724b-150">Use this method when you attach objects to a context and need to also attach the link between the two.</span></span> <span data-ttu-id="6724b-151">Pokud definujete novou relaci, měli byste místo toho použít <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="6724b-151">If you are defining a new relationship, you should instead use <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DetachLink%2A>|<span data-ttu-id="6724b-152">Zastaví sledování zadaný odkaz v kontextu.</span><span class="sxs-lookup"><span data-stu-id="6724b-152">Stops tracking the specified link in the context.</span></span> <span data-ttu-id="6724b-153">Tato metoda se používá k odstranění jednoho k několika (`*:*`) vztahy.</span><span class="sxs-lookup"><span data-stu-id="6724b-153">This method is used to delete one-to-many (`*:*`) relationships.</span></span> <span data-ttu-id="6724b-154">Pro relace propojení s kardinalitou jednoho, je nutné místo toho použít <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="6724b-154">For relationship links with a cardinality of one, you must instead use <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span></span>|  
  
 <span data-ttu-id="6724b-155">Následující příklad ukazuje způsob použití <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> způsob, jak přidat nové `Order_Detail` , která má vztah k existujícímu `Orders` entity.</span><span class="sxs-lookup"><span data-stu-id="6724b-155">The following example shows how to use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method to add a new `Order_Detail` that is related to an existing `Orders` entity.</span></span> <span data-ttu-id="6724b-156">Protože nová `Order_Details` objekt je nyní sledován pomocí funkce <xref:System.Data.Services.Client.DataServiceContext>, vztah tvoření přidaného `Order_Details` objekt ke stávající `Products` voláním je definován entity <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> – metoda:</span><span class="sxs-lookup"><span data-stu-id="6724b-156">Because the new `Order_Details` object is now tracked by the <xref:System.Data.Services.Client.DataServiceContext>, the relationship of the added `Order_Details` object to the existing `Products` entity is defined by calling the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addorderdetailtoorderspecific)]
 [!code-vb[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addorderdetailtoorderspecific)]  
  
 <span data-ttu-id="6724b-157">Zatímco <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> metoda definuje odkazů, které musí vytvořit ve službě data, aby tyto odkazy se projeví v objektech, které jsou v kontextu, musíte taky nastavit vlastnosti navigace na samotných objektech.</span><span class="sxs-lookup"><span data-stu-id="6724b-157">While the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method defines links that must be created in the data service, to have these links reflected in the objects that are in the context, you must also set the navigation properties on the objects themselves.</span></span> <span data-ttu-id="6724b-158">V předchozím příkladu měli byste nastavit navigační vlastnosti následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="6724b-158">In the previous example, you should set the navigation properties as follows:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#setnavprops)]
 [!code-vb[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#setnavprops)]  
  
 <span data-ttu-id="6724b-159">Další informace najdete v tématu [jak: Definování vztahů mezi entitami](../../../../docs/framework/data/wcf/how-to-define-entity-relationships-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-159">For more information, see [How to: Define Entity Relationships](../../../../docs/framework/data/wcf/how-to-define-entity-relationships-wcf-data-services.md).</span></span>  
  
## <a name="saving-changes"></a><span data-ttu-id="6724b-160">Ukládají se změny</span><span class="sxs-lookup"><span data-stu-id="6724b-160">Saving Changes</span></span>  
 <span data-ttu-id="6724b-161">Změny jsou sledovány v <xref:System.Data.Services.Client.DataServiceContext> instance však nebyla odeslána na server okamžitě.</span><span class="sxs-lookup"><span data-stu-id="6724b-161">Changes are tracked in the <xref:System.Data.Services.Client.DataServiceContext> instance but not sent to the server immediately.</span></span> <span data-ttu-id="6724b-162">Po dokončení se požadované změny pro zadané aktivita volat <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> odeslat všechny provedené změny do datové služby.</span><span class="sxs-lookup"><span data-stu-id="6724b-162">After you are finished with the required changes for a specified activity, call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> to submit all the changes to the data service.</span></span> <span data-ttu-id="6724b-163">Další informace najdete v tématu [Správa kontextu datové služby](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-163">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span> <span data-ttu-id="6724b-164">Můžete také uložit změny asynchronně pomocí <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> a <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="6724b-164">You can also save changes asynchronously by using the <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> and <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A> methods.</span></span> <span data-ttu-id="6724b-165">Další informace najdete v tématu [asynchronních operací](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6724b-165">For more information, see [Asynchronous Operations](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6724b-166">Viz také:</span><span class="sxs-lookup"><span data-stu-id="6724b-166">See also</span></span>
- [<span data-ttu-id="6724b-167">Klientská knihovna pro WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="6724b-167">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
- [<span data-ttu-id="6724b-168">Dotazování v datové službě</span><span class="sxs-lookup"><span data-stu-id="6724b-168">Querying the Data Service</span></span>](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)
- [<span data-ttu-id="6724b-169">Asynchronní operace</span><span class="sxs-lookup"><span data-stu-id="6724b-169">Asynchronous Operations</span></span>](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md)
- [<span data-ttu-id="6724b-170">Operace dávkování</span><span class="sxs-lookup"><span data-stu-id="6724b-170">Batching Operations</span></span>](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md)
- [<span data-ttu-id="6724b-171">Materializace objektů</span><span class="sxs-lookup"><span data-stu-id="6724b-171">Object Materialization</span></span>](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)
- [<span data-ttu-id="6724b-172">Správa kontextu datové služby</span><span class="sxs-lookup"><span data-stu-id="6724b-172">Managing the Data Service Context</span></span>](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md)
