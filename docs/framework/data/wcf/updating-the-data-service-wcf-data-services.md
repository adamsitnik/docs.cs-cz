---
title: Aktualizace datové služby (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, changing data
- WCF Data Services, client library
ms.assetid: 00d993be-ffed-4dea-baf7-6eea982cdb54
ms.openlocfilehash: 5cf7a6e563069e35a4ac0fe729a616dc1c56bdb5
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/07/2019
ms.locfileid: "70779740"
---
# <a name="updating-the-data-service-wcf-data-services"></a><span data-ttu-id="2532b-102">Aktualizace datové služby (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="2532b-102">Updating the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="2532b-103">Použijete [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] -li knihovnu klienta ke [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] využívání informačního kanálu, knihovna přeloží položky v informačním kanálu do instancí tříd služby data Client.</span><span class="sxs-lookup"><span data-stu-id="2532b-103">When you use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library to consume an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed, the library translates the entries in the feed into instances of client data service classes.</span></span> <span data-ttu-id="2532b-104">Tyto třídy datové služby jsou sledovány pomocí služby <xref:System.Data.Services.Client.DataServiceContext> , ke <xref:System.Data.Services.Client.DataServiceQuery%601> které patří.</span><span class="sxs-lookup"><span data-stu-id="2532b-104">These data service classes are tracked by using the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span> <span data-ttu-id="2532b-105">Klient sleduje změny entit, které hlásíte pomocí metod v <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="2532b-105">The client tracks changes to entities that you report by using methods on <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="2532b-106">Tyto metody umožňují klientovi sledovat přidané a odstraněné entity a také změny, které provedete v hodnotách vlastností nebo vztahy mezi instancemi entit.</span><span class="sxs-lookup"><span data-stu-id="2532b-106">These methods enable the client to track added and deleted entities and also changes that you make to property values or to relationships between entity instances.</span></span> <span data-ttu-id="2532b-107">Tyto sledované změny jsou odesílány zpět do datové služby jako operace založené na REST při volání <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="2532b-107">Those tracked changes are sent back to the data service as REST-based operations when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2532b-108">Použijete-li instanci <xref:System.Data.Services.Client.DataServiceCollection%601> pro svázání dat s ovládacími prvky, změny provedené v datech v rámci vázaného ovládacího prvku jsou automaticky hlášeny <xref:System.Data.Services.Client.DataServiceContext>do.</span><span class="sxs-lookup"><span data-stu-id="2532b-108">When you use an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> to bind data to controls, changes made to data in the bound control are automatically reported to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="2532b-109">Další informace najdete v tématu [vázání dat na ovládací prvky](binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="2532b-109">For more information, see [Binding Data to Controls](binding-data-to-controls-wcf-data-services.md).</span></span>  
  
## <a name="adding-modifying-and-changing-entities"></a><span data-ttu-id="2532b-110">Přidání, úprava a změna entit</span><span class="sxs-lookup"><span data-stu-id="2532b-110">Adding, Modifying, and Changing Entities</span></span>  
 <span data-ttu-id="2532b-111">Při použití dialogového okna **Přidat odkaz na službu** v aplikaci Visual Studio k přidání odkazu na [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] informační kanál mají výsledné třídy klientské datové služby všechny statické metody *Create* , které pro každou vlastnost entity bez hodnoty null přebírají jeden parametr. .</span><span class="sxs-lookup"><span data-stu-id="2532b-111">When you use the **Add Service Reference** dialog in Visual Studio to add a reference to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed, the resulting client data service classes each have a static *Create* method that takes one parameter for each non-nullable entity property.</span></span> <span data-ttu-id="2532b-112">Tuto metodu lze použít k vytvoření instancí tříd typu entity, jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="2532b-112">You can use this method to create instances of entity type classes, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#createnewproduct)]
 [!code-vb[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#createnewproduct)]  
  
 <span data-ttu-id="2532b-113">Chcete-li přidat instanci entity, zavolejte příslušnou metodu *AddTo* pro <xref:System.Data.Services.Client.DataServiceContext> třídu vygenerovanou dialogem **Přidat odkaz na službu** , jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="2532b-113">To add an entity instance, call the appropriate *AddTo* method on the <xref:System.Data.Services.Client.DataServiceContext> class generated by the **Add Service Reference** dialog box, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addproductspecific)]
 [!code-vb[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addproductspecific)]  
  
 <span data-ttu-id="2532b-114">Tím se objekt přidá do kontextu a do správné sady entit.</span><span class="sxs-lookup"><span data-stu-id="2532b-114">This adds the object to the context and into the correct entity set.</span></span> <span data-ttu-id="2532b-115">Můžete také volat <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, ale místo toho je nutné zadat název sady entit.</span><span class="sxs-lookup"><span data-stu-id="2532b-115">You can also call <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, but you must instead supply the entity set name.</span></span> <span data-ttu-id="2532b-116">Pokud má přidaná entita jednu nebo více relací k jiným entitám, můžete buď použít <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> metodu, nebo použít jednu z předchozích metod a také tyto odkazy explicitně definovat.</span><span class="sxs-lookup"><span data-stu-id="2532b-116">If the added entity has one or more relationships to other entities, you can either use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method or use one of the previous methods and also explicitly define those links.</span></span> <span data-ttu-id="2532b-117">Tyto operace jsou popsány dále v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="2532b-117">These operations are discussed later in this topic.</span></span>  
  
 <span data-ttu-id="2532b-118">Chcete-li upravit existující instanci entity, nejprve dotaz pro tuto entitu, proveďte požadované změny vlastností a poté zavolejte <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> metodu <xref:System.Data.Services.Client.DataServiceContext> na, aby označovala klientskou knihovnu, kterou potřebuje k odeslání aktualizace pro daný objekt, jak je znázorněno v Následující příklad:</span><span class="sxs-lookup"><span data-stu-id="2532b-118">To modify an existing entity instance, first query for that entity, make the desired changes to its properties, and then call the <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> to indicate to the client library that it needs to send an update for that object, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#modifycustomerspecific)]
 [!code-vb[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#modifycustomerspecific)]  
  
 <span data-ttu-id="2532b-119">Chcete-li odstranit instanci entity, zavolejte <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> metodu <xref:System.Data.Services.Client.DataServiceContext>na, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="2532b-119">To delete an entity instance, call the <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext>, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#deleteproductspecific)]
 [!code-vb[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#deleteproductspecific)]  
  
 <span data-ttu-id="2532b-120">Další informace najdete v tématu [jak: Přidávání, upravování a odstraňování entit](how-to-add-modify-and-delete-entities-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="2532b-120">For more information, see [How to: Add, Modify, and Delete Entities](how-to-add-modify-and-delete-entities-wcf-data-services.md).</span></span>  
  
## <a name="attaching-entities"></a><span data-ttu-id="2532b-121">Připojování entit</span><span class="sxs-lookup"><span data-stu-id="2532b-121">Attaching Entities</span></span>  
 <span data-ttu-id="2532b-122">Klientská knihovna umožňuje uložit aktualizace, které jste provedli v entitě, aniž byste nejprve vyprováděli dotaz pro načtení <xref:System.Data.Services.Client.DataServiceContext>entity do.</span><span class="sxs-lookup"><span data-stu-id="2532b-122">The client library enables you to save updates that you made to an entity without first executing a query to load the entity into the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="2532b-123">Použijte metodu pro připojení existujícího objektu ke konkrétní sadě entit <xref:System.Data.Services.Client.DataServiceContext>v. <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A></span><span class="sxs-lookup"><span data-stu-id="2532b-123">Use the <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A> method to attach an existing object to a specific entity set in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="2532b-124">Pak můžete objekt upravit a uložit změny do datové služby.</span><span class="sxs-lookup"><span data-stu-id="2532b-124">You can then modify the object and save the changes to the data service.</span></span> <span data-ttu-id="2532b-125">V následujícím příkladu je objekt zákazníka, který byl změněn, připojen k kontextu a poté <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> je volána k označení připojeného objektu jako <xref:System.Data.Services.Client.EntityStates.Modified> před <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> voláním metody:</span><span class="sxs-lookup"><span data-stu-id="2532b-125">In the following example, a customer object that has been changed is attached to the context and then <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> is called to mark the attached object as <xref:System.Data.Services.Client.EntityStates.Modified> before <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> is called:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#attachobjectspecific)]
 [!code-vb[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#attachobjectspecific)]  
  
 <span data-ttu-id="2532b-126">Při připojování objektů platí následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="2532b-126">The following considerations apply when attaching objects:</span></span>  
  
- <span data-ttu-id="2532b-127">Objekt je připojen ve <xref:System.Data.Services.Client.EntityStates.Unchanged> stavu.</span><span class="sxs-lookup"><span data-stu-id="2532b-127">An object is attached in the <xref:System.Data.Services.Client.EntityStates.Unchanged> state.</span></span>  
  
- <span data-ttu-id="2532b-128">Když je objekt připojen, objekty, které se vztahují k připojenému objektu, nejsou také připojeny.</span><span class="sxs-lookup"><span data-stu-id="2532b-128">When an object is attached, objects that are related to the attached object are not also attached.</span></span>  
  
- <span data-ttu-id="2532b-129">Objekt nelze připojit, pokud je entita již sledována kontextem.</span><span class="sxs-lookup"><span data-stu-id="2532b-129">An object cannot be attached if the entity is already being tracked by the context.</span></span>  
  
- <span data-ttu-id="2532b-130">Přetížení metody, které přijímá parametr, se používá při připojení objektu entity, který byl přijat společně s hodnotou eTag. `etag` <xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29></span><span class="sxs-lookup"><span data-stu-id="2532b-130">The <xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29> method overload that takes an `etag` parameter is used when you attach an entity object that was received along with an eTag value.</span></span> <span data-ttu-id="2532b-131">Tato hodnota eTag se pak používá ke kontrole souběžnosti při uložení změn připojeného objektu.</span><span class="sxs-lookup"><span data-stu-id="2532b-131">This eTag value is then used to check for concurrency when changes to the attached object are saved.</span></span>  
  
 <span data-ttu-id="2532b-132">Další informace najdete v tématu [jak: Připojte existující entitu k DataServiceContext](attach-an-existing-entity-to-dc-wcf-data.md).</span><span class="sxs-lookup"><span data-stu-id="2532b-132">For more information, see [How to: Attach an Existing Entity to the DataServiceContext](attach-an-existing-entity-to-dc-wcf-data.md).</span></span>  
  
## <a name="creating-and-modifying-relationship-links"></a><span data-ttu-id="2532b-133">Vytváření a úpravy propojení vztahů</span><span class="sxs-lookup"><span data-stu-id="2532b-133">Creating and Modifying Relationship Links</span></span>  
 <span data-ttu-id="2532b-134">Když přidáte novou entitu pomocí <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> metody nebo příslušné metody <xref:System.Data.Services.Client.DataServiceContext> AddTo třídy, kterou vygeneruje dialogové okno **Přidat odkaz na službu** , všechny relace mezi novou entitou a související entitou jsou není definováno automaticky.</span><span class="sxs-lookup"><span data-stu-id="2532b-134">When you add a new entity by using either the <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> method or the appropriate *AddTo* method of the <xref:System.Data.Services.Client.DataServiceContext> class that the **Add Service Reference** dialog generates, any relationships between the new entity and related entities are not automatically defined.</span></span>  
  
 <span data-ttu-id="2532b-135">Můžete vytvořit a změnit vztahy mezi instancemi entit a klientské knihovny tyto změny odrážejí v datové službě.</span><span class="sxs-lookup"><span data-stu-id="2532b-135">You can create and change relationships between entity instances and have the client library reflect those changes in the data service.</span></span> <span data-ttu-id="2532b-136">Vztahy mezi entitami jsou definovány jako asociace v modelu a <xref:System.Data.Services.Client.DataServiceContext> sledují každý vztah jako objekt propojení v kontextu.</span><span class="sxs-lookup"><span data-stu-id="2532b-136">Relationships between entities are defined as associations in the model, and the <xref:System.Data.Services.Client.DataServiceContext> tracks each relationship as a link object in the context.</span></span> [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="2532b-137">poskytuje následující metody <xref:System.Data.Services.Client.DataServiceContext> pro třídu pro vytvoření, úpravu a odstranění těchto odkazů:</span><span class="sxs-lookup"><span data-stu-id="2532b-137">provides the following methods on the <xref:System.Data.Services.Client.DataServiceContext> class to create, modify, and delete these links:</span></span>  
  
|<span data-ttu-id="2532b-138">Metoda</span><span class="sxs-lookup"><span data-stu-id="2532b-138">Method</span></span>|<span data-ttu-id="2532b-139">Popis</span><span class="sxs-lookup"><span data-stu-id="2532b-139">Description</span></span>|  
|------------|-----------------|  
|<xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A>|<span data-ttu-id="2532b-140">Vytvoří nové propojení mezi dvěma souvisejícími objekty entity.</span><span class="sxs-lookup"><span data-stu-id="2532b-140">Creates a new link between two related entity objects.</span></span> <span data-ttu-id="2532b-141">Volání této metody je ekvivalentní volání <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> a <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> vytvoření nového objektu a definování vztahu k existujícímu objektu.</span><span class="sxs-lookup"><span data-stu-id="2532b-141">Calling this method is equivalent to calling <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> and <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> to both create the new object and define the relationship to an existing object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>|<span data-ttu-id="2532b-142">Vytvoří nové propojení mezi dvěma souvisejícími objekty entity.</span><span class="sxs-lookup"><span data-stu-id="2532b-142">Creates a new link between two related entity objects.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>|<span data-ttu-id="2532b-143">Aktualizuje existující propojení mezi dvěma souvisejícími objekty entit.</span><span class="sxs-lookup"><span data-stu-id="2532b-143">Updates an existing link between two related entity objects.</span></span> <span data-ttu-id="2532b-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>slouží také k odstranění propojení se mohutnou nulou (`0..1:1`) a 1:1 () a jedním z nich (`1:1`).</span><span class="sxs-lookup"><span data-stu-id="2532b-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> is also used to delete links with a cardinality of zero-or-one-to-one (`0..1:1`) and one-to-one (`1:1`).</span></span> <span data-ttu-id="2532b-145">To lze provést nastavením souvisejícího objektu na `null`.</span><span class="sxs-lookup"><span data-stu-id="2532b-145">You can do this by setting the related object to `null`.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DeleteLink%2A>|<span data-ttu-id="2532b-146">Označí odkaz, který kontext sleduje pro odstranění při <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> volání metody.</span><span class="sxs-lookup"><span data-stu-id="2532b-146">Marks a link that the context is tracking for deletion when the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="2532b-147">Tuto metodu použijte, když odstraníte související objekt nebo změníte relaci, a to tak, že nejprve odstraníte odkaz na existující objekt a pak přidáte odkaz na nový související objekt.</span><span class="sxs-lookup"><span data-stu-id="2532b-147">Use this method when you delete a related object or change a relationship by first deleting the link to an existing object and then adding a link to the new related object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AttachLink%2A>|<span data-ttu-id="2532b-148">Upozorní kontext existujícího propojení mezi dvěma objekty entity.</span><span class="sxs-lookup"><span data-stu-id="2532b-148">Notifies the context of an existing link between two entity objects.</span></span> <span data-ttu-id="2532b-149">Kontext předpokládá, že tato relace již v datové službě existuje a nepokusí se vytvořit odkaz při volání <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="2532b-149">The context assumes that this relationship already exists in the data service and does not try to create the link when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span> <span data-ttu-id="2532b-150">Tuto metodu použijte, pokud připojíte objekty ke kontextu a potřebujete také propojení mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="2532b-150">Use this method when you attach objects to a context and need to also attach the link between the two.</span></span> <span data-ttu-id="2532b-151">Pokud definujete novou relaci, měli byste místo toho použít <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="2532b-151">If you are defining a new relationship, you should instead use <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DetachLink%2A>|<span data-ttu-id="2532b-152">Zastaví sledování zadaného odkazu v kontextu.</span><span class="sxs-lookup"><span data-stu-id="2532b-152">Stops tracking the specified link in the context.</span></span> <span data-ttu-id="2532b-153">Tato metoda slouží k odstranění vztahů 1: n`*:*`.</span><span class="sxs-lookup"><span data-stu-id="2532b-153">This method is used to delete one-to-many (`*:*`) relationships.</span></span> <span data-ttu-id="2532b-154">Pro propojení vztahů se mohutnou jednou je třeba použít <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="2532b-154">For relationship links with a cardinality of one, you must instead use <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span></span>|  
  
 <span data-ttu-id="2532b-155">Následující příklad ukazuje, jak použít <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> metodu pro přidání nového `Order_Detail` , který souvisí s existující `Orders` entitou.</span><span class="sxs-lookup"><span data-stu-id="2532b-155">The following example shows how to use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method to add a new `Order_Detail` that is related to an existing `Orders` entity.</span></span> <span data-ttu-id="2532b-156">Vzhledem k tomu `Order_Details` <xref:System.Data.Services.Client.DataServiceContext>, že nový objekt je nyní sledován pomocí, je relace přidaného `Order_Details` objektu existující `Products` entitě definována voláním <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> metody:</span><span class="sxs-lookup"><span data-stu-id="2532b-156">Because the new `Order_Details` object is now tracked by the <xref:System.Data.Services.Client.DataServiceContext>, the relationship of the added `Order_Details` object to the existing `Products` entity is defined by calling the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addorderdetailtoorderspecific)]
 [!code-vb[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addorderdetailtoorderspecific)]  
  
 <span data-ttu-id="2532b-157">I když <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> Metoda definuje propojení, která musí být vytvořena v datové službě, aby se tyto odkazy projevily v objektech, které jsou v kontextu, je nutné také nastavit navigační vlastnosti u samotných objektů.</span><span class="sxs-lookup"><span data-stu-id="2532b-157">While the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method defines links that must be created in the data service, to have these links reflected in the objects that are in the context, you must also set the navigation properties on the objects themselves.</span></span> <span data-ttu-id="2532b-158">V předchozím příkladu byste měli nastavit navigační vlastnosti následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="2532b-158">In the previous example, you should set the navigation properties as follows:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#setnavprops)]
 [!code-vb[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#setnavprops)]  
  
 <span data-ttu-id="2532b-159">Další informace najdete v tématu [jak: Definujte vztahy mezi](how-to-define-entity-relationships-wcf-data-services.md)entitami.</span><span class="sxs-lookup"><span data-stu-id="2532b-159">For more information, see [How to: Define Entity Relationships](how-to-define-entity-relationships-wcf-data-services.md).</span></span>  
  
## <a name="saving-changes"></a><span data-ttu-id="2532b-160">Uložení změn</span><span class="sxs-lookup"><span data-stu-id="2532b-160">Saving Changes</span></span>  
 <span data-ttu-id="2532b-161">Změny jsou sledovány v <xref:System.Data.Services.Client.DataServiceContext> instanci, ale nejsou odesílány přímo na server.</span><span class="sxs-lookup"><span data-stu-id="2532b-161">Changes are tracked in the <xref:System.Data.Services.Client.DataServiceContext> instance but not sent to the server immediately.</span></span> <span data-ttu-id="2532b-162">Po dokončení požadovaných změn u zadané aktivity zavolejte <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> na Odeslat všechny změny do datové služby.</span><span class="sxs-lookup"><span data-stu-id="2532b-162">After you are finished with the required changes for a specified activity, call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> to submit all the changes to the data service.</span></span> <span data-ttu-id="2532b-163">Další informace najdete v tématu [Správa kontextu datové služby](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="2532b-163">For more information, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span> <span data-ttu-id="2532b-164">Změny lze také asynchronně ukládat pomocí <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> metod a. <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A></span><span class="sxs-lookup"><span data-stu-id="2532b-164">You can also save changes asynchronously by using the <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> and <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A> methods.</span></span> <span data-ttu-id="2532b-165">Další informace najdete v tématu [asynchronní operace](asynchronous-operations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="2532b-165">For more information, see [Asynchronous Operations](asynchronous-operations-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2532b-166">Viz také:</span><span class="sxs-lookup"><span data-stu-id="2532b-166">See also</span></span>

- [<span data-ttu-id="2532b-167">Klientská knihovna pro WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="2532b-167">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
- [<span data-ttu-id="2532b-168">Dotazování v datové službě</span><span class="sxs-lookup"><span data-stu-id="2532b-168">Querying the Data Service</span></span>](querying-the-data-service-wcf-data-services.md)
- [<span data-ttu-id="2532b-169">Asynchronní operace</span><span class="sxs-lookup"><span data-stu-id="2532b-169">Asynchronous Operations</span></span>](asynchronous-operations-wcf-data-services.md)
- [<span data-ttu-id="2532b-170">Operace dávkování</span><span class="sxs-lookup"><span data-stu-id="2532b-170">Batching Operations</span></span>](batching-operations-wcf-data-services.md)
- [<span data-ttu-id="2532b-171">Materializace objektů</span><span class="sxs-lookup"><span data-stu-id="2532b-171">Object Materialization</span></span>](object-materialization-wcf-data-services.md)
- [<span data-ttu-id="2532b-172">Správa kontextu datové služby</span><span class="sxs-lookup"><span data-stu-id="2532b-172">Managing the Data Service Context</span></span>](managing-the-data-service-context-wcf-data-services.md)
