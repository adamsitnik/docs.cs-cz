---
title: Použití akcí k implementaci chování na straně serveru
ms.date: 03/30/2017
ms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5
ms.openlocfilehash: bdfa8e37904395b402874b743ca4069cae75c504
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/07/2019
ms.locfileid: "70779686"
---
# <a name="using-actions-to-implement-server-side-behavior"></a><span data-ttu-id="20750-102">Použití akcí k implementaci chování na straně serveru</span><span class="sxs-lookup"><span data-stu-id="20750-102">Using actions to implement server-side behavior</span></span>

<span data-ttu-id="20750-103">Akce OData poskytují způsob, jak implementovat chování, které funguje na zdroji načteném ze služby OData.</span><span class="sxs-lookup"><span data-stu-id="20750-103">OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.</span></span> <span data-ttu-id="20750-104">Například považujete digitální film za prostředek, existuje mnoho věcí, které můžete provádět s digitálním filmem: rezervace, sazba/komentář nebo vrácení se změnami.</span><span class="sxs-lookup"><span data-stu-id="20750-104">For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.</span></span> <span data-ttu-id="20750-105">Jedná se o všechny příklady akcí, které mohou být implementovány datovou službou WCF, která spravuje digitální filmy.</span><span class="sxs-lookup"><span data-stu-id="20750-105">These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.</span></span> <span data-ttu-id="20750-106">Akce jsou popsány v odpovědi OData obsahující prostředek, na kterém lze akci vyvolat.</span><span class="sxs-lookup"><span data-stu-id="20750-106">Actions are described in an OData response that contains a resource on which the Action can be invoked.</span></span> <span data-ttu-id="20750-107">Když uživatel požádá o prostředek, který představuje digitální film, odpověď vrácená službou WCF Data Service obsahuje informace o akcích, které jsou k dispozici pro daný prostředek.</span><span class="sxs-lookup"><span data-stu-id="20750-107">When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.</span></span> <span data-ttu-id="20750-108">Dostupnost akce může záviset na stavu datové služby nebo prostředku.</span><span class="sxs-lookup"><span data-stu-id="20750-108">The availability of an Action can depend on the state of the data service or resource.</span></span> <span data-ttu-id="20750-109">Například když je digitální film rezervován, nemůže být rezervován jiným uživatelem.</span><span class="sxs-lookup"><span data-stu-id="20750-109">For example once a digital movie is checked out it cannot be checked out by another user.</span></span> <span data-ttu-id="20750-110">Klienti mohou vyvolat akci jednoduše zadáním adresy URL.</span><span class="sxs-lookup"><span data-stu-id="20750-110">Clients can invoke an action simply by specifying a URL.</span></span> <span data-ttu-id="20750-111">Například `http://MyServer/MovieService.svc/Movies(6)` by identifikoval konkrétní digitální film a `http://MyServer/MovieService.svc/Movies(6)/Checkout` vyvolal akci u konkrétního filmu.</span><span class="sxs-lookup"><span data-stu-id="20750-111">For example, `http://MyServer/MovieService.svc/Movies(6)` would identify a specific digital movie and `http://MyServer/MovieService.svc/Movies(6)/Checkout` would invoke the action on the specific movie.</span></span> <span data-ttu-id="20750-112">Akce umožňují vystavit model služby, aniž by byl váš datový model vystavený.</span><span class="sxs-lookup"><span data-stu-id="20750-112">Actions allow you to expose you service model without exposing your data model.</span></span> <span data-ttu-id="20750-113">V případě, že budete pokračovat s příkladem služby filmů, možná budete chtít uživateli dovolit Ohodnotit film, ale ne přímo vystavovat data hodnocení jako prostředek.</span><span class="sxs-lookup"><span data-stu-id="20750-113">Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.</span></span> <span data-ttu-id="20750-114">Můžete implementovat míru akce, která uživateli umožní Ohodnotit film, ale ne přímo přístup k datům hodnocení jako prostředek.</span><span class="sxs-lookup"><span data-stu-id="20750-114">You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.</span></span>
  
## <a name="implementing-an-action"></a><span data-ttu-id="20750-115">Implementace akce</span><span class="sxs-lookup"><span data-stu-id="20750-115">Implementing an action</span></span>  
 <span data-ttu-id="20750-116">Chcete-li implementovat akci služby <xref:System.IServiceProvider>, musíte implementovat rozhraní, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))a [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="20750-116">To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)), and [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) interfaces.</span></span> <span data-ttu-id="20750-117"><xref:System.IServiceProvider>umožňuje WCF Data Services získat implementaci [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)).</span><span class="sxs-lookup"><span data-stu-id="20750-117"><xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)).</span></span> <span data-ttu-id="20750-118">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) umožňuje WCF Data Services vytvořit, najít, popsat a vyvolat akce služby.</span><span class="sxs-lookup"><span data-stu-id="20750-118">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) allows WCF Data Services to create, find, describe and invoke service actions.</span></span> <span data-ttu-id="20750-119">[IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) umožňuje vyvolat kód, který implementuje chování akcí služby a získá výsledky, pokud existují.</span><span class="sxs-lookup"><span data-stu-id="20750-119">[IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) allows you to invoke the code that implements the service actions’ behavior and get the results, if any.</span></span> <span data-ttu-id="20750-120">Mějte na paměti, že WCF Data Services jsou služby WCF vázané na volání, nová instance služby se vytvoří pokaždé, když je služba volána.</span><span class="sxs-lookup"><span data-stu-id="20750-120">Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.</span></span>  <span data-ttu-id="20750-121">Ujistěte se, že při vytvoření služby není provedena žádná nepotřebná práce.</span><span class="sxs-lookup"><span data-stu-id="20750-121">Make sure no unnecessary work is done when the service is created.</span></span>  
  
### <a name="iserviceprovider"></a><span data-ttu-id="20750-122">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="20750-122">IServiceProvider</span></span>  
 <span data-ttu-id="20750-123"><xref:System.IServiceProvider>obsahuje metodu s názvem <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="20750-123"><xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>.</span></span> <span data-ttu-id="20750-124">Tato metoda je volána WCF Data Services k načtení řady poskytovatelů služeb, včetně poskytovatelů služeb metadat a zprostředkovatelů akcí datových služeb.</span><span class="sxs-lookup"><span data-stu-id="20750-124">This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.</span></span> <span data-ttu-id="20750-125">Po zobrazení výzvy pro poskytovatele akcí datové služby vraťte implementaci [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="20750-125">When asked for a data service action provider, return your [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) implementation.</span></span>  
  
### <a name="idataserviceactionprovider"></a><span data-ttu-id="20750-126">IDataServiceActionProvider</span><span class="sxs-lookup"><span data-stu-id="20750-126">IDataServiceActionProvider</span></span>  
 <span data-ttu-id="20750-127">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) obsahuje metody, které umožňují načíst informace o dostupných akcích.</span><span class="sxs-lookup"><span data-stu-id="20750-127">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) contains methods that allow you to retrieve information about the available actions.</span></span> <span data-ttu-id="20750-128">Při implementaci [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) rozšiřujete metadata pro vaši službu, která je definována implementací služby [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) vaší služby, s akcemi a zpracováním odesílání pro tyto akce jako přiměřený.</span><span class="sxs-lookup"><span data-stu-id="20750-128">When you implement [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) with Actions and handling dispatch to those actions as appropriate.</span></span>  
  
#### <a name="advertiseserviceaction"></a><span data-ttu-id="20750-129">AdvertiseServiceAction</span><span class="sxs-lookup"><span data-stu-id="20750-129">AdvertiseServiceAction</span></span>  
 <span data-ttu-id="20750-130">Je volána [Metoda AdvertiseServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) , která určuje, jaké akce jsou pro zadaný prostředek k dispozici.</span><span class="sxs-lookup"><span data-stu-id="20750-130">The [AdvertiseServiceAction method](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) is called to determine what actions are available for the specified resource.</span></span> <span data-ttu-id="20750-131">Tato metoda je volána pouze pro akce, které nejsou vždy k dispozici.</span><span class="sxs-lookup"><span data-stu-id="20750-131">This method is only called for actions that are not always available.</span></span> <span data-ttu-id="20750-132">Slouží ke kontrole, zda by měla být akce v odpovědi OData obsažena v závislosti na stavu požadovaného prostředku nebo stavu služby.</span><span class="sxs-lookup"><span data-stu-id="20750-132">It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.</span></span> <span data-ttu-id="20750-133">Způsob, jakým je tato kontroly dokončena, je zcela na vás.</span><span class="sxs-lookup"><span data-stu-id="20750-133">How this check is accomplished is completely up to you.</span></span> <span data-ttu-id="20750-134">Pokud je pro výpočet dostupnosti nákladné a aktuální prostředek je v informačním kanálu, je přijatelné Přeskočit kontrolu a inzerovat akci.</span><span class="sxs-lookup"><span data-stu-id="20750-134">If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.</span></span> <span data-ttu-id="20750-135">Parametr je nastaven na `true` hodnotu, pokud je aktuální vracený prostředek součástí informačního kanálu. `inFeed`</span><span class="sxs-lookup"><span data-stu-id="20750-135">The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.</span></span>  
  
#### <a name="createinvokable"></a><span data-ttu-id="20750-136">CreateInvokable</span><span class="sxs-lookup"><span data-stu-id="20750-136">CreateInvokable</span></span>  
 <span data-ttu-id="20750-137">[CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) se volá za účelem vytvoření [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) , který obsahuje delegát, který zapouzdřuje kód, který implementuje chování akce.</span><span class="sxs-lookup"><span data-stu-id="20750-137">[CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) is called to create a [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) that contains a delegate that encapsulates the code that implements the action’s behavior.</span></span> <span data-ttu-id="20750-138">Tím se vytvoří instance [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) , ale akce nevyvolá.</span><span class="sxs-lookup"><span data-stu-id="20750-138">This creates the [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) instance but does not invoke the action.</span></span> <span data-ttu-id="20750-139">Akce datové služby WCF mají vedlejší účinky a potřebují pracovat společně se zprostředkovatelem aktualizací, aby se tyto změny uložily na disk.</span><span class="sxs-lookup"><span data-stu-id="20750-139">WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.</span></span> <span data-ttu-id="20750-140">Metoda [IDataServiceInvokable. Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) je volána z metody SaveChanges () poskytovatele aktualizace.</span><span class="sxs-lookup"><span data-stu-id="20750-140">The [IDataServiceInvokable.Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) method is called from the Update Provider’s SaveChanges() method is called.</span></span>  
  
#### <a name="getserviceactions"></a><span data-ttu-id="20750-141">GetServiceActions</span><span class="sxs-lookup"><span data-stu-id="20750-141">GetServiceActions</span></span>  
 <span data-ttu-id="20750-142">Tato metoda vrátí kolekci instancí [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) , které reprezentují všechny akce, které zpřístupňuje datová služba WCF.</span><span class="sxs-lookup"><span data-stu-id="20750-142">This method returns a collection of [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that represent all of the actions a WCF Data Service exposes.</span></span> <span data-ttu-id="20750-143">[ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) je reprezentace metadat pro akci, která obsahuje informace, jako je název akce, její parametry a její návratový typ.</span><span class="sxs-lookup"><span data-stu-id="20750-143">[ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.</span></span>  
  
#### <a name="getserviceactionsbybindingparametertype"></a><span data-ttu-id="20750-144">GetServiceActionsByBindingParameterType</span><span class="sxs-lookup"><span data-stu-id="20750-144">GetServiceActionsByBindingParameterType</span></span>  
 <span data-ttu-id="20750-145">Tato metoda vrátí kolekci všech instancí [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) , které mohou být vázány na zadaný typ parametru vazby.</span><span class="sxs-lookup"><span data-stu-id="20750-145">This method returns a collection of all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that can be bound to the specified binding parameter type.</span></span> <span data-ttu-id="20750-146">Jinými slovy všechny [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s, které mohou fungovat na zadaném typu prostředku (označované také jako typ parametru vazby). Tato možnost se používá, pokud služba vrací prostředek, aby obsahovala informace o akcích, které mohou být pro daný prostředek vyvolány.</span><span class="sxs-lookup"><span data-stu-id="20750-146">In other words, all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.</span></span> <span data-ttu-id="20750-147">Tato metoda by měla vracet pouze akce, které mohou být vázány na přesný typ parametru vazby (žádné odvozené typy).</span><span class="sxs-lookup"><span data-stu-id="20750-147">This method should only return actions that can bind to the exact binding parameter type (no derived types).</span></span> <span data-ttu-id="20750-148">Tato metoda se volá jednou pro každý typ a výsledek je uložený v mezipaměti WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="20750-148">This method is called once per request per type encountered and the result is cached by WCF Data Services.</span></span>  
  
#### <a name="tryresolveserviceaction"></a><span data-ttu-id="20750-149">TryResolveServiceAction</span><span class="sxs-lookup"><span data-stu-id="20750-149">TryResolveServiceAction</span></span>  
 <span data-ttu-id="20750-150">Tato metoda vyhledá zadaný [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) a vrátí `true` , pokud se najde [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="20750-150">This method searches for a specified [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) and returns `true` if the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is found.</span></span> <span data-ttu-id="20750-151">Pokud se najde, vrátí se [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) v `serviceAction` `out` parametru.</span><span class="sxs-lookup"><span data-stu-id="20750-151">If found, the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is returned in the `serviceAction` `out` parameter.</span></span>  
  
### <a name="idataserviceinvokable"></a><span data-ttu-id="20750-152">IDataServiceInvokable</span><span class="sxs-lookup"><span data-stu-id="20750-152">IDataServiceInvokable</span></span>  
 <span data-ttu-id="20750-153">Toto rozhraní poskytuje způsob, jak spustit akci služby WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="20750-153">This interface provides a way to execute a WCF Data Service Action.</span></span> <span data-ttu-id="20750-154">Při implementaci IDataServiceInvokable zodpovídáte za 3 věci:</span><span class="sxs-lookup"><span data-stu-id="20750-154">When implementing IDataServiceInvokable you are responsible for 3 things:</span></span>  
  
1. <span data-ttu-id="20750-155">Zachytávání a potenciálně zařazování parametrů</span><span class="sxs-lookup"><span data-stu-id="20750-155">Capturing and potentially marshaling the parameters</span></span>  
  
2. <span data-ttu-id="20750-156">Odesílání parametrů do kódu, který ve skutečnosti implementuje akci při volání metody Invoke ()</span><span class="sxs-lookup"><span data-stu-id="20750-156">Dispatching the parameters to the code that actually implements the Action when Invoke() is called</span></span>  
  
3. <span data-ttu-id="20750-157">Uložení jakýchkoli výsledků z vyvolání (), aby je bylo možné načíst pomocí getResult ()</span><span class="sxs-lookup"><span data-stu-id="20750-157">Storing any results from Invoke() so they can be retrieved using GetResult()</span></span>  
  
 <span data-ttu-id="20750-158">Parametry mohou být předány jako tokeny.</span><span class="sxs-lookup"><span data-stu-id="20750-158">The parameters may be passed as tokens.</span></span> <span data-ttu-id="20750-159">Je to proto, že je možné napsat poskytovatele datové služby, který funguje s tokeny, které reprezentují prostředky, pokud se jedná o případ, že budete možná potřebovat převést (zařadit) tyto tokeny na skutečné prostředky a teprve potom odeslat aktuální akci.</span><span class="sxs-lookup"><span data-stu-id="20750-159">This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.</span></span> <span data-ttu-id="20750-160">Po zařazení parametru musí být v upravitelném stavu, aby se všechny změny prostředku, ke kterým dojde při vyvolání akce, ukládaly a zapsaly na disk.</span><span class="sxs-lookup"><span data-stu-id="20750-160">After the parameter has been marshaled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.</span></span>  
  
 <span data-ttu-id="20750-161">Toto rozhraní vyžaduje dvě metody: Invoke a GetResult.</span><span class="sxs-lookup"><span data-stu-id="20750-161">This interface requires two methods: Invoke and GetResult.</span></span> <span data-ttu-id="20750-162">Invoke vyvolá delegáta, který implementuje chování akce a GetResult Vrátí výsledek akce.</span><span class="sxs-lookup"><span data-stu-id="20750-162">Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.</span></span>  
  
## <a name="invoking-a-wcf-data-service-action"></a><span data-ttu-id="20750-163">Vyvolání akce datové služby WCF</span><span class="sxs-lookup"><span data-stu-id="20750-163">Invoking a WCF Data Service Action</span></span>  
 <span data-ttu-id="20750-164">Akce jsou vyvolány pomocí požadavku HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="20750-164">Actions are invoked using an HTTP POST request.</span></span> <span data-ttu-id="20750-165">Adresa URL Určuje prostředek následovaný názvem akce.</span><span class="sxs-lookup"><span data-stu-id="20750-165">The URL specifies the resource followed by the action name.</span></span> <span data-ttu-id="20750-166">Parametry jsou předány v těle žádosti.</span><span class="sxs-lookup"><span data-stu-id="20750-166">Parameters are passed in the body of the request.</span></span> <span data-ttu-id="20750-167">Například pokud existovala služba s názvem MovieService, která vystavila akci s názvem Rate.</span><span class="sxs-lookup"><span data-stu-id="20750-167">For example if there was a service called MovieService which exposed an action called Rate.</span></span> <span data-ttu-id="20750-168">Pomocí následující adresy URL můžete na konkrétním videu vyvolat míru akce:</span><span class="sxs-lookup"><span data-stu-id="20750-168">You could use the following URL to invoke the Rate action on a specific movie:</span></span>  
  
 `http://MovieServer/MovieService.svc/Movies(1)/Rate`
  
 <span data-ttu-id="20750-169">Filmy (1) určuje film, který chcete ohodnotit, a rychlost Určuje akci.</span><span class="sxs-lookup"><span data-stu-id="20750-169">Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.</span></span> <span data-ttu-id="20750-170">Skutečná hodnota hodnocení bude v těle požadavku HTTP, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="20750-170">The actual value of the rating will be in the body of the HTTP request as shown in the following example:</span></span>  
  
```  
POST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1   
Content-Type: application/json   
Content-Length: 20   
Host: localhost:15238  
{   
   "rating": 4   
}  
```  
  
> [!WARNING]
> <span data-ttu-id="20750-171">Výše uvedený vzorový kód bude fungovat jenom s WCF Data Services 5,2 a novějším, které mají podporu pro světlo JSON.</span><span class="sxs-lookup"><span data-stu-id="20750-171">The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.</span></span> <span data-ttu-id="20750-172">Pokud používáte starší verzi WCF Data Services, je nutné zadat podrobný obsah typu verbose JSON následujícím způsobem: `application/json;odata=verbose`.</span><span class="sxs-lookup"><span data-stu-id="20750-172">If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.</span></span>  
  
 <span data-ttu-id="20750-173">Alternativně můžete vyvolat akci pomocí klienta WCF Data Services, jak je znázorněno v následujícím fragmentu kódu.</span><span class="sxs-lookup"><span data-stu-id="20750-173">Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.</span></span>  
  
```csharp
MoviesModel context = new MoviesModel (new Uri("http://MyServer/MoviesService.svc/"));  
//...  
context.Execute(new Uri("http://MyServer/MoviesService.svc/Movies(1)/Rate"), "POST", new BodyOperationParameter("rating",4) );
```
  
 <span data-ttu-id="20750-174">Ve fragmentu kódu výše byl `MoviesModel` třída generována pomocí sady Visual Studio, aby přidat odkaz na službu k datové službě WCF.</span><span class="sxs-lookup"><span data-stu-id="20750-174">In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="20750-175">Viz také:</span><span class="sxs-lookup"><span data-stu-id="20750-175">See also</span></span>

- [<span data-ttu-id="20750-176">WCF Data Services 4.5</span><span class="sxs-lookup"><span data-stu-id="20750-176">WCF Data Services 4.5</span></span>](index.md)
- [<span data-ttu-id="20750-177">Definování datových služeb WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="20750-177">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
- [<span data-ttu-id="20750-178">Vývoj a nasazení služeb WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="20750-178">Developing and Deploying WCF Data Services</span></span>](developing-and-deploying-wcf-data-services.md)
- [<span data-ttu-id="20750-179">Vlastní zprostředkovatelé datových služeb</span><span class="sxs-lookup"><span data-stu-id="20750-179">Custom Data Service Providers</span></span>](custom-data-service-providers-wcf-data-services.md)
