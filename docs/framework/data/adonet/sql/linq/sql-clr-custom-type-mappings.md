---
title: Mapování vlastních typů SQL a CLR
ms.date: 03/30/2017
ms.assetid: d916c7fb-4b56-4214-acbe-5e23365047b2
ms.openlocfilehash: bc92d54cad6a977268ef3f000c684d5f195a933d
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "62037047"
---
# <a name="sql-clr-custom-type-mappings"></a><span data-ttu-id="f4b3e-102">Mapování vlastních typů SQL a CLR</span><span class="sxs-lookup"><span data-stu-id="f4b3e-102">SQL-CLR Custom Type Mappings</span></span>
<span data-ttu-id="f4b3e-103">Typ mapování mezi systému SQL Server a common language runtime (CLR) bylo automaticky zadáno při použití SQLMetal nástroj příkazového řádku, Návrhář relací objektů (O/R Designer).</span><span class="sxs-lookup"><span data-stu-id="f4b3e-103">Type mapping between SQL Server and the common language runtime (CLR) is automatically specified when you use the SQLMetal command-line tool, Object Relational Designer (O/R Designer).</span></span>  
  
 <span data-ttu-id="f4b3e-104">Pokud žádné vlastní mapování se provádí, tyto nástroje přiřadit výchozí mapování typů jak je popsáno v [mapování typů SQL a CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="f4b3e-104">When no customized mapping is performed, these tools assign default type mappings as described in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span></span> <span data-ttu-id="f4b3e-105">Pokud chcete zadat mapování odlišně od tyto výchozí hodnoty, je potřeba některé přizpůsobení mapování typů.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-105">If you want to type mappings differently from these defaults, you need to do some customization of the type mappings.</span></span>  
  
 <span data-ttu-id="f4b3e-106">Při přizpůsobování mapování typů, doporučuje provést změny v souboru DBML zprostředkující.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-106">When customizing type mappings, the recommended approach is to make the changes in an intermediary DBML file.</span></span> <span data-ttu-id="f4b3e-107">Pak upravený soubor DBML by měl použít při vytváření kódu a souborů mapování SQLMetal nebo Návrháře relací objektů.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-107">Then, your customized DBML file should be used when you create you code and mapping files with SQLMetal or O/R Designer.</span></span>  
  
 <span data-ttu-id="f4b3e-108">Jakmile vytvoříte instanci <xref:System.Data.Linq.DataContext> objekt z kódu a souborů mapování <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> metoda vytvoří databázi podle mapování typů, které jsou uvedeny.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-108">Once you instantiate the <xref:System.Data.Linq.DataContext> object from the code and mapping files, the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a database based on the type mappings that are specified.</span></span> <span data-ttu-id="f4b3e-109">Pokud neexistují žádné CLR `type` zadané atributy v mapování, použije se výchozí mapování typů.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-109">If there are no CLR `type` attributes specified in the mappings, the default type mappings will be used.</span></span>  
  
## <a name="customization-with-sqlmetal-or-or-designer"></a><span data-ttu-id="f4b3e-110">Přizpůsobení s SQLMetal nebo Návrháře relací objektů</span><span class="sxs-lookup"><span data-stu-id="f4b3e-110">Customization with SQLMetal or O/R Designer</span></span>  
 <span data-ttu-id="f4b3e-111">SQLMetal a O/R Designer můžete automaticky vytvořit objektový model, který obsahuje informace o mapování typu uvnitř nebo vně souboru kódu.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-111">With SQLMetal and O/R Designer, you can automatically create an object model that includes the type mapping information inside or outside the code file.</span></span> <span data-ttu-id="f4b3e-112">Protože tyto soubory jsou přepsány SQLMetal nebo O/R Designer, pokaždé, když znovu vytvoříte mapování pracovního doporučený postup pro určení mapování vlastních typů je pro přizpůsobení souboru DBML.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-112">Because these files are overwritten by SQLMetal or O/R Designer, each time you recreate your mappings, the recommended approach to specifying custom type mappings is to customize a DBML file.</span></span>  
  
 <span data-ttu-id="f4b3e-113">Přizpůsobení mapování typů s SQLMetal nebo O/R Designer, nejprve generování souboru DBML.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-113">To customize type mappings with SQLMetal or O/R Designer, first generate a DBML file.</span></span> <span data-ttu-id="f4b3e-114">Před generováním kódu souboru nebo souboru mapování, upravte souboru DBML k identifikaci mapování požadovaného typu.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-114">Then, before generating the code file or mapping file, modify the DBML file to identify the desired type mappings.</span></span> <span data-ttu-id="f4b3e-115">S SQLMetal, budete muset ručně změnit `Type` a `DbType` atributy v souboru DBML, aby váš typ mapování přizpůsobení.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-115">With SQLMetal, you have to manually change the `Type` and `DbType` attributes in the DBML file to make your type mapping customizations.</span></span> <span data-ttu-id="f4b3e-116">Pomocí Návrháře relací objektů provedete změny v návrháři.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-116">With O/R Designer, you can make your changes within the Designer.</span></span> <span data-ttu-id="f4b3e-117">Další informace o používání návrháře relací objektů naleznete v tématu [LINQ to SQL nástroje v sadě Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span><span class="sxs-lookup"><span data-stu-id="f4b3e-117">For more information about using the O/R Designer, see [LINQ to SQL Tools in Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f4b3e-118">Některé mapování typu může vést ke ztrátě výjimky přetečení nebo dat při překladu do nebo z databáze.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-118">Some type mappings may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="f4b3e-119">Pečlivě si prostudujte matice chování mapování typu za běhu v [mapování typů SQL a CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) před provedením jakékoli vlastní nastavení.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-119">Carefully review the Type Mapping Run-time Behavior Matrix in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) before making any customizations.</span></span>  
  
 <span data-ttu-id="f4b3e-120">Aby vlastní typ mapování podle SQLMetal nebo O/R Designer budete muset Ujistěte se, že tyto nástroje jsou součástí cesty do vlastního souboru DBML při generování souboru kódu nebo externí mapování souboru.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-120">In order for your type mapping customizations to be recognized by SQLMetal or O/R Designer, you need to make sure that these tools are supplied with the path to your custom DBML file when you generate your code file or external mapping file.</span></span> <span data-ttu-id="f4b3e-121">Ačkoli to není vyžadováno pro mapování typu vlastního nastavení, doporučujeme vám vždy oddělení vašich informací o mapování typ ze souboru s kódem a generovat soubor mapování další externí.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-121">Although not required for type mapping customization, it is recommended that you always separate your type mapping information from your code file and generate the additional external type mapping file.</span></span> <span data-ttu-id="f4b3e-122">Tím ponechá určitá flexibilita vyžadováním není třeba znovu zkompilovat soubor kódu.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-122">Doing so will leave some flexibility by not requiring that the code file be recompiled.</span></span>  
  
## <a name="incorporating-database-changes"></a><span data-ttu-id="f4b3e-123">Zahrnutí změny databáze</span><span class="sxs-lookup"><span data-stu-id="f4b3e-123">Incorporating Database Changes</span></span>  
 <span data-ttu-id="f4b3e-124">Když změny databáze, je potřeba v souboru DBML odrážet provedené změny.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-124">When your database changes, you will need to update your DBML file to reflect those changes.</span></span> <span data-ttu-id="f4b3e-125">Jeden ze způsobů, jak provést toto je pro automatické vytvoření nového souboru DBML a pak znovu proveďte vlastní typ mapování.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-125">One way to do this is to automatically create a new DBML file and then re-do your type mapping customizations.</span></span> <span data-ttu-id="f4b3e-126">Alternativně může porovnat rozdíly mezi nového souboru DBML a vaše přizpůsobené souboru DBML a aktualizace vašeho vlastního souboru DBML ručně tak, aby odrážely změny databáze.</span><span class="sxs-lookup"><span data-stu-id="f4b3e-126">Alternatively, you could compare the differences between your new DBML file and your customized DBML file and update your custom DBML file manually to reflect the database change.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f4b3e-127">Viz také:</span><span class="sxs-lookup"><span data-stu-id="f4b3e-127">See also</span></span>

- [<span data-ttu-id="f4b3e-128">Mapování typů SQL a CLR</span><span class="sxs-lookup"><span data-stu-id="f4b3e-128">SQL-CLR Type Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)
- [<span data-ttu-id="f4b3e-129">Generování kódu v LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="f4b3e-129">Code Generation in LINQ to SQL</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md)
