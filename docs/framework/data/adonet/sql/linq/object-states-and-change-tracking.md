---
title: Stavy objektů a sledování změn
ms.date: 03/30/2017
ms.assetid: 7a808b00-9c3c-479a-aa94-717280fefd71
ms.openlocfilehash: 63b04d3a4b6e48594e9664833a6e539d62bbab0e
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/08/2019
ms.locfileid: "59191152"
---
# <a name="object-states-and-change-tracking"></a><span data-ttu-id="62e0b-102">Stavy objektů a sledování změn</span><span class="sxs-lookup"><span data-stu-id="62e0b-102">Object States and Change-Tracking</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="62e0b-103">objekty vždy účastnit některé *stavu*.</span><span class="sxs-lookup"><span data-stu-id="62e0b-103">objects always participate in some *state*.</span></span> <span data-ttu-id="62e0b-104">Například když [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] vytvoří nový objekt, je objekt v `Unchanged` stavu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-104">For example, when [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] creates a new object, the object is in `Unchanged` state.</span></span> <span data-ttu-id="62e0b-105">Nový objekt, který sami vytvoříte není znám <xref:System.Data.Linq.DataContext> a je v `Untracked` stavu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-105">A new object that you yourself create is unknown to the <xref:System.Data.Linq.DataContext> and is in `Untracked` state.</span></span> <span data-ttu-id="62e0b-106">Po úspěšné provedení <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, všechny objekty, které jsou známé [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] v `Unchanged` stavu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-106">Following successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, all objects known to [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] are in `Unchanged` state.</span></span> <span data-ttu-id="62e0b-107">(Jednu výjimku představuje ty, které byla úspěšně odstraněna z databáze, které jsou ve `Deleted` stavu takže nepůjdou použít v tomto <xref:System.Data.Linq.DataContext> instance.)</span><span class="sxs-lookup"><span data-stu-id="62e0b-107">(The single exception is represented by those that have been successfully deleted from the database, which are in `Deleted` state and unusable in that <xref:System.Data.Linq.DataContext> instance.)</span></span>  
  
## <a name="object-states"></a><span data-ttu-id="62e0b-108">Stavy objektů</span><span class="sxs-lookup"><span data-stu-id="62e0b-108">Object States</span></span>  
 <span data-ttu-id="62e0b-109">V následující tabulce jsou uvedeny možné stavy pro [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] objekty.</span><span class="sxs-lookup"><span data-stu-id="62e0b-109">The following table lists the possible states for [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] objects.</span></span>  
  
|<span data-ttu-id="62e0b-110">Stav</span><span class="sxs-lookup"><span data-stu-id="62e0b-110">State</span></span>|<span data-ttu-id="62e0b-111">Popis</span><span class="sxs-lookup"><span data-stu-id="62e0b-111">Description</span></span>|  
|-----------|-----------------|  
|`Untracked`|<span data-ttu-id="62e0b-112">Objekt není sledován pomocí funkce [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span><span class="sxs-lookup"><span data-stu-id="62e0b-112">An object not tracked by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span> <span data-ttu-id="62e0b-113">Mezi příklady patří následující:</span><span class="sxs-lookup"><span data-stu-id="62e0b-113">Examples include the following:</span></span><br /><br /> <span data-ttu-id="62e0b-114">-Není zasílat dotazy prostřednictvím aktuální objekt <xref:System.Data.Linq.DataContext> (například nově vytvořený objekt).</span><span class="sxs-lookup"><span data-stu-id="62e0b-114">-   An object not queried through the current <xref:System.Data.Linq.DataContext> (such as a newly created object).</span></span><br /><span data-ttu-id="62e0b-115">-Vytvořených prostřednictvím deserializace objektu</span><span class="sxs-lookup"><span data-stu-id="62e0b-115">-   An object created through deserialization</span></span><br /><span data-ttu-id="62e0b-116">-Zasílat dotazy prostřednictvím jiného objektu <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-116">-   An object queried through a different <xref:System.Data.Linq.DataContext>.</span></span>|  
|`Unchanged`|<span data-ttu-id="62e0b-117">Objekt, načíst pomocí aktuálního <xref:System.Data.Linq.DataContext> a není známo, že se změnily, protože byl vytvořen.</span><span class="sxs-lookup"><span data-stu-id="62e0b-117">An object retrieved by using the current <xref:System.Data.Linq.DataContext> and not known to have been modified since it was created.</span></span>|  
|`PossiblyModified`|<span data-ttu-id="62e0b-118">Objekt, který *připojené* k <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-118">An object which is *attached* to a <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="62e0b-119">Další informace najdete v tématu [CUD operace v N-vrstvé aplikace (LINQ to SQL) a načítání dat](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span><span class="sxs-lookup"><span data-stu-id="62e0b-119">For more information, see [Data Retrieval and CUD Operations in N-Tier Applications (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span></span>|  
|`ToBeInserted`|<span data-ttu-id="62e0b-120">Objekt nelze načíst pomocí aktuálního <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-120">An object not retrieved by using the current <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="62e0b-121">To způsobí, že databáze `INSERT` během <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-121">This causes a database `INSERT` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeUpdated`|<span data-ttu-id="62e0b-122">Objekt je známo, že byly změněny od načtení.</span><span class="sxs-lookup"><span data-stu-id="62e0b-122">An object known to have been modified since it was retrieved.</span></span> <span data-ttu-id="62e0b-123">To způsobí, že databáze `UPDATE` během <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-123">This causes a database `UPDATE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeDeleted`|<span data-ttu-id="62e0b-124">Objekt označený k odstranění, způsobí databázi `DELETE` během <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-124">An object marked for deletion, causing a database `DELETE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`Deleted`|<span data-ttu-id="62e0b-125">Objekt, který byl odstraněn v databázi.</span><span class="sxs-lookup"><span data-stu-id="62e0b-125">An object that has been deleted in the database.</span></span> <span data-ttu-id="62e0b-126">Tento stav je finální a není povoleno pro další přechody.</span><span class="sxs-lookup"><span data-stu-id="62e0b-126">This state is final and does not allow for additional transitions.</span></span>|  
  
## <a name="inserting-objects"></a><span data-ttu-id="62e0b-127">Vkládání objektů</span><span class="sxs-lookup"><span data-stu-id="62e0b-127">Inserting Objects</span></span>  
 <span data-ttu-id="62e0b-128">Můžete explicitně vyžádat `Inserts` pomocí <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-128">You can explicitly request `Inserts` by using <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span></span> <span data-ttu-id="62e0b-129">Alternativně [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] lze odvodit `Inserts` hledáním objekty, které jsou připojené k některé z známé objekty, které se musí aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="62e0b-129">Alternatively, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] can infer `Inserts` by finding objects connected to one of the known objects that must be updated.</span></span> <span data-ttu-id="62e0b-130">Například, pokud chcete přidat `Untracked` objektu <xref:System.Data.Linq.EntitySet%601> nebo nastavte <xref:System.Data.Linq.EntityRef%601> do `Untracked` objektu, provedete `Untracked` objekt dostupný prostřednictvím sledovaných objektů v grafu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-130">For example, if you add an `Untracked` object to an <xref:System.Data.Linq.EntitySet%601> or set an <xref:System.Data.Linq.EntityRef%601> to an `Untracked` object, you make the `Untracked` object reachable by way of tracked objects in the graph.</span></span> <span data-ttu-id="62e0b-131">Při zpracování <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] projde sledované objekty a vyhledá všechny dostupné trvalé objekty, které nebudou pro účely.</span><span class="sxs-lookup"><span data-stu-id="62e0b-131">While processing <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] traverses the tracked objects and discovers any reachable persistent objects that are not tracked.</span></span> <span data-ttu-id="62e0b-132">Tyto objekty jsou kandidáty pro vložení do databáze.</span><span class="sxs-lookup"><span data-stu-id="62e0b-132">Such objects are candidates for insertion into the database.</span></span>  
  
 <span data-ttu-id="62e0b-133">Pro třídy v hierarchii dědičnosti <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) nastaví hodnotu člen označený jako *diskriminátoru* tak, aby odpovídaly typu objektu `o`.</span><span class="sxs-lookup"><span data-stu-id="62e0b-133">For classes in an inheritance hierarchy, <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) also sets the value of the member designated as the *discriminator* to match the type of the object `o`.</span></span> <span data-ttu-id="62e0b-134">V případě typ odpovídající výchozí hodnota diskriminátoru tato akce způsobí, že hodnota diskriminátoru přepsat výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-134">In the case of a type matching the default discriminator value, this action causes the discriminator value to be overwritten with the default value.</span></span> <span data-ttu-id="62e0b-135">Další informace najdete v tématu [podpora dědičnosti](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span><span class="sxs-lookup"><span data-stu-id="62e0b-135">For more information, see [Inheritance Support](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="62e0b-136">Přidat do objektu `Table` není v mezipaměti identit.</span><span class="sxs-lookup"><span data-stu-id="62e0b-136">An object added to a `Table` is not in the identity cache.</span></span> <span data-ttu-id="62e0b-137">Mezipaměti identit odráží, co je načíst pouze z databáze.</span><span class="sxs-lookup"><span data-stu-id="62e0b-137">The identity cache reflects only what is retrieved from the database.</span></span> <span data-ttu-id="62e0b-138">Po volání <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, přidání entity se nezobrazí v dotazech databázi do <xref:System.Data.Linq.DataContext.SubmitChanges%2A> se úspěšně dokončila.</span><span class="sxs-lookup"><span data-stu-id="62e0b-138">After a call to <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, the added entity does not appear in queries against the database until <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is successfully completed.</span></span>  
  
## <a name="deleting-objects"></a><span data-ttu-id="62e0b-139">Odstranění objektů</span><span class="sxs-lookup"><span data-stu-id="62e0b-139">Deleting Objects</span></span>  
 <span data-ttu-id="62e0b-140">Označit objekt sledované `o` k odstranění voláním <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) na příslušný <xref:System.Data.Linq.Table%601>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-140">You mark a tracked object `o` for deletion by calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) on the appropriate <xref:System.Data.Linq.Table%601>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="62e0b-141">bere v úvahu odebrání objektu z <xref:System.Data.Linq.EntitySet%601> jako aktualizace operace a hodnotě odpovídající cizího klíče nastavena na hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="62e0b-141">considers the removal of an object from an <xref:System.Data.Linq.EntitySet%601> as an update operation, and the corresponding foreign key value is set to null.</span></span> <span data-ttu-id="62e0b-142">Cíl operace (`o`) neodstranil z příslušné tabulky.</span><span class="sxs-lookup"><span data-stu-id="62e0b-142">The target of the operation (`o`) is not deleted from its table.</span></span> <span data-ttu-id="62e0b-143">Například `cust.Orders.DeleteOnSubmit(ord)` označuje aktualizaci kde vztah mezi `cust` a `ord` porušeno nastavením cizí klíč `ord.CustomerID` na hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="62e0b-143">For example, `cust.Orders.DeleteOnSubmit(ord)` indicates an update where the relationship between `cust` and `ord` is severed by setting the foreign key `ord.CustomerID` to null.</span></span> <span data-ttu-id="62e0b-144">Nezpůsobí odstranění řádku odpovídající `ord`.</span><span class="sxs-lookup"><span data-stu-id="62e0b-144">It does not cause the deletion of the row corresponding to `ord`.</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="62e0b-145">provádí následující zpracováním, když je objekt odstraněný (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) z jeho tabulky:</span><span class="sxs-lookup"><span data-stu-id="62e0b-145">performs the following processing when an object is deleted (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) from its table:</span></span>  
  
-   <span data-ttu-id="62e0b-146">Když <xref:System.Data.Linq.DataContext.SubmitChanges%2A> je zavolána, `DELETE` operace pro tento objekt.</span><span class="sxs-lookup"><span data-stu-id="62e0b-146">When <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is called, a `DELETE` operation is performed for that object.</span></span>  
  
-   <span data-ttu-id="62e0b-147">Pokud chcete odebrání se nerozšíří do bez ohledu na to, zda jsou načteny související objekty.</span><span class="sxs-lookup"><span data-stu-id="62e0b-147">The removal is not propagated to related objects regardless of whether they are loaded.</span></span> <span data-ttu-id="62e0b-148">Konkrétně nejsou načteny související objekty pro aktualizaci vlastnost vztahu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-148">Specifically, related objects are not loaded for updating the relationship property.</span></span>  
  
-   <span data-ttu-id="62e0b-149">Po úspěšném spuštění <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, objekty jsou nastaveny na `Deleted` stavu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-149">After successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, the objects are set to the `Deleted` state.</span></span> <span data-ttu-id="62e0b-150">V důsledku toho nelze použít objekt nebo jeho `id` v tom, že <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-150">As a result, you cannot use the object or its `id` in that <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="62e0b-151">Udržuje interní mezipaměť <xref:System.Data.Linq.DataContext> instance nebude odstraněn objekty, které jsou načteny, nebo přidat jako nový, i když se odstranily objekty v databázi.</span><span class="sxs-lookup"><span data-stu-id="62e0b-151">The internal cache maintained by a <xref:System.Data.Linq.DataContext> instance does not eliminate objects that are retrieved or added as new, even after the objects have been deleted in the database.</span></span>  
  
 <span data-ttu-id="62e0b-152">Můžete volat <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> jenom u objektu sledován pomocí funkce <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-152">You can call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> only on an object tracked by the <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="62e0b-153">Pro `Untracked` objektu, je nutné volat <xref:System.Data.Linq.Table%601.Attach%2A> před voláním <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-153">For an `Untracked` object, you must call <xref:System.Data.Linq.Table%601.Attach%2A> before you call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span></span> <span data-ttu-id="62e0b-154">Volání <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> na `Untracked` objektu vyvolá výjimku.</span><span class="sxs-lookup"><span data-stu-id="62e0b-154">Calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> on an `Untracked` object throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="62e0b-155">Odebrání objektu z tabulky říká [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] ke generování odpovídající SQL `DELETE` příkaz v době <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-155">Removing an object from a table tells [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] to generate a corresponding SQL `DELETE` command at the time of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="62e0b-156">Tato akce odebere objekt z mezipaměti ani šíření se odstraňování souvisejících objektů.</span><span class="sxs-lookup"><span data-stu-id="62e0b-156">This action does not remove the object from the cache or propagate the deletion to related objects.</span></span>  
>   
>  <span data-ttu-id="62e0b-157">Získat zpět `id` odstraněného objektu použít novou <xref:System.Data.Linq.DataContext> instance.</span><span class="sxs-lookup"><span data-stu-id="62e0b-157">To reclaim the `id` of a deleted object, use a new <xref:System.Data.Linq.DataContext> instance.</span></span> <span data-ttu-id="62e0b-158">Pro čištění souvisejících objektů, můžete použít *kaskádové odstranění* funkce databáze, jinak ručně odstranit související objekty.</span><span class="sxs-lookup"><span data-stu-id="62e0b-158">For cleanup of related objects, you can use the *cascade delete* feature of the database, or else manually delete the related objects.</span></span>  
>   
>  <span data-ttu-id="62e0b-159">Související objekty není nutné odstranit v libovolném pořadí speciální (na rozdíl od v databázi).</span><span class="sxs-lookup"><span data-stu-id="62e0b-159">The related objects do not have to be deleted in any special order (unlike in the database).</span></span>  
  
## <a name="updating-objects"></a><span data-ttu-id="62e0b-160">Aktualizace objektů</span><span class="sxs-lookup"><span data-stu-id="62e0b-160">Updating Objects</span></span>  
 <span data-ttu-id="62e0b-161">Můžete zjistit `Updates` pozorováním oznámení změn.</span><span class="sxs-lookup"><span data-stu-id="62e0b-161">You can detect `Updates` by observing notifications of changes.</span></span> <span data-ttu-id="62e0b-162">Oznámení jsou k dispozici prostřednictvím <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> událost v nastavením vlastností.</span><span class="sxs-lookup"><span data-stu-id="62e0b-162">Notifications are provided through the <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> event in property setters.</span></span> <span data-ttu-id="62e0b-163">Když [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] oznámení o první změně na objekt, vytvoří kopii objektu a považuje za objekt kandidát pro generování `Update` příkaz.</span><span class="sxs-lookup"><span data-stu-id="62e0b-163">When [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] is notified of the first change to an object, it creates a copy of the object and considers the object a candidate for generating an `Update` statement.</span></span>  
  
 <span data-ttu-id="62e0b-164">Pro objekty, které neimplementují <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] neuchovává kopii hodnoty, které objekty měly při prvním vyhodnocena.</span><span class="sxs-lookup"><span data-stu-id="62e0b-164">For objects that do not implement <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] maintains a copy of the values that objects had when they were first materialized.</span></span> <span data-ttu-id="62e0b-165">Při volání <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] porovná aktuální a původní hodnoty se rozhodnout, zda byl změněn na objekt.</span><span class="sxs-lookup"><span data-stu-id="62e0b-165">When you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] compares the current and original values to decide whether the object has been changed.</span></span>  
  
 <span data-ttu-id="62e0b-166">Aktualizace relace z podřízený odkaz na nadřazený prvek (tedy odkaz odpovídající cizí klíč) se považuje za oprávnění.</span><span class="sxs-lookup"><span data-stu-id="62e0b-166">For updates to relationships, the reference from the child to the parent (that is, the reference corresponding to the foreign key) is considered the authority.</span></span> <span data-ttu-id="62e0b-167">Odkaz v opačném směru (to znamená z nadřazené do podřízené) je volitelný.</span><span class="sxs-lookup"><span data-stu-id="62e0b-167">The reference in the reverse direction (that is, from parent to child) is optional.</span></span> <span data-ttu-id="62e0b-168">Vztah tříd (<xref:System.Data.Linq.EntitySet%601> a <xref:System.Data.Linq.EntityRef%601>) zaručit, že jsou odkazy obousměrné konzistentní u vztahů jednoho k několika a 1: 1.</span><span class="sxs-lookup"><span data-stu-id="62e0b-168">Relationship classes (<xref:System.Data.Linq.EntitySet%601> and <xref:System.Data.Linq.EntityRef%601>) guarantee that the bidirectional references are consistent for one-to-many and one-to-one relationships.</span></span> <span data-ttu-id="62e0b-169">Je-li objektový model nepoužívá <xref:System.Data.Linq.EntitySet%601> nebo <xref:System.Data.Linq.EntityRef%601>, a pokud je k dispozici zpětné reference, je vaší zodpovědností uchovávat konzistentní s dopředným odkazem při aktualizaci vztahu.</span><span class="sxs-lookup"><span data-stu-id="62e0b-169">If the object model does not use <xref:System.Data.Linq.EntitySet%601> or <xref:System.Data.Linq.EntityRef%601>, and if the reverse reference is present, it is your responsibility to keep it consistent with the forward reference when the relationship is updated.</span></span>  
  
 <span data-ttu-id="62e0b-170">Při aktualizaci požadovaný odkaz a odpovídající cizí klíč, musí se ujistěte, že souhlasí.</span><span class="sxs-lookup"><span data-stu-id="62e0b-170">If you update both the required reference and the corresponding foreign key, you must make sure that they agree.</span></span> <span data-ttu-id="62e0b-171"><xref:System.InvalidOperationException> Je vyvolána výjimka, pokud nejsou dva synchronizaci v době, kterou je možné volat <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="62e0b-171">An <xref:System.InvalidOperationException> exception is thrown if the two are not synchronized at the time that you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="62e0b-172">I když změny hodnoty cizího klíče jsou dostačující pro ovlivnění aktualizace základní řádky, měli byste změnit odkaz umožňující zachovat připojení objektu grafu a obousměrné konzistence relace.</span><span class="sxs-lookup"><span data-stu-id="62e0b-172">Although foreign key value changes are sufficient for affecting an update of the underlying row, you should change the reference to maintain connectivity of the object graph and bidirectional consistency of relationships.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="62e0b-173">Viz také:</span><span class="sxs-lookup"><span data-stu-id="62e0b-173">See also</span></span>

- [<span data-ttu-id="62e0b-174">Základní informace</span><span class="sxs-lookup"><span data-stu-id="62e0b-174">Background Information</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)
- [<span data-ttu-id="62e0b-175">Operace vložení, aktualizace a odstranění</span><span class="sxs-lookup"><span data-stu-id="62e0b-175">Insert, Update, and Delete Operations</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/insert-update-and-delete-operations.md)
