---
title: Zpracování událostí datové tabulky
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 62f404a5-13ea-4b93-a29f-55b74a16c9d3
ms.openlocfilehash: 210d15187cd539cdae6e38fdcb708b4b9f81c073
ms.sourcegitcommit: 37616676fde89153f563a485fc6159fc57326fc2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/23/2019
ms.locfileid: "69988302"
---
# <a name="handling-datatable-events"></a><span data-ttu-id="0673e-102">Zpracování událostí datové tabulky</span><span class="sxs-lookup"><span data-stu-id="0673e-102">Handling DataTable Events</span></span>
<span data-ttu-id="0673e-103"><xref:System.Data.DataTable> Objekt poskytuje řadu událostí, které mohou být zpracovány aplikací.</span><span class="sxs-lookup"><span data-stu-id="0673e-103">The <xref:System.Data.DataTable> object provides a series of events that can be processed by an application.</span></span> <span data-ttu-id="0673e-104">Následující tabulka popisuje `DataTable` události.</span><span class="sxs-lookup"><span data-stu-id="0673e-104">The following table describes `DataTable` events.</span></span>  
  
|<span data-ttu-id="0673e-105">Událost</span><span class="sxs-lookup"><span data-stu-id="0673e-105">Event</span></span>|<span data-ttu-id="0673e-106">Popis</span><span class="sxs-lookup"><span data-stu-id="0673e-106">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Data.DataTable.Initialized>|<span data-ttu-id="0673e-107">Nastane po <xref:System.Data.DataTable.EndInit%2A> volání metody a `DataTable` .</span><span class="sxs-lookup"><span data-stu-id="0673e-107">Occurs after the <xref:System.Data.DataTable.EndInit%2A> method of a `DataTable` is called.</span></span> <span data-ttu-id="0673e-108">Tato událost je určená primárně pro podporu scénářů návrhu.</span><span class="sxs-lookup"><span data-stu-id="0673e-108">This event is intended primarily to support design-time scenarios.</span></span>|  
|<xref:System.Data.DataTable.ColumnChanged>|<span data-ttu-id="0673e-109">Vyvolá se po úspěšné změně hodnoty v <xref:System.Data.DataColumn>.</span><span class="sxs-lookup"><span data-stu-id="0673e-109">Occurs after a value has been successfully changed in a <xref:System.Data.DataColumn>.</span></span>|  
|<xref:System.Data.DataTable.ColumnChanging>|<span data-ttu-id="0673e-110">Vyvolá se v případě, že byla odeslána hodnota `DataColumn`pro.</span><span class="sxs-lookup"><span data-stu-id="0673e-110">Occurs when a value has been submitted for a `DataColumn`.</span></span>|  
|<xref:System.Data.DataTable.RowChanged>|<span data-ttu-id="0673e-111">Vyvolá se po `DataColumn` úspěšné změně hodnoty <xref:System.Data.DataRow.RowState%2A> nebo z <xref:System.Data.DataRow> v `DataTable` .</span><span class="sxs-lookup"><span data-stu-id="0673e-111">Occurs after a `DataColumn` value or the <xref:System.Data.DataRow.RowState%2A> of a <xref:System.Data.DataRow> in the `DataTable` has been changed successfully.</span></span>|  
|<xref:System.Data.DataTable.RowChanging>|<span data-ttu-id="0673e-112">Nastane, pokud byla odeslána Změna `DataColumn` pro hodnotu `RowState` nebo z a `DataRow` v `DataTable`.</span><span class="sxs-lookup"><span data-stu-id="0673e-112">Occurs when a change has been submitted for a `DataColumn` value or the `RowState` of a `DataRow` in the `DataTable`.</span></span>|  
|<xref:System.Data.DataTable.RowDeleted>|<span data-ttu-id="0673e-113">Nastane po `DataRow` `DataTable` označení jako .`Deleted`</span><span class="sxs-lookup"><span data-stu-id="0673e-113">Occurs after a `DataRow` in the `DataTable` has been marked as `Deleted`.</span></span>|  
|<xref:System.Data.DataTable.RowDeleting>|<span data-ttu-id="0673e-114">Vyvolá se před `DataRow` znakem `DataTable` v, který `Deleted`je označen jako.</span><span class="sxs-lookup"><span data-stu-id="0673e-114">Occurs before a `DataRow` in the `DataTable` is marked as `Deleted`.</span></span>|  
|<xref:System.Data.DataTable.TableCleared>|<span data-ttu-id="0673e-115">Nastane po volání <xref:System.Data.DataTable.Clear%2A> metody, která se úspěšně vymazala každé `DataTable` `DataRow`z nich.</span><span class="sxs-lookup"><span data-stu-id="0673e-115">Occurs after a call to the <xref:System.Data.DataTable.Clear%2A> method of the `DataTable` has successfully cleared every `DataRow`.</span></span>|  
|<xref:System.Data.DataTable.TableClearing>|<span data-ttu-id="0673e-116">Nastane po volání `Clear` metody, ale `Clear` před začátkem operace.</span><span class="sxs-lookup"><span data-stu-id="0673e-116">Occurs after the `Clear` method is called but before the `Clear` operation begins.</span></span>|  
|<xref:System.Data.DataTable.TableNewRow>|<span data-ttu-id="0673e-117">Nastane po vytvoření nového `DataRow` voláním `NewRow` metody `DataTable`.</span><span class="sxs-lookup"><span data-stu-id="0673e-117">Occurs after a new `DataRow` is created by a call to the `NewRow` method of the `DataTable`.</span></span>|  
|<xref:System.ComponentModel.MarshalByValueComponent.Disposed>|<span data-ttu-id="0673e-118">Vyvolá se v `DataTable` případě `Disposed`, že je.</span><span class="sxs-lookup"><span data-stu-id="0673e-118">Occurs when the `DataTable` is `Disposed`.</span></span> <span data-ttu-id="0673e-119">Zděděno <xref:System.ComponentModel.MarshalByValueComponent>z.</span><span class="sxs-lookup"><span data-stu-id="0673e-119">Inherited from <xref:System.ComponentModel.MarshalByValueComponent>.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="0673e-120">Většina operací, které přidávají nebo odstraňují řádky, `ColumnChanged` nevyvolají události a `ColumnChanging` .</span><span class="sxs-lookup"><span data-stu-id="0673e-120">Most operations that add or delete rows do not raise the `ColumnChanged` and `ColumnChanging` events.</span></span> <span data-ttu-id="0673e-121">`ColumnChanged` `ColumnChanging` `DiffGram`Metoda však vyvolá události `DiffGram` `Auto` a, pokud není nastavena na nebo je nastavena na hodnotu, když je dokument XML čten. `XmlReadMode` `ReadXml`</span><span class="sxs-lookup"><span data-stu-id="0673e-121">However, the `ReadXml` method does raise `ColumnChanged` and `ColumnChanging` events, unless the `XmlReadMode` is set to `DiffGram` or is set to `Auto` when the XML document being read is a `DiffGram`.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="0673e-122">Poškození dat může nastat, pokud jsou změněna data v `DataSet` , z `RowChanged` nichž je událost vyvolána.</span><span class="sxs-lookup"><span data-stu-id="0673e-122">Data corruption can occur if data is modified in a `DataSet` from which the `RowChanged` event is raised.</span></span> <span data-ttu-id="0673e-123">Pokud dojde k poškození dat, nebude vyvolána žádná výjimka.</span><span class="sxs-lookup"><span data-stu-id="0673e-123">No exception will be raised if such data corruption occurs.</span></span>  
  
## <a name="additional-related-events"></a><span data-ttu-id="0673e-124">Další související události</span><span class="sxs-lookup"><span data-stu-id="0673e-124">Additional Related Events</span></span>  
 <span data-ttu-id="0673e-125"><xref:System.Data.DataTable.Constraints%2A> Vlastnost<xref:System.Data.ConstraintCollection> obsahuje instanci.</span><span class="sxs-lookup"><span data-stu-id="0673e-125">The <xref:System.Data.DataTable.Constraints%2A> property holds a <xref:System.Data.ConstraintCollection> instance.</span></span> <span data-ttu-id="0673e-126"><xref:System.Data.ConstraintCollection> Třída zpřístupňuje událost. <xref:System.Data.ConstraintCollection.CollectionChanged></span><span class="sxs-lookup"><span data-stu-id="0673e-126">The <xref:System.Data.ConstraintCollection> class exposes a <xref:System.Data.ConstraintCollection.CollectionChanged> event.</span></span> <span data-ttu-id="0673e-127">Tato událost se aktivuje při přidání, úpravě nebo odebrání omezení z `ConstraintCollection`.</span><span class="sxs-lookup"><span data-stu-id="0673e-127">This event fires when a constraint is added, modified, or removed from the `ConstraintCollection`.</span></span>  
  
 <span data-ttu-id="0673e-128"><xref:System.Data.DataTable.Columns%2A> Vlastnost<xref:System.Data.DataColumnCollection> obsahuje instanci.</span><span class="sxs-lookup"><span data-stu-id="0673e-128">The <xref:System.Data.DataTable.Columns%2A> property holds a <xref:System.Data.DataColumnCollection> instance.</span></span> <span data-ttu-id="0673e-129">`DataColumnCollection` Třída zpřístupňuje událost. <xref:System.Data.DataColumnCollection.CollectionChanged></span><span class="sxs-lookup"><span data-stu-id="0673e-129">The `DataColumnCollection` class exposes a <xref:System.Data.DataColumnCollection.CollectionChanged> event.</span></span> <span data-ttu-id="0673e-130">Tato událost je aktivována, `DataColumn` když dojde k přidání, změně nebo odebrání `DataColumnCollection`z.</span><span class="sxs-lookup"><span data-stu-id="0673e-130">This event fires when a `DataColumn` is added, modified, or removed from the `DataColumnCollection`.</span></span> <span data-ttu-id="0673e-131">Úpravy, které způsobují, že událost vyvolá změny, obsahují změny názvu, typu, výrazu nebo pořadí sloupce.</span><span class="sxs-lookup"><span data-stu-id="0673e-131">Modifications that cause the event to fire include changes to the name, type, expression or ordinal position of a column.</span></span>  
  
 <span data-ttu-id="0673e-132"><xref:System.Data.DataSet.Tables%2A> Vlastnost<xref:System.Data.DataSet> obsahuje instanci<xref:System.Data.DataTableCollection> .</span><span class="sxs-lookup"><span data-stu-id="0673e-132">The <xref:System.Data.DataSet.Tables%2A> property of a <xref:System.Data.DataSet> holds a <xref:System.Data.DataTableCollection> instance.</span></span> <span data-ttu-id="0673e-133">Třída zpřístupňuje `CollectionChanged` a a `CollectionChanging` událost. `DataTableCollection`</span><span class="sxs-lookup"><span data-stu-id="0673e-133">The `DataTableCollection` class exposes both a `CollectionChanged` and a `CollectionChanging` event.</span></span> <span data-ttu-id="0673e-134">Tyto události `DataTable` se aktivují, když dojde k přidání nebo odebrání `DataSet`z.</span><span class="sxs-lookup"><span data-stu-id="0673e-134">These events fire when a `DataTable` is added to or removed from the `DataSet`.</span></span>  
  
 <span data-ttu-id="0673e-135">Změny, `DataRows` které mohou také aktivovat události pro související <xref:System.Data.DataView>.</span><span class="sxs-lookup"><span data-stu-id="0673e-135">Changes to `DataRows` can also trigger events for an associated <xref:System.Data.DataView>.</span></span> <span data-ttu-id="0673e-136">`DataView` Třída zveřejňuje`DataColumn` událost, která se aktivuje, když se změní hodnota nebo když se změní kompozice nebo pořadí řazení zobrazení. <xref:System.Data.DataView.ListChanged></span><span class="sxs-lookup"><span data-stu-id="0673e-136">The `DataView` class exposes a <xref:System.Data.DataView.ListChanged> event that fires when a `DataColumn` value changes or when the composition or sort order of the view changes.</span></span> <span data-ttu-id="0673e-137">Třída zveřejňuje událost, která se aktivuje, `DataColumn` když se změní přidružená hodnota. <xref:System.Data.DataRowView.PropertyChanged> <xref:System.Data.DataRowView></span><span class="sxs-lookup"><span data-stu-id="0673e-137">The <xref:System.Data.DataRowView> class exposes a <xref:System.Data.DataRowView.PropertyChanged> event that fires when an associated `DataColumn` value changes.</span></span>  
  
## <a name="sequence-of-operations"></a><span data-ttu-id="0673e-138">Posloupnost operací</span><span class="sxs-lookup"><span data-stu-id="0673e-138">Sequence of Operations</span></span>  
 <span data-ttu-id="0673e-139">Zde je posloupnost operací, ke kterým dochází při `DataRow` přidání, úpravě nebo odstranění:</span><span class="sxs-lookup"><span data-stu-id="0673e-139">Here is the sequence of operations that occur when a `DataRow` is added, modified, or deleted:</span></span>  
  
1. <span data-ttu-id="0673e-140">Vytvoří navržený záznam a použije změny.</span><span class="sxs-lookup"><span data-stu-id="0673e-140">Create the proposed record and apply any changes.</span></span>  
  
2. <span data-ttu-id="0673e-141">Ověřte omezení pro sloupce bez výrazu.</span><span class="sxs-lookup"><span data-stu-id="0673e-141">Check constraints for non-expression columns.</span></span>  
  
3. <span data-ttu-id="0673e-142">Vyvolejte události `RowDeleting`nebopodle potřeby. `RowChanging`</span><span class="sxs-lookup"><span data-stu-id="0673e-142">Raise the `RowChanging` or `RowDeleting` events as applicable.</span></span>  
  
4. <span data-ttu-id="0673e-143">Nastavte navrhovaný záznam jako aktuální záznam.</span><span class="sxs-lookup"><span data-stu-id="0673e-143">Set the proposed record to be the current record.</span></span>  
  
5. <span data-ttu-id="0673e-144">Aktualizujte všechny přidružené indexy.</span><span class="sxs-lookup"><span data-stu-id="0673e-144">Update any associated indexes.</span></span>  
  
6. <span data-ttu-id="0673e-145">Vyvolat `ListChanged` události pro přidružené `DataView` objekty a `PropertyChanged` události pro přidružené `DataRowView` objekty.</span><span class="sxs-lookup"><span data-stu-id="0673e-145">Raise `ListChanged` events for associated `DataView` objects and `PropertyChanged` events for associated `DataRowView` objects.</span></span>  
  
7. <span data-ttu-id="0673e-146">Vyhodnotit všechny sloupce výrazu, ale odložit kontrolu omezení pro tyto sloupce.</span><span class="sxs-lookup"><span data-stu-id="0673e-146">Evaluate all expression columns, but delay checking any constraints on these columns.</span></span>  
  
8. <span data-ttu-id="0673e-147">Vyvolat `ListChanged` události pro přidružené `DataView` objekty a `PropertyChanged` události pro přidružené `DataRowView` objekty ovlivněné hodnoceními sloupce výrazu.</span><span class="sxs-lookup"><span data-stu-id="0673e-147">Raise `ListChanged` events for associated `DataView` objects and `PropertyChanged` events for associated `DataRowView` objects affected by the expression column evaluations.</span></span>  
  
9. <span data-ttu-id="0673e-148">Vyvolat `RowChanged` události `RowDeleted` nebo podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="0673e-148">Raise `RowChanged` or `RowDeleted` events as applicable.</span></span>  
  
10. <span data-ttu-id="0673e-149">Kontroluje omezení pro sloupce výrazu.</span><span class="sxs-lookup"><span data-stu-id="0673e-149">Check constraints on expression columns.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0673e-150">Změny sloupců výrazů nikdy nevyvolávají `DataTable` události.</span><span class="sxs-lookup"><span data-stu-id="0673e-150">Changes to expression columns never raise `DataTable` events.</span></span> <span data-ttu-id="0673e-151">Změny ve sloupcích výrazu jsou pouze `DataView` vyvolání `DataRowView` a události.</span><span class="sxs-lookup"><span data-stu-id="0673e-151">Changes to expression columns only raise `DataView` and `DataRowView` events.</span></span> <span data-ttu-id="0673e-152">Sloupce výrazů mohou mít závislosti na více dalších sloupcích a lze je vyhodnotit několikrát během jedné `DataRow` operace.</span><span class="sxs-lookup"><span data-stu-id="0673e-152">Expression columns can have dependencies on multiple other columns, and can be evaluated multiple times during a single `DataRow` operation.</span></span> <span data-ttu-id="0673e-153">Každé vyhodnocení výrazu vyvolá události a jediná `DataRow` operace může vyvolat vícenásobné `ListChanged` události a `PropertyChanged` , pokud jsou ovlivněny sloupce výrazu, případně včetně více událostí pro stejný sloupec výrazu.</span><span class="sxs-lookup"><span data-stu-id="0673e-153">Each expression evaluation raises events, and a single `DataRow` operation can raise multiple `ListChanged` and `PropertyChanged` events when expression columns are affected, possibly including multiple events for the same expression column.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="0673e-154"><xref:System.NullReferenceException> Nevolejte`RowChanged` v rámci obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="0673e-154">Do not throw a <xref:System.NullReferenceException> within the `RowChanged` event handler.</span></span> <span data-ttu-id="0673e-155">Pokud je vyvolána `RowChanged` v rámci události a `DataTable`, pak `DataTable` bude poškozen. <xref:System.NullReferenceException></span><span class="sxs-lookup"><span data-stu-id="0673e-155">If a <xref:System.NullReferenceException> is thrown within the `RowChanged` event of a `DataTable`, then the `DataTable` will be corrupted.</span></span>  
  
### <a name="example"></a><span data-ttu-id="0673e-156">Příklad</span><span class="sxs-lookup"><span data-stu-id="0673e-156">Example</span></span>  
 <span data-ttu-id="0673e-157">Následující příklad ukazuje, jak vytvořit obslužné rutiny událostí pro `RowChanged`události `RowChanging`, `RowDeleted`, `RowDeleting`, `ColumnChanged`, `ColumnChanging`, `TableNewRow`, `TableCleared`, a `TableClearing` .</span><span class="sxs-lookup"><span data-stu-id="0673e-157">The following example demonstrates how to create event handlers for the `RowChanged`, `RowChanging`, `RowDeleted`, `RowDeleting`, `ColumnChanged`, `ColumnChanging`, `TableNewRow`, `TableCleared`, and `TableClearing` events.</span></span> <span data-ttu-id="0673e-158">Každá obslužná rutina události zobrazuje výstup v okně konzoly při jeho vyvolání.</span><span class="sxs-lookup"><span data-stu-id="0673e-158">Each event handler displays output in the console window when it is fired.</span></span>  
  
 [!code-csharp[DataWorks DataTable.Events#1](../../../../../samples/snippets/csharp/VS_Snippets_ADO.NET/DataWorks DataTable.Events/CS/source.cs#1)]
 [!code-vb[DataWorks DataTable.Events#1](../../../../../samples/snippets/visualbasic/VS_Snippets_ADO.NET/DataWorks DataTable.Events/VB/source.vb#1)]  
  
## <a name="see-also"></a><span data-ttu-id="0673e-159">Viz také:</span><span class="sxs-lookup"><span data-stu-id="0673e-159">See also</span></span>

- [<span data-ttu-id="0673e-160">Manipulace s daty v datové tabulce</span><span class="sxs-lookup"><span data-stu-id="0673e-160">Manipulating Data in a DataTable</span></span>](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/manipulating-data-in-a-datatable.md)
- [<span data-ttu-id="0673e-161">Zpracování událostí adaptéru dat</span><span class="sxs-lookup"><span data-stu-id="0673e-161">Handling DataAdapter Events</span></span>](../../../../../docs/framework/data/adonet/handling-dataadapter-events.md)
- [<span data-ttu-id="0673e-162">Zpracování událostí datové sady</span><span class="sxs-lookup"><span data-stu-id="0673e-162">Handling DataSet Events</span></span>](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/handling-dataset-events.md)
- [<span data-ttu-id="0673e-163">ADO.NET spravované zprostředkovatele a sady dat – středisko pro vývojáře</span><span class="sxs-lookup"><span data-stu-id="0673e-163">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
