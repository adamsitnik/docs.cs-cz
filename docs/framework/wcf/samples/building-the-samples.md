---
title: Ukázky vytváření Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
ms.openlocfilehash: b1f1005e32687d2683f757d847d9fa19e098f290
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/18/2019
ms.locfileid: "59317854"
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="9822c-102">Ukázky vytváření Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="9822c-102">Building the Windows Communication Foundation Samples</span></span>

<span data-ttu-id="9822c-103">Ukázky Windows Communication Foundation (WCF) může být sestaven pomocí integrovaného vývojového prostředí sady Visual Studio nebo **msbuild** příkazu z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="9822c-103">The Windows Communication Foundation (WCF) samples can be built using the Visual Studio IDE or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="9822c-104">Oba postupy jsou popsané v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="9822c-104">Both procedures are described in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="9822c-105">Před vytvářejí nebo s některým z ukázky WCF, ujistěte, že jste provedli [jednorázové postup nastavení pro ukázky Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="9822c-105">Before building or running any of the WCF samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>

## <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="9822c-106">K vytvoření vzorku pomocí příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="9822c-106">To build the sample using a command prompt</span></span>

1. <span data-ttu-id="9822c-107">Otevřete Developer Command Prompt pro sadu Visual Studio a přejděte do podadresáře konkrétní jazyk v části umístění adresáře, kam jste nainstalovali vzorku.</span><span class="sxs-lookup"><span data-stu-id="9822c-107">Open Developer Command Prompt for Visual Studio and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>

2. <span data-ttu-id="9822c-108">Typ `msbuild` na příkazovém řádku.</span><span class="sxs-lookup"><span data-stu-id="9822c-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="9822c-109">Programové soubory nástroje klienta jsou integrované do *client\bin* a programové soubory nástroje služby jsou integrované do *service\bin*.</span><span class="sxs-lookup"><span data-stu-id="9822c-109">The client program files are built to *client\bin* and the service program files are built to *service\bin*.</span></span> <span data-ttu-id="9822c-110">Pokud služba je hostována v Internetové informační služby (IIS), programové soubory nástroje služby jsou zkopírovány také do *servicemodelsamples* adresáře a jeho *\bin* podadresáře.</span><span class="sxs-lookup"><span data-stu-id="9822c-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the *servicemodelsamples* directory and its *\bin* subdirectory.</span></span>

> [!NOTE]
> <span data-ttu-id="9822c-111">Je potřeba nastavit seznamy ACL v *%systemdrive%\inetpub\wwwroot* udělit změnit oprávnění k účtu, pod kterým běží.</span><span class="sxs-lookup"><span data-stu-id="9822c-111">You must set the ACLs on *%systemdrive%\inetpub\wwwroot* to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="9822c-112">V opačném případě některé publikovat události selhání sestavení.</span><span class="sxs-lookup"><span data-stu-id="9822c-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="9822c-113">Alternativně můžete nechat seznamy ACL, jak jsou a spustit jako správce příkazový řádek sady SDK.</span><span class="sxs-lookup"><span data-stu-id="9822c-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>

## <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="9822c-114">K vytvoření vzorku pomocí sady Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9822c-114">To build the sample using Visual Studio</span></span>

1. <span data-ttu-id="9822c-115">Z **souboru** nabídky v sadě Visual Studio, vyberte **otevřít** > **projekt či řešení**.</span><span class="sxs-lookup"><span data-stu-id="9822c-115">From the **File** menu in Visual Studio, select **Open** > **Project/Solution**.</span></span> <span data-ttu-id="9822c-116">Přejděte do podadresáře konkrétní jazyk v adresáři, do které jste nainstalovali vzorku a dvakrát klikněte na ikonu souboru .sln k otevření řešení v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9822c-116">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in Visual Studio.</span></span>

1. <span data-ttu-id="9822c-117">Z **sestavení** nabídce vyberte možnost **znovu sestavit řešení**.</span><span class="sxs-lookup"><span data-stu-id="9822c-117">From the **Build** menu, select **Rebuild Solution**.</span></span>

   <span data-ttu-id="9822c-118">Programové soubory nástroje klienta jsou integrované do client\bin a programové soubory nástroje služby jsou integrované do service\bin.</span><span class="sxs-lookup"><span data-stu-id="9822c-118">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="9822c-119">Pokud služba je hostována ve službě IIS, programové soubory nástroje služby jsou zkopírovány také do *servicemodelsamples* adresáře a jeho *\bin* podadresáře.</span><span class="sxs-lookup"><span data-stu-id="9822c-119">If the service is hosted in IIS, the service program files are also copied to the *servicemodelsamples* directory and its *\bin* subdirectory.</span></span>

> [!NOTE]
> <span data-ttu-id="9822c-120">Je potřeba nastavit seznamy ACL v %systemdrive%\inetpub\wwwroot udělit změnit oprávnění k účtu, pod kterým běží.</span><span class="sxs-lookup"><span data-stu-id="9822c-120">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="9822c-121">V opačném případě některé publikovat události selhání sestavení.</span><span class="sxs-lookup"><span data-stu-id="9822c-121">Otherwise some post build events fail.</span></span> <span data-ttu-id="9822c-122">Alternativně můžete nechat seznamy ACL, jak jsou a spustit příkazový řádek sady SDK nebo Visual Studio jako správce.</span><span class="sxs-lookup"><span data-stu-id="9822c-122">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="9822c-123">Některé akce sady Visual Studio (jako je připojení ladicího programu k pracovnímu procesu ASP.Net) také vyžadují oprávnění správce.</span><span class="sxs-lookup"><span data-stu-id="9822c-123">Some Visual Studio actions (such as attaching a debugger to the ASP.Net worker process) also require administrative privileges.</span></span>

## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="9822c-124">Instalační program dávkové soubory a skripty</span><span class="sxs-lookup"><span data-stu-id="9822c-124">Setup Batch Files and Scripts</span></span>
 <span data-ttu-id="9822c-125">Setup.exe a Cleanup.exe dávkové soubory a skripty je vhodné spustit z příkazového řádku pro vývojáře pro sadu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9822c-125">Setup.exe and Cleanup.exe batch files and scripts should be run from Developer Command Prompt for Visual Studio.</span></span> <span data-ttu-id="9822c-126">Několik set up a čištění souborů provádět úlohy, které vyžadují oprávnění správce a má být spuštěna s oprávněním správce.</span><span class="sxs-lookup"><span data-stu-id="9822c-126">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>

## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="9822c-127">Důležité informace o zabezpečení o koncové body metadat</span><span class="sxs-lookup"><span data-stu-id="9822c-127">Important Security Information about Metadata Endpoints</span></span>
 <span data-ttu-id="9822c-128">Pokud chcete zabránit neúmyslnému zveřejnění metadat služby potenciálně citlivých, výchozí konfigurace pro služby Windows Communication Foundation (WCF) zakáže publikování metadat.</span><span class="sxs-lookup"><span data-stu-id="9822c-128">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for Windows Communication Foundation (WCF) services disables metadata publishing.</span></span> <span data-ttu-id="9822c-129">Toto chování je ve výchozím nastavení zabezpečený, ale také znamená, že nemůžete použít metadat importovat nástroj (například Svcutil.exe) ke generování kódu klienta, který je potřeba volat službu, není-li v konfiguraci není explicitně povoleno chování publikování metadat služby.</span><span class="sxs-lookup"><span data-stu-id="9822c-129">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="9822c-130">Aby experimentování s ukázkami jednodušší, zveřejnit téměř všechny ukázky koncový bod publikování nezabezpečené metadat.</span><span class="sxs-lookup"><span data-stu-id="9822c-130">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="9822c-131">Tyto koncové body jsou potenciálně dostupné pro anonymní neověřené uživatele a musí tak, aby byl veřejně pocházejí metadata služby odpovídající věnovat pozornost před nasazením tyto koncové body.</span><span class="sxs-lookup"><span data-stu-id="9822c-131">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> <span data-ttu-id="9822c-132">Další informace o publikování metadat služby, najdete v článku [chování publikování metadat](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) vzorku.</span><span class="sxs-lookup"><span data-stu-id="9822c-132">For more information about publishing service metadata, see the [Metadata Publishing Behavior](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="9822c-133">Najdete v článku [koncový bod metadat zabezpečení vlastní](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) ukázka ukázku zabezpečení koncových bodů metadat.</span><span class="sxs-lookup"><span data-stu-id="9822c-133">See the [Custom Secure Metadata Endpoint](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>

## <a name="exception-handling"></a><span data-ttu-id="9822c-134">Zpracování výjimek</span><span class="sxs-lookup"><span data-stu-id="9822c-134">Exception Handling</span></span>
 <span data-ttu-id="9822c-135">Obecně řečeno tyto ukázky neobsahují kód, zaměřuje na předmět ukázky zpracování výjimek.</span><span class="sxs-lookup"><span data-stu-id="9822c-135">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> <span data-ttu-id="9822c-136">Další informace o zpracování výjimek naleznete v tématu [očekávané výjimky](../../../../docs/framework/wcf/samples/expected-exceptions.md) vzorku.</span><span class="sxs-lookup"><span data-stu-id="9822c-136">For more information about exception handling, see the [Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) sample.</span></span>

## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="9822c-137">Znova se generuje klienty a konfiguraci s Svcutil</span><span class="sxs-lookup"><span data-stu-id="9822c-137">Regenerating Clients and Configuration with Svcutil</span></span>
 <span data-ttu-id="9822c-138">Můžete použít [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) se znova vygenerovat kód klienta a konfigurace pro většinu z ukázek.</span><span class="sxs-lookup"><span data-stu-id="9822c-138">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="9822c-139">Některé ukázky vyžadují ručně upravené konfigurace.</span><span class="sxs-lookup"><span data-stu-id="9822c-139">Some samples require manually edited configuration.</span></span> <span data-ttu-id="9822c-140">Například pokud používáte Svcutil.exe k opětovnému vytvoření konfigurace ukázku, která používá přihlašovací údaje pro klienta certifikát, musíte ručně zadat přihlašovací údaje, které jste dříve nakonfigurovali.</span><span class="sxs-lookup"><span data-stu-id="9822c-140">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="9822c-141">Některé ukázky použít specifické možnosti Svcutil.exe ovlivnit generovaného kódu, tyto možnosti se uvádějí ve vzorku konkrétní témata.</span><span class="sxs-lookup"><span data-stu-id="9822c-141">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>

### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="9822c-142">Znovu vygenerovat klienta a konfigurační soubory</span><span class="sxs-lookup"><span data-stu-id="9822c-142">To regenerate the client and configuration files</span></span>

1. <span data-ttu-id="9822c-143">Otevřete příkazový řádek sady SDK a přejděte do podadresáře konkrétní jazyk v části umístění adresáře, kam jste nainstalovali vzorku.</span><span class="sxs-lookup"><span data-stu-id="9822c-143">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>

2. <span data-ttu-id="9822c-144">Pokud je služba Web hostovaný typ, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="9822c-144">If the service is a Web-hosted type, use the following command.</span></span>

    ```
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs
    ```

     <span data-ttu-id="9822c-145">Pokud je služba v místním prostředí zadáním následujícího příkazu.</span><span class="sxs-lookup"><span data-stu-id="9822c-145">If the service is a self-hosted type the following command.</span></span>

    ```
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs
    ```

     <span data-ttu-id="9822c-146">Nahraďte `http://localhost:8000/ServiceModelSamples/service.svc/mex` adresu koncového bodu mex služba v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="9822c-146">Replace `http://localhost:8000/ServiceModelSamples/service.svc/mex` with the address of the self-hosted service's mex endpoint.</span></span>

     <span data-ttu-id="9822c-147">Ke generování klienta v jazyce Visual Basic typu, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="9822c-147">To generate the client in a Visual Basic type, use the following command.</span></span>

    ```
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb
    ```

     <span data-ttu-id="9822c-148">Pokud je služba typu v místním prostředí, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="9822c-148">If the service is a self-hosted type, use the following command.</span></span>

    ```
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb
    ```

    > [!NOTE]
    > <span data-ttu-id="9822c-149">Chcete-li přeskočit generování konfigurace klienta přidat **/noconfig** možnost.</span><span class="sxs-lookup"><span data-stu-id="9822c-149">To skip the generation of client configuration add the **/noConfig** option.</span></span>

## <a name="see-also"></a><span data-ttu-id="9822c-150">Viz také:</span><span class="sxs-lookup"><span data-stu-id="9822c-150">See also</span></span>

- [<span data-ttu-id="9822c-151">Spouštění ukázek Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="9822c-151">Running the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/running-the-samples.md)
- [<span data-ttu-id="9822c-152">Nástroj metadat modelu služby (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="9822c-152">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
