---
title: Rozšíření dispečerů
ms.date: 03/30/2017
helpviewer_keywords:
- dispatcher extensions [WCF]
ms.assetid: d0ad15ac-fa12-4f27-80e8-7ac2271e5985
ms.openlocfilehash: ac20e24eb9148ed9d403b7a9c2c260009f39d492
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59335027"
---
# <a name="extending-dispatchers"></a><span data-ttu-id="71710-102">Rozšíření dispečerů</span><span class="sxs-lookup"><span data-stu-id="71710-102">Extending Dispatchers</span></span>
<span data-ttu-id="71710-103">Dispečerů zodpovídají za přesun příchozí zprávy z podkladové kanály, překládá na volání metod v kódu aplikace a odesílá výsledky zpět volajícímu.</span><span class="sxs-lookup"><span data-stu-id="71710-103">Dispatchers are responsible for pulling incoming messages out of the underlying channels, translating them into method invocations in application code, and sending the results back to the caller.</span></span> <span data-ttu-id="71710-104">Rozšíření dispečerů umožňují upravit toto zpracování.</span><span class="sxs-lookup"><span data-stu-id="71710-104">Dispatcher extensions allow you to modify this processing.</span></span>  <span data-ttu-id="71710-105">Můžete implementovat zpráv nebo parametr kontroly, které zkontrolovat nebo změnit obsah zprávy nebo parametry.</span><span class="sxs-lookup"><span data-stu-id="71710-105">You can implement message or parameter inspectors that inspect or modify the contents of messages or parameters.</span></span>  <span data-ttu-id="71710-106">Můžete změnit tak, jak zprávy jsou směrovány na operace nebo poskytuje některé další funkce.</span><span class="sxs-lookup"><span data-stu-id="71710-106">You can change the way messages are routed to operations or provide some other functionality.</span></span>  
  
 <span data-ttu-id="71710-107">Toto téma popisuje způsob použití <xref:System.ServiceModel.Dispatcher.DispatchRuntime> a <xref:System.ServiceModel.Dispatcher.DispatchOperation> aplikace změnit výchozí chování spuštění dispečera nebo chcete zachytit změny zpráv, parametry nebo vrátit služby třídy v Windows Communication Foundation (WCF) hodnoty před nebo po odeslání nebo načítání z vrstvy kanálu.</span><span class="sxs-lookup"><span data-stu-id="71710-107">This topic describes how to use the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes in a Windows Communication Foundation (WCF) service application to modify the default execution behavior of a dispatcher or to intercept or modify messages, parameters, or return values prior to or subsequent to sending or retrieving them from the channel layer.</span></span> <span data-ttu-id="71710-108">Další informace o zpracování zpráv modulu runtime ekvivalentní klienta najdete v tématu [rozšíření klienti](../../../../docs/framework/wcf/extending/extending-clients.md).</span><span class="sxs-lookup"><span data-stu-id="71710-108">For more information about the equivalent client runtime message processing, see [Extending Clients](../../../../docs/framework/wcf/extending/extending-clients.md).</span></span> <span data-ttu-id="71710-109">K Seznamte se s rolí, která <xref:System.ServiceModel.IExtensibleObject%601> typy přehrávat k používání sdíleného stavu mezi různými objekty modulu runtime přizpůsobení, najdete v článku [rozšiřitelné objekty](../../../../docs/framework/wcf/extending/extensible-objects.md).</span><span class="sxs-lookup"><span data-stu-id="71710-109">To understand the role that <xref:System.ServiceModel.IExtensibleObject%601> types play in accessing shared state between various runtime customization objects, see [Extensible Objects](../../../../docs/framework/wcf/extending/extensible-objects.md).</span></span>  
  
## <a name="dispatchers"></a><span data-ttu-id="71710-110">Dispečerů</span><span class="sxs-lookup"><span data-stu-id="71710-110">Dispatchers</span></span>  
 <span data-ttu-id="71710-111">Vrstva modelu služby provede převod mezi programovací model pro vývojáře a základní výměně zpráv, běžně nazývá vrstvě kanálu.</span><span class="sxs-lookup"><span data-stu-id="71710-111">The service model layer performs the conversion between the developer’s programming model and the underlying message exchange, commonly called the channel layer.</span></span> <span data-ttu-id="71710-112">V kanálu WCF a dispečerů koncový bod (<xref:System.ServiceModel.Dispatcher.ChannelDispatcher> a <xref:System.ServiceModel.Dispatcher.EndpointDispatcher>v uvedeném pořadí) odpovídají součásti služby pro příjem nových kanálů a přijímat zprávy, operace odesílání a vyvolání a zpracování odpovědi.</span><span class="sxs-lookup"><span data-stu-id="71710-112">In WCF the channel and endpoint dispatchers (<xref:System.ServiceModel.Dispatcher.ChannelDispatcher> and <xref:System.ServiceModel.Dispatcher.EndpointDispatcher>, respectively) are the service components responsible for accepting new channels, receiving messages, operation dispatch and invocation, and response processing.</span></span> <span data-ttu-id="71710-113">Dispečer objekty jsou objekty příjemce, ale implementace kontraktu zpětného volání v duplexní služby také zveřejnit své objekty odesílatele pro kontrolu, úpravy nebo rozšíření.</span><span class="sxs-lookup"><span data-stu-id="71710-113">Dispatcher objects are receiver objects, but callback contract implementations in duplex services also expose their dispatcher objects for inspection, modification, or extension.</span></span>  
  
 <span data-ttu-id="71710-114">Dispečer kanálu (a doprovodné <xref:System.ServiceModel.Channels.IChannelListener>) přetáhne zprávy z kanálu identifikátor a předává zprávy do jejich dispečerů příslušný koncový bod.</span><span class="sxs-lookup"><span data-stu-id="71710-114">The channel dispatcher (and companion <xref:System.ServiceModel.Channels.IChannelListener>) pulls messages out of the underling channel and passes the messages to their respective endpoint dispatchers.</span></span> <span data-ttu-id="71710-115">Má každý Dispečer koncového bodu <xref:System.ServiceModel.Dispatcher.DispatchRuntime> , který provádí směrování zpráv do příslušné <xref:System.ServiceModel.Dispatcher.DispatchOperation>, která zodpovídá za volání metody, která implementuje operaci.</span><span class="sxs-lookup"><span data-stu-id="71710-115">Each endpoint dispatcher has a <xref:System.ServiceModel.Dispatcher.DispatchRuntime> that routes messages to the appropriate <xref:System.ServiceModel.Dispatcher.DispatchOperation>, which is responsible for calling the method that implements the operation.</span></span> <span data-ttu-id="71710-116">Různé povinných a volitelných rozšíření třídy jsou vyvolány na cestě.</span><span class="sxs-lookup"><span data-stu-id="71710-116">Various optional and required extension classes are invoked along the way.</span></span> <span data-ttu-id="71710-117">Toto téma vysvětluje, jak přizpůsobit tyto kusy dohromady, a jak upravit vlastnosti a zapojte vlastní kód rozšířit základní funkce.</span><span class="sxs-lookup"><span data-stu-id="71710-117">This topic explains how these pieces fit together, and how you might modify properties and plug your own code in to extend the base functionality.</span></span>  
  
 <span data-ttu-id="71710-118">Dispečer vlastností a změny přizpůsobení objektů jsou vloženy pomocí objektů chování služby, koncový bod, smlouvy nebo operace.</span><span class="sxs-lookup"><span data-stu-id="71710-118">Dispatcher properties and modified customization objects are inserted by using service, endpoint, contract, or operation behavior objects.</span></span> <span data-ttu-id="71710-119">Toto téma nepopisuje použití chování.</span><span class="sxs-lookup"><span data-stu-id="71710-119">This topic does not describe how to use behaviors.</span></span> <span data-ttu-id="71710-120">Další informace o typech vkládá dispečer změny, najdete v části [konfigurace a rozšíření modulu Runtime s chováním](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="71710-120">For more information about the types used to insert dispatcher modifications, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="71710-121">Následující obrázek poskytuje souhrnný přehled architektury položky ve službě.</span><span class="sxs-lookup"><span data-stu-id="71710-121">The following graphic provides a high-level view of the architectural items in a service.</span></span>  
  
 <span data-ttu-id="71710-122">![Architektura modulu runtime odeslání](../../../../docs/framework/wcf/extending/media/wcfc-dispatchruntimearchc.gif "wcfc_DispatchRuntimeArchc")</span><span class="sxs-lookup"><span data-stu-id="71710-122">![The dispatch runtime architecture](../../../../docs/framework/wcf/extending/media/wcfc-dispatchruntimearchc.gif "wcfc_DispatchRuntimeArchc")</span></span>  
  
### <a name="channel-dispatchers"></a><span data-ttu-id="71710-123">Kanál dispečerů</span><span class="sxs-lookup"><span data-stu-id="71710-123">Channel Dispatchers</span></span>  
 <span data-ttu-id="71710-124">A <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> objekt je vytvořen pro přidružení <xref:System.ServiceModel.Channels.IChannelListener> konkrétní identifikátorem URI (označované jako identifikátor URI příposlechu) s instancí služby.</span><span class="sxs-lookup"><span data-stu-id="71710-124">A <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> object is created to associate an <xref:System.ServiceModel.Channels.IChannelListener> at a particular URI (called a listen URI) with an instance of a service.</span></span> <span data-ttu-id="71710-125">Každý <xref:System.ServiceModel.ServiceHost> objekt může mít mnoho <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> objekty, každý přidružený pouze jeden naslouchací proces a poslechem identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="71710-125">Each <xref:System.ServiceModel.ServiceHost> object can have many <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> objects, each associated with only one listener and listen URI.</span></span> <span data-ttu-id="71710-126">Při doručení zprávy <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> dotazuje všech přidružených <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objekty, jestli koncový bod může přijmout zprávu a předá zprávu do objektu, která se dá.</span><span class="sxs-lookup"><span data-stu-id="71710-126">When a message arrives, the <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> queries each of the associated <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects whether the endpoint can accept the message, and passes the message to the one that can.</span></span>  
  
 <span data-ttu-id="71710-127">Jsou k dispozici pro kontrolu nebo úprav na všechny vlastnosti, které řídí životnost a chování kanálu relace <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> objektu.</span><span class="sxs-lookup"><span data-stu-id="71710-127">All properties that control the lifetime and behavior of a channel session are available for inspection or modification on the <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> object.</span></span> <span data-ttu-id="71710-128">Patří mezi ně vlastní kanál inicializátory, modul pro naslouchání kanálu, hostitele, přidružené <xref:System.ServiceModel.InstanceContext>, a tak dále.</span><span class="sxs-lookup"><span data-stu-id="71710-128">These include custom channel initializers, the channel listener, the host, the associated <xref:System.ServiceModel.InstanceContext>, and so on.</span></span>  
  
### <a name="endpoint-dispatchers"></a><span data-ttu-id="71710-129">Koncový bod dispečerů</span><span class="sxs-lookup"><span data-stu-id="71710-129">Endpoint Dispatchers</span></span>  
 <span data-ttu-id="71710-130"><xref:System.ServiceModel.Dispatcher.EndpointDispatcher> Objektu je zodpovědná za zpracování zpráv ze <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> když cílová adresa zpráva odpovídá <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A> a akce odpovídá zprávě <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.ContractFilter%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="71710-130">The <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> object is responsible for processing messages from a <xref:System.ServiceModel.Dispatcher.ChannelDispatcher> when the destination address of a message matches the <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A> and the message action matches the <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.ContractFilter%2A> property.</span></span> <span data-ttu-id="71710-131">Pokud dvě <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objekty může přijmout zprávu, <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.FilterPriority%2A> Určuje hodnotu vlastnosti vyšší prioritního koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="71710-131">If two <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects can accept a message, the <xref:System.ServiceModel.Dispatcher.EndpointDispatcher.FilterPriority%2A> property value determines the higher priority endpoint.</span></span>  
  
 <span data-ttu-id="71710-132">Použít <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> získat dvě hlavní součásti služby modelu Rozšiřovací body – <xref:System.ServiceModel.Dispatcher.DispatchRuntime> a <xref:System.ServiceModel.Dispatcher.DispatchOperation> třídy –, můžete použít k přizpůsobení zpracování dispečer.</span><span class="sxs-lookup"><span data-stu-id="71710-132">Use the <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> to acquire the two main service model extension points – the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes – that you can use to customize the processing of the dispatcher.</span></span> <span data-ttu-id="71710-133"><xref:System.ServiceModel.Dispatcher.DispatchRuntime> Třída umožňuje uživatelům zachytit a rozšířit dispečer v oboru kontraktu (to znamená, že pro všechny zprávy ve smlouvě).</span><span class="sxs-lookup"><span data-stu-id="71710-133">The <xref:System.ServiceModel.Dispatcher.DispatchRuntime> class allows users to intercept and extend the dispatcher at the contract scope (that is, for all messages in a contract).</span></span> <span data-ttu-id="71710-134"><xref:System.ServiceModel.Dispatcher.DispatchOperation> Třída umožňuje uživatelům zachytit a rozšířit dispečer ve operace oboru (to znamená, že pro všechny zprávy v operaci).</span><span class="sxs-lookup"><span data-stu-id="71710-134">The <xref:System.ServiceModel.Dispatcher.DispatchOperation> class allows users to intercept and extend the dispatcher at an operation scope (that is, for all messages in an operation).</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="71710-135">Scénáře</span><span class="sxs-lookup"><span data-stu-id="71710-135">Scenarios</span></span>  
 <span data-ttu-id="71710-136">Tam několik důvodů, proč rozšíření dispečer:</span><span class="sxs-lookup"><span data-stu-id="71710-136">There a number of reasons to extend the dispatcher:</span></span>  
  
-   <span data-ttu-id="71710-137">Ověření vlastní zprávu.</span><span class="sxs-lookup"><span data-stu-id="71710-137">Custom Message Validation.</span></span> <span data-ttu-id="71710-138">Uživatelé můžou vynutit platnost zprávy pro určité schéma.</span><span class="sxs-lookup"><span data-stu-id="71710-138">Users can enforce that a message is valid for a certain schema.</span></span> <span data-ttu-id="71710-139">To můžete udělat pomocí implementace rozhraní zachycování zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-139">This can be done by implementing the message interceptor interfaces.</span></span> <span data-ttu-id="71710-140">Příklad najdete v tématu [Messageinspectors](../../../../docs/framework/wcf/samples/message-inspectors.md).</span><span class="sxs-lookup"><span data-stu-id="71710-140">For an example, see [Message Inspectors](../../../../docs/framework/wcf/samples/message-inspectors.md).</span></span>  
  
-   <span data-ttu-id="71710-141">Protokolování vlastních zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-141">Custom Message Logging.</span></span> <span data-ttu-id="71710-142">Uživatele můžete zkontrolovat a některé sadu zpráv aplikace, které probíhá přes koncový bod protokolu.</span><span class="sxs-lookup"><span data-stu-id="71710-142">Users can inspect and log some set of application messages that flow through an endpoint.</span></span> <span data-ttu-id="71710-143">To můžete provést také pomocí rozhraní zachycování zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-143">This can also be accomplished with the message interceptor interfaces.</span></span>  
  
-   <span data-ttu-id="71710-144">Vlastní zpráva transformace.</span><span class="sxs-lookup"><span data-stu-id="71710-144">Custom Message Transformations.</span></span> <span data-ttu-id="71710-145">Uživatele můžete použít některé transformace zprávy v modulu runtime (například Správa verzí).</span><span class="sxs-lookup"><span data-stu-id="71710-145">Users can apply certain transformations to the message in the runtime (for example, for versioning).</span></span> <span data-ttu-id="71710-146">Toho můžete docílit, znovu s rozhraním zachycování zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-146">This can be accomplished, again, with the message interceptor interfaces.</span></span>  
  
-   <span data-ttu-id="71710-147">Vlastní datový Model.</span><span class="sxs-lookup"><span data-stu-id="71710-147">Custom Data Model.</span></span> <span data-ttu-id="71710-148">Uživatelé mohou mít modelem serializace dat než ty, které nepodporuje ve výchozím nastavení ve službě WCF (konkrétně <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>a nezpracované zprávy).</span><span class="sxs-lookup"><span data-stu-id="71710-148">Users can have a data serialization model other than those supported by default in WCF (namely, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, and raw messages).</span></span> <span data-ttu-id="71710-149">To můžete udělat pomocí implementace rozhraní formátovací modul zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-149">This can be done by implement the message formatter interfaces.</span></span> <span data-ttu-id="71710-150">Příklad najdete v tématu [formátovací modul a selektor operace](../../../../docs/framework/wcf/samples/operation-formatter-and-operation-selector.md).</span><span class="sxs-lookup"><span data-stu-id="71710-150">For an example, see [Operation Formatter and Operation Selector](../../../../docs/framework/wcf/samples/operation-formatter-and-operation-selector.md).</span></span>  
  
-   <span data-ttu-id="71710-151">Ověření vlastního parametru.</span><span class="sxs-lookup"><span data-stu-id="71710-151">Custom Parameter Validation.</span></span> <span data-ttu-id="71710-152">Uživatelé můžou vynutit, že zadané parametry jsou platné (na rozdíl od XML).</span><span class="sxs-lookup"><span data-stu-id="71710-152">Users can enforce that typed parameters are valid (as opposed to XML).</span></span> <span data-ttu-id="71710-153">To lze provést pomocí rozhraní inspektoru parametru.</span><span class="sxs-lookup"><span data-stu-id="71710-153">This can be done using the parameter inspector interfaces.</span></span>  
  
-   <span data-ttu-id="71710-154">Vlastní operace odeslání.</span><span class="sxs-lookup"><span data-stu-id="71710-154">Custom Operation Dispatching.</span></span> <span data-ttu-id="71710-155">Uživatelé můžou implementovat odesílání na něco jiného než akce – třeba na body element nebo u vlastnosti vlastní zprávy.</span><span class="sxs-lookup"><span data-stu-id="71710-155">Users can implement dispatching on something other than action – for example, on the body element, or on a custom message property.</span></span> <span data-ttu-id="71710-156">To lze provést pomocí <xref:System.ServiceModel.Dispatcher.IDispatchOperationSelector> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="71710-156">This can be done using the <xref:System.ServiceModel.Dispatcher.IDispatchOperationSelector> interface.</span></span> <span data-ttu-id="71710-157">Příklad najdete v tématu [formátovací modul a selektor operace](../../../../docs/framework/wcf/samples/operation-formatter-and-operation-selector.md).</span><span class="sxs-lookup"><span data-stu-id="71710-157">For an example, see [Operation Formatter and Operation Selector](../../../../docs/framework/wcf/samples/operation-formatter-and-operation-selector.md).</span></span>  
  
-   <span data-ttu-id="71710-158">Sdružování objektů.</span><span class="sxs-lookup"><span data-stu-id="71710-158">Object Pooling.</span></span> <span data-ttu-id="71710-159">Uživatele může vytvořit fond instancí namísto vynakládání nový účtujeme každé volání.</span><span class="sxs-lookup"><span data-stu-id="71710-159">Users can pool instances rather than allocating a new one for every call.</span></span> <span data-ttu-id="71710-160">To je možné implementovat pomocí rozhraní instance zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="71710-160">This can be implemented using the instance provider interfaces.</span></span> <span data-ttu-id="71710-161">Příklad najdete v tématu [Sdužování](../../../../docs/framework/wcf/samples/pooling.md).</span><span class="sxs-lookup"><span data-stu-id="71710-161">For an example, see [Pooling](../../../../docs/framework/wcf/samples/pooling.md).</span></span>  
  
-   <span data-ttu-id="71710-162">Instance zapůjčení.</span><span class="sxs-lookup"><span data-stu-id="71710-162">Instance Leasing.</span></span> <span data-ttu-id="71710-163">Uživatelé můžou implementovat koordinovala vzor pro instanci životnost, podobně jako u vzdálené komunikace .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="71710-163">Users can implement a leasing pattern for instance lifetime, similar to that of .NET Framework Remoting.</span></span> <span data-ttu-id="71710-164">To lze provést pomocí rozhraní životnost instance kontextu.</span><span class="sxs-lookup"><span data-stu-id="71710-164">This can be done using the instance context lifetime interfaces.</span></span>  
  
-   <span data-ttu-id="71710-165">Zpracování vlastních chyb.</span><span class="sxs-lookup"><span data-stu-id="71710-165">Custom Error Handling.</span></span> <span data-ttu-id="71710-166">Uživatelé můžou řídit, jak obě místní chyby se zpracovávají a jak se předávají chyby zpět klientům.</span><span class="sxs-lookup"><span data-stu-id="71710-166">Users can control how both local errors are processed and how faults are communicated back to clients.</span></span> <span data-ttu-id="71710-167">Je možné takovou implementaci pomocí <xref:System.ServiceModel.Dispatcher.IErrorHandler> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="71710-167">This can be implemented using the <xref:System.ServiceModel.Dispatcher.IErrorHandler> interfaces.</span></span>  
  
-   <span data-ttu-id="71710-168">Vlastní autorizace chování.</span><span class="sxs-lookup"><span data-stu-id="71710-168">Custom Authorization Behaviors.</span></span> <span data-ttu-id="71710-169">Uživatelé můžou implementovat řízení přístupu na vlastní rozšíření za běhu kusy smlouvy nebo operace a přidáním kontroly zabezpečení na základě tokenů ve zprávě.</span><span class="sxs-lookup"><span data-stu-id="71710-169">Users can implement custom access control by extending the Contract or Operation run-time pieces and adding security checks based upon the tokens present in the message.</span></span> <span data-ttu-id="71710-170">To lze provést pomocí zachycování zpráv nebo parametr zachycování rozhraní.</span><span class="sxs-lookup"><span data-stu-id="71710-170">This can be accomplished using either the message interceptor or parameter interceptor interfaces.</span></span> <span data-ttu-id="71710-171">Příklady najdete v tématu [rozšiřitelnost zabezpečení](../../../../docs/framework/wcf/samples/security-extensibility.md).</span><span class="sxs-lookup"><span data-stu-id="71710-171">For examples, see [Security Extensibility](../../../../docs/framework/wcf/samples/security-extensibility.md).</span></span>  
  
    > [!CAUTION]
    >  <span data-ttu-id="71710-172">Protože změny vlastností zabezpečení má potenciál k ohrožení zabezpečení aplikací služby WCF, je důrazně doporučujeme, které provádějí související se zabezpečením úprav opatrně a důkladně otestovat před nasazením.</span><span class="sxs-lookup"><span data-stu-id="71710-172">Because altering security properties has the potential to compromise the security of WCF applications, it is strongly recommended that you undertake security-related modifications with care and test thoroughly prior to deployment.</span></span>  
  
-   <span data-ttu-id="71710-173">Vlastní WCF validátory modulu Runtime.</span><span class="sxs-lookup"><span data-stu-id="71710-173">Custom WCF Runtime Validators.</span></span> <span data-ttu-id="71710-174">Můžete nainstalovat vlastní validátory, které zkontrolujte služby, kontrakty a vazby k vynucení zásad na úrovni rozlehlé sítě s ohledem na aplikací služby WCF.</span><span class="sxs-lookup"><span data-stu-id="71710-174">You can install custom validators that examine services, contracts, and bindings to enforce enterprise-level policies with respect to WCF applications.</span></span> <span data-ttu-id="71710-175">(Viz například [jak: Uzamknutí koncových bodů v podniku](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).)</span><span class="sxs-lookup"><span data-stu-id="71710-175">(For example, see [How to: Lock Down Endpoints in the Enterprise](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).)</span></span>  
  
### <a name="using-the-dispatchruntime-class"></a><span data-ttu-id="71710-176">Pomocí třídy DispatchRuntime</span><span class="sxs-lookup"><span data-stu-id="71710-176">Using the DispatchRuntime Class</span></span>  
 <span data-ttu-id="71710-177">Použití <xref:System.ServiceModel.Dispatcher.DispatchRuntime> třídy změnit výchozí chování služby nebo jednotlivé koncového bodu nebo vložit objekty, které implementují vlastní úpravy na jeden nebo oba tyto procesy služeb (nebo procesy klienta v případě duplexní klienta):</span><span class="sxs-lookup"><span data-stu-id="71710-177">Use the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> class either to modify the default behavior of a service or individual endpoint, or to insert objects that implement custom modifications to one or both of the following service processes (or client processes in the case of a duplex client):</span></span>  
  
-   <span data-ttu-id="71710-178">Transformaci příchozích zpráv do objektů a uvolněním těchto objektů jako volání metod na objekt služby.</span><span class="sxs-lookup"><span data-stu-id="71710-178">The transformation of incoming messages into objects and releasing those objects as method invocations on a service object.</span></span>  
  
-   <span data-ttu-id="71710-179">Transformace objektů přijatých z odpovědi k volání operace služby do odchozích zpráv.</span><span class="sxs-lookup"><span data-stu-id="71710-179">The transformation of objects received from the response to a service operation invocation into outbound messages.</span></span>  
  
 <span data-ttu-id="71710-180"><xref:System.ServiceModel.Dispatcher.DispatchRuntime> Vám umožní zachytit a rozšířit dispečer kanálu nebo koncový bod pro všechny zprávy přes konkrétní kontraktu i v případě, že zprávy nebyl rozpoznán.</span><span class="sxs-lookup"><span data-stu-id="71710-180">The <xref:System.ServiceModel.Dispatcher.DispatchRuntime> enables you to intercept and extend the channel or endpoint dispatcher for all messages across a particular contract, even when a message is not recognized.</span></span> <span data-ttu-id="71710-181">Při přijetí e-mailu, který neodpovídá žádnému deklarované v kontraktu se odesílají do operace vrácené <xref:System.ServiceModel.Dispatcher.DispatchRuntime.UnhandledDispatchOperation%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="71710-181">When a message arrives that does not match any declared in the contract it is dispatched to the operation returned by the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.UnhandledDispatchOperation%2A> property.</span></span> <span data-ttu-id="71710-182">Zachytit nebo přesahují všechny zprávy pro určité operace, najdete v článku <xref:System.ServiceModel.Dispatcher.DispatchOperation> třídy.</span><span class="sxs-lookup"><span data-stu-id="71710-182">To intercept or extend across all messages for a particular operation, see the <xref:System.ServiceModel.Dispatcher.DispatchOperation> class.</span></span>  
  
 <span data-ttu-id="71710-183">Existují čtyři hlavní oblasti dispečer rozšiřitelnosti vystavené <xref:System.ServiceModel.Dispatcher.DispatchRuntime> třídy:</span><span class="sxs-lookup"><span data-stu-id="71710-183">There are four main areas of dispatcher extensibility exposed by the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> class:</span></span>  
  
1. <span data-ttu-id="71710-184">Komponentů kanálu používat vlastnosti objektů <xref:System.ServiceModel.Dispatcher.DispatchRuntime> i u dispečer přidružené kanálu vrácené <xref:System.ServiceModel.Dispatcher.DispatchRuntime.ChannelDispatcher%2A> vlastnost přizpůsobit jak dispečer kanálu přijímá a zavře kanály.</span><span class="sxs-lookup"><span data-stu-id="71710-184">Channel components use the properties of the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and those of the associated channel dispatcher returned by the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.ChannelDispatcher%2A> property to customize how the channel dispatcher accepts and closes channels.</span></span> <span data-ttu-id="71710-185">Tato kategorie zahrnuje <xref:System.ServiceModel.Dispatcher.ChannelDispatcher.ChannelInitializers%2A> a <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InputSessionShutdownHandlers%2A> vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="71710-185">This category includes the <xref:System.ServiceModel.Dispatcher.ChannelDispatcher.ChannelInitializers%2A> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InputSessionShutdownHandlers%2A> properties.</span></span>  
  
2. <span data-ttu-id="71710-186">Zprávy součásti jsou přizpůsobená pro každou zprávu zpracovat.</span><span class="sxs-lookup"><span data-stu-id="71710-186">Message components are customized for each message processed.</span></span> <span data-ttu-id="71710-187">Tato kategorie zahrnuje <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>, <xref:System.ServiceModel.Dispatcher.DispatchRuntime.OperationSelector%2A>, <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A>a <xref:System.ServiceModel.Dispatcher.ChannelDispatcher.ErrorHandlers%2A> vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="71710-187">This category includes the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>, <xref:System.ServiceModel.Dispatcher.DispatchRuntime.OperationSelector%2A>, <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A>, and the <xref:System.ServiceModel.Dispatcher.ChannelDispatcher.ErrorHandlers%2A> properties.</span></span>  
  
3. <span data-ttu-id="71710-188">Instance součásti přizpůsobit vytváření, doba platnosti a vyřazení instance daného typu služby.</span><span class="sxs-lookup"><span data-stu-id="71710-188">Instance components customize the creation, lifetime, and disposal of instances of the service type.</span></span> <span data-ttu-id="71710-189">Další informace o životnosti objektu služby, najdete v článku <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="71710-189">For more information about service object lifetimes, see the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> property.</span></span> <span data-ttu-id="71710-190">Tato kategorie zahrnuje <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InstanceContextInitializers%2A> a <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InstanceProvider%2A> vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="71710-190">This category includes the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InstanceContextInitializers%2A> and the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.InstanceProvider%2A> properties.</span></span>  
  
4. <span data-ttu-id="71710-191">Součásti související se zabezpečením, můžete použít následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="71710-191">Security-related components can use the following properties:</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.SecurityAuditLogLocation%2A> <span data-ttu-id="71710-192">Určuje, kde události auditu se zapisují.</span><span class="sxs-lookup"><span data-stu-id="71710-192">indicates where audit events are written.</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.ImpersonateCallerForAllOperations%2A> <span data-ttu-id="71710-193">Určuje, zda se služba pokusí o zosobnění s použitím pověření poskytnutých příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="71710-193">controls whether the service attempts to impersonate using the credentials provided by the incoming message.</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageAuthenticationAuditLevel%2A> <span data-ttu-id="71710-194">Určuje, zda úspěšně provedeného ověřování události se zapisují do protokolu událostí, které jsou určené <xref:System.ServiceModel.Dispatcher.DispatchRuntime.SecurityAuditLogLocation%2A>.</span><span class="sxs-lookup"><span data-stu-id="71710-194">controls whether successful message authentication events are written to the event log specified by <xref:System.ServiceModel.Dispatcher.DispatchRuntime.SecurityAuditLogLocation%2A>.</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.PrincipalPermissionMode%2A> <span data-ttu-id="71710-195">ovládací prvky jak <xref:System.Threading.Thread.CurrentPrincipal%2A> je nastavena.</span><span class="sxs-lookup"><span data-stu-id="71710-195">controls how the <xref:System.Threading.Thread.CurrentPrincipal%2A> property is set.</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.ServiceAuthorizationAuditLevel%2A> <span data-ttu-id="71710-196">Určuje, jak se provádí auditování událostí autorizace.</span><span class="sxs-lookup"><span data-stu-id="71710-196">specifies how the auditing of authorization events is performed.</span></span>  
  
    -   <xref:System.ServiceModel.Dispatcher.DispatchRuntime.SuppressAuditFailure%2A> <span data-ttu-id="71710-197">Určuje, jestli se má potlačit nekritické výjimek, ke kterým dochází během procesu přihlášení.</span><span class="sxs-lookup"><span data-stu-id="71710-197">specifies whether to suppress non-critical exceptions that occur during the logging process.</span></span>  
  
 <span data-ttu-id="71710-198">Obvykle vlastní rozšíření objekty jsou přiřazeny k <xref:System.ServiceModel.Dispatcher.DispatchRuntime> vlastnost nebo vložení do kolekce podle chování služby (objekt, který implementuje <xref:System.ServiceModel.Description.IServiceBehavior>), smlouva chování (objekt, který implementuje <xref:System.ServiceModel.Description.IContractBehavior>), nebo koncový bod chování (objekt, který implementuje <xref:System.ServiceModel.Description.IEndpointBehavior>).</span><span class="sxs-lookup"><span data-stu-id="71710-198">Typically, custom extension objects are assigned to a <xref:System.ServiceModel.Dispatcher.DispatchRuntime> property or inserted into a collection by a service behavior (an object that implements <xref:System.ServiceModel.Description.IServiceBehavior>), a contract behavior (an object that implements <xref:System.ServiceModel.Description.IContractBehavior>), or an endpoint behavior (an object that implements <xref:System.ServiceModel.Description.IEndpointBehavior>).</span></span> <span data-ttu-id="71710-199">Potom instalace chování objektu je přidán do příslušné kolekce chování programově nebo prostřednictvím implementace vlastního <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> objekt, má-li povolit chování, které má být vložen pomocí konfiguračního souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="71710-199">Then the installing behavior object is added to the appropriate collection of behaviors either programmatically or by implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> object to enable the behavior to be inserted using an application configuration file.</span></span>  
  
 <span data-ttu-id="71710-200">Duplexní (klienti, které implementují určené služby duplexní kontrakt zpětného volání) také mít <xref:System.ServiceModel.Dispatcher.DispatchRuntime> objekt, který lze přistupovat pomocí <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="71710-200">Duplex clients (clients that implement a callback contract specified by a duplex service) also have a <xref:System.ServiceModel.Dispatcher.DispatchRuntime> object that can be accessed using the <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property.</span></span>  
  
### <a name="using-the-dispatchoperation-class"></a><span data-ttu-id="71710-201">Třída DispatchOperation pomocí</span><span class="sxs-lookup"><span data-stu-id="71710-201">Using the DispatchOperation Class</span></span>  
 <span data-ttu-id="71710-202"><xref:System.ServiceModel.Dispatcher.DispatchOperation> Třídy je umístění pro změny za běhu a vložení bod pro vlastní rozšíření, která jsou omezená jen jedna operace.</span><span class="sxs-lookup"><span data-stu-id="71710-202">The <xref:System.ServiceModel.Dispatcher.DispatchOperation> class is the location for run-time modifications and the insertion point for custom extensions that are scoped to only one service operation.</span></span> <span data-ttu-id="71710-203">(Chcete-li upravit chování za běhu služby pro všechny zprávy ve smlouvě, použijte <xref:System.ServiceModel.Dispatcher.DispatchRuntime> třídy.)</span><span class="sxs-lookup"><span data-stu-id="71710-203">(To modify service run-time behavior for all messages in a contract, use the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> class.)</span></span>  
  
 <span data-ttu-id="71710-204">Nainstalujte <xref:System.ServiceModel.Dispatcher.DispatchOperation> změny pomocí objektu chování vlastní služby.</span><span class="sxs-lookup"><span data-stu-id="71710-204">Install <xref:System.ServiceModel.Dispatcher.DispatchOperation> modifications using a custom service behavior object.</span></span>  
  
 <span data-ttu-id="71710-205">Použití <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> vlastnost najít <xref:System.ServiceModel.Dispatcher.DispatchOperation> objekt, který reprezentuje operaci konkrétní službu.</span><span class="sxs-lookup"><span data-stu-id="71710-205">Use the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> property to locate the <xref:System.ServiceModel.Dispatcher.DispatchOperation> object that represents a particular service operation.</span></span>  
  
 <span data-ttu-id="71710-206">Tyto vlastnosti řídit spuštění modulu runtime na úrovni operace:</span><span class="sxs-lookup"><span data-stu-id="71710-206">The following properties control runtime execution at the operation level:</span></span>  
  
-   <span data-ttu-id="71710-207"><xref:System.ServiceModel.Dispatcher.DispatchOperation.Action%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.ReplyAction%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.FaultContractInfos%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.IsOneWay%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.IsTerminating%2A>, A <xref:System.ServiceModel.Dispatcher.DispatchOperation.Name%2A> příslušné hodnoty pro operaci získat vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="71710-207">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.Action%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.ReplyAction%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.FaultContractInfos%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.IsOneWay%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.IsTerminating%2A>, and <xref:System.ServiceModel.Dispatcher.DispatchOperation.Name%2A> properties obtain the respective values for the operation.</span></span>  
  
-   <span data-ttu-id="71710-208"><xref:System.ServiceModel.Dispatcher.DispatchOperation.TransactionAutoComplete%2A> a <xref:System.ServiceModel.Dispatcher.DispatchOperation.TransactionRequired%2A> zadejte chování při transakci.</span><span class="sxs-lookup"><span data-stu-id="71710-208">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.TransactionAutoComplete%2A> and <xref:System.ServiceModel.Dispatcher.DispatchOperation.TransactionRequired%2A> specify transaction behavior.</span></span>  
  
-   <span data-ttu-id="71710-209"><xref:System.ServiceModel.Dispatcher.DispatchOperation.ReleaseInstanceBeforeCall%2A> a <xref:System.ServiceModel.Dispatcher.DispatchOperation.ReleaseInstanceAfterCall%2A> vlastnosti řídit dobu života objektu služby uživatelem definované vzhledem k <xref:System.ServiceModel.InstanceContext>.</span><span class="sxs-lookup"><span data-stu-id="71710-209">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.ReleaseInstanceBeforeCall%2A> and <xref:System.ServiceModel.Dispatcher.DispatchOperation.ReleaseInstanceAfterCall%2A> properties control the lifetime of the user-defined service object relative to the <xref:System.ServiceModel.InstanceContext>.</span></span>  
  
-   <span data-ttu-id="71710-210"><xref:System.ServiceModel.Dispatcher.DispatchOperation.DeserializeRequest%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.SerializeReply%2A>a <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A> vlastnosti povolit explicitní kontrolu nad převod ze zprávy k objektům a objektů na zprávy.</span><span class="sxs-lookup"><span data-stu-id="71710-210">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.DeserializeRequest%2A>, <xref:System.ServiceModel.Dispatcher.DispatchOperation.SerializeReply%2A>, and the <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A> properties enable explicit control over the conversion from messages to objects and objects to messages.</span></span>  
  
-   <span data-ttu-id="71710-211"><xref:System.ServiceModel.Dispatcher.DispatchOperation.Impersonation%2A> Vlastnost určuje úroveň zosobnění operace.</span><span class="sxs-lookup"><span data-stu-id="71710-211">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.Impersonation%2A> property specifies the operation impersonation level.</span></span>  
  
-   <span data-ttu-id="71710-212"><xref:System.ServiceModel.Dispatcher.DispatchOperation.CallContextInitializers%2A> Vlastnost vloží vlastní volání kontextu rozšíření pro operaci.</span><span class="sxs-lookup"><span data-stu-id="71710-212">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.CallContextInitializers%2A> property inserts custom call context extensions for the operation.</span></span>  
  
-   <span data-ttu-id="71710-213"><xref:System.ServiceModel.Dispatcher.DispatchOperation.AutoDisposeParameters%2A> Vlastnost určuje, kdy parametr objekty jsou zničeny.</span><span class="sxs-lookup"><span data-stu-id="71710-213">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.AutoDisposeParameters%2A> property controls when parameter objects are destroyed.</span></span>  
  
-   <span data-ttu-id="71710-214"><xref:System.ServiceModel.Dispatcher.DispatchOperation.Invoker%2A> Vlastnost vložit vlastní původce volání objektu.</span><span class="sxs-lookup"><span data-stu-id="71710-214">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.Invoker%2A> property to insert a custom invoker object.</span></span>  
  
-   <span data-ttu-id="71710-215"><xref:System.ServiceModel.Dispatcher.DispatchOperation.ParameterInspectors%2A> Vlastnost umožňuje vložit vlastní parametr inspector, můžete použít ke kontrole nebo úprava parametrů a návratové hodnoty.</span><span class="sxs-lookup"><span data-stu-id="71710-215">The <xref:System.ServiceModel.Dispatcher.DispatchOperation.ParameterInspectors%2A> property enables you to insert a custom parameter inspector that you can use to inspect or modify parameters and return values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="71710-216">Viz také:</span><span class="sxs-lookup"><span data-stu-id="71710-216">See also</span></span>

- <xref:System.ServiceModel.Dispatcher.DispatchRuntime>
- <xref:System.ServiceModel.Dispatcher.DispatchOperation>
- [<span data-ttu-id="71710-217">Postupy: Kontrola a změny zpráv ve službě</span><span class="sxs-lookup"><span data-stu-id="71710-217">How to: Inspect and Modify Messages on the Service</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-and-modify-messages-on-the-service.md)
- [<span data-ttu-id="71710-218">Postupy: Kontrola nebo úprava parametrů</span><span class="sxs-lookup"><span data-stu-id="71710-218">How to: Inspect or Modify Parameters</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md)
- [<span data-ttu-id="71710-219">Postupy: Uzamknutí koncových bodů v podniku</span><span class="sxs-lookup"><span data-stu-id="71710-219">How to: Lock Down Endpoints in the Enterprise</span></span>](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md)
