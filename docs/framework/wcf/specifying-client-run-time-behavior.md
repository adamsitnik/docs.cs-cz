---
title: Nastavení běhového chování klienta
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- behaviors [WCF], system-provided client
ms.assetid: d16d3405-be70-4edb-8f62-b5f614ddeca5
ms.openlocfilehash: 075f62526ace1ac49d12e1bdec39d8df4b0a3ff1
ms.sourcegitcommit: 628e8147ca10187488e6407dab4c4e6ebe0cac47
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/15/2019
ms.locfileid: "72321412"
---
# <a name="specifying-client-run-time-behavior"></a><span data-ttu-id="81705-102">Nastavení běhového chování klienta</span><span class="sxs-lookup"><span data-stu-id="81705-102">Specifying Client Run-Time Behavior</span></span>
<span data-ttu-id="81705-103">Klienti Windows Communication Foundation (WCF), jako jsou služby Windows Communication Foundation (WCF), je možné nakonfigurovat tak, aby upravili chování za běhu tak, aby vyhovovaly klientské aplikaci.</span><span class="sxs-lookup"><span data-stu-id="81705-103">Windows Communication Foundation (WCF) clients, like Windows Communication Foundation (WCF) services, can be configured to modify the run-time behavior to suit the client application.</span></span> <span data-ttu-id="81705-104">Pro určení chování při běhu klienta jsou k dispozici tři atributy.</span><span class="sxs-lookup"><span data-stu-id="81705-104">Three attributes are available for specifying client run-time behavior.</span></span> <span data-ttu-id="81705-105">Objekty duplexního zpětného volání klienta mohou použít atributy <xref:System.ServiceModel.CallbackBehaviorAttribute> a <xref:System.ServiceModel.Description.CallbackDebugBehavior> pro úpravu chování při běhu.</span><span class="sxs-lookup"><span data-stu-id="81705-105">Duplex client callback objects can use the <xref:System.ServiceModel.CallbackBehaviorAttribute> and <xref:System.ServiceModel.Description.CallbackDebugBehavior> attributes to modify their run-time behavior.</span></span> <span data-ttu-id="81705-106">Druhý atribut <xref:System.ServiceModel.Description.ClientViaBehavior> lze použít k oddělení logického cíle z bezprostředního síťového cíle.</span><span class="sxs-lookup"><span data-stu-id="81705-106">The other attribute, <xref:System.ServiceModel.Description.ClientViaBehavior>, can be used to separate the logical destination from the immediate network destination.</span></span> <span data-ttu-id="81705-107">Kromě toho můžou některé z chování na straně služby používat i duplexní typy zpětného volání klienta.</span><span class="sxs-lookup"><span data-stu-id="81705-107">In addition, duplex client callback types can use some of the service-side behaviors.</span></span> <span data-ttu-id="81705-108">Další informace najdete v tématu [Určení chování služby za běhu](specifying-service-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="81705-108">For more information, see [Specifying Service Run-Time Behavior](specifying-service-run-time-behavior.md).</span></span>  
  
## <a name="using-the-callbackbehaviorattribute"></a><span data-ttu-id="81705-109">Použití CallbackBehaviorAttribute</span><span class="sxs-lookup"><span data-stu-id="81705-109">Using the CallbackBehaviorAttribute</span></span>  
 <span data-ttu-id="81705-110">Chování provádění implementace kontraktu zpětného volání v klientské aplikaci můžete nakonfigurovat nebo roztáhnout pomocí třídy <xref:System.ServiceModel.CallbackBehaviorAttribute>.</span><span class="sxs-lookup"><span data-stu-id="81705-110">You can configure or extend the execution behavior of a callback contract implementation in a client application by using the <xref:System.ServiceModel.CallbackBehaviorAttribute> class.</span></span> <span data-ttu-id="81705-111">Tento atribut provádí podobnou funkci pro třídu zpětného volání jako třídu <xref:System.ServiceModel.ServiceBehaviorAttribute> s výjimkou chování vytváření instancí a nastavení transakcí.</span><span class="sxs-lookup"><span data-stu-id="81705-111">This attribute performs a similar function for the callback class as the <xref:System.ServiceModel.ServiceBehaviorAttribute> class, with the exception of instancing behavior and transaction settings.</span></span>  
  
 <span data-ttu-id="81705-112">Třídu <xref:System.ServiceModel.CallbackBehaviorAttribute> je nutné použít pro třídu, která implementuje kontrakt zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="81705-112">The <xref:System.ServiceModel.CallbackBehaviorAttribute> class must be applied to the class that implements the callback contract.</span></span> <span data-ttu-id="81705-113">Při použití na neduplexní implementaci kontraktu je vyvolána výjimka <xref:System.InvalidOperationException> v době běhu.</span><span class="sxs-lookup"><span data-stu-id="81705-113">If applied to a nonduplex contract implementation, an <xref:System.InvalidOperationException> exception is thrown at run time.</span></span> <span data-ttu-id="81705-114">Následující příklad kódu ukazuje třídu <xref:System.ServiceModel.CallbackBehaviorAttribute> na objektu zpětného volání, který používá objekt <xref:System.Threading.SynchronizationContext> k určení vlákna k zařazení do, vlastnosti <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> pro vykonání ověření zprávy a vlastnost <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> pro vrácení výjimek jako objektů <xref:System.ServiceModel.FaultException> do Služba pro účely ladění.</span><span class="sxs-lookup"><span data-stu-id="81705-114">The following code example shows a <xref:System.ServiceModel.CallbackBehaviorAttribute> class on a callback object that uses the <xref:System.Threading.SynchronizationContext> object to determine the thread to marshal to, the <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> property to enforce message validation, and the <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> property to return exceptions as <xref:System.ServiceModel.FaultException> objects to the service for debugging purposes.</span></span>  
  
 [!code-csharp[CallbackBehaviorAttribute#3](../../../samples/snippets/csharp/VS_Snippets_CFX/callbackbehaviorattribute/cs/client.cs#3)]
 [!code-vb[CallbackBehaviorAttribute#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/callbackbehaviorattribute/vb/client.vb#3)]  
  
## <a name="using-callbackdebugbehavior-to-enable-the-flow-of-managed-exception-information"></a><span data-ttu-id="81705-115">Povolení toku informací o spravovaných výjimkách pomocí CallbackDebugBehavior</span><span class="sxs-lookup"><span data-stu-id="81705-115">Using CallbackDebugBehavior to Enable the Flow of Managed Exception Information</span></span>  
 <span data-ttu-id="81705-116">Můžete povolit tok informací o spravovaných výjimkách v objektu zpětného volání klienta zpátky do služby pro účely ladění nastavením vlastnosti <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> na `true` buď programově, nebo z konfiguračního souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="81705-116">You can enable the flow of managed exception information in a client callback object back to the service for debugging purposes by setting the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true` either programmatically or from an application configuration file.</span></span>  
  
 <span data-ttu-id="81705-117">Vrácení spravovaných informací o výjimkách do služeb může představovat bezpečnostní riziko, protože podrobnosti o výjimce zpřístupňují informace o implementaci interního klienta, které by mohly používat neautorizované služby.</span><span class="sxs-lookup"><span data-stu-id="81705-117">Returning managed exception information to services can be a security risk because exception details expose information about the internal client implementation that  unauthorized services could use.</span></span> <span data-ttu-id="81705-118">Kromě toho, i když lze vlastnosti <xref:System.ServiceModel.Description.CallbackDebugBehavior> nastavit také programově, lze při nasazování snadno zapomenout <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> zakázat.</span><span class="sxs-lookup"><span data-stu-id="81705-118">In addition, although the <xref:System.ServiceModel.Description.CallbackDebugBehavior> properties can also be set programmatically, it can be easy to forget to disable <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> when deploying.</span></span>  
  
 <span data-ttu-id="81705-119">Vzhledem k problémům se zabezpečením se důrazně doporučuje:</span><span class="sxs-lookup"><span data-stu-id="81705-119">Because of the security issues involved, it is strongly recommended that:</span></span>  
  
- <span data-ttu-id="81705-120">Pomocí konfiguračního souboru aplikace nastavíte hodnotu vlastnosti <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> na `true`.</span><span class="sxs-lookup"><span data-stu-id="81705-120">You use an application configuration file to set the value of the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true`.</span></span>  
  
- <span data-ttu-id="81705-121">Provedete to jenom v řízených scénářích ladění.</span><span class="sxs-lookup"><span data-stu-id="81705-121">You do so only in controlled debugging scenarios.</span></span>  
  
 <span data-ttu-id="81705-122">Následující příklad kódu ukazuje konfigurační soubor klienta, který instruuje technologii WCF, aby vrátila informace o spravované výjimce z objektu zpětného volání klienta ve zprávách SOAP.</span><span class="sxs-lookup"><span data-stu-id="81705-122">The following code example shows a client configuration file that instructs WCF to return managed exception information from a client callback object in SOAP messages.</span></span>  
  
 [!code-xml[SCA.CallbackContract#4](../../../samples/snippets/csharp/VS_Snippets_CFX/sca.callbackcontract/cs/client.exe.config#4)]  
 
## <a name="using-the-clientviabehavior-behavior"></a><span data-ttu-id="81705-123">Použití chování ClientViaBehavior</span><span class="sxs-lookup"><span data-stu-id="81705-123">Using the ClientViaBehavior Behavior</span></span>  
 <span data-ttu-id="81705-124">Pomocí chování <xref:System.ServiceModel.Description.ClientViaBehavior> můžete určit identifikátor URI, pro který má být vytvořen přenosový kanál.</span><span class="sxs-lookup"><span data-stu-id="81705-124">You can use the <xref:System.ServiceModel.Description.ClientViaBehavior> behavior to specify the Uniform Resource Identifier for which the transport channel should be created.</span></span> <span data-ttu-id="81705-125">Toto chování použijte v případě, že okamžité síťové umístění není zamýšleným procesorem zprávy.</span><span class="sxs-lookup"><span data-stu-id="81705-125">Use this behavior when the immediate network destination is not the intended processor of the message.</span></span> <span data-ttu-id="81705-126">Tím se povolí konverzace s více segmenty, když volající aplikace nutně neví o konečném cíli nebo když cílová hlavička `Via` není adresou.</span><span class="sxs-lookup"><span data-stu-id="81705-126">This enables multiple-hop conversations when the calling application does not necessarily know the ultimate destination or when the destination `Via` header is not an address.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81705-127">Viz také:</span><span class="sxs-lookup"><span data-stu-id="81705-127">See also</span></span>

- [<span data-ttu-id="81705-128">Určování chování služby za běhu</span><span class="sxs-lookup"><span data-stu-id="81705-128">Specifying Service Run-Time Behavior</span></span>](specifying-service-run-time-behavior.md)
