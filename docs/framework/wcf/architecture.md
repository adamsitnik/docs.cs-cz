---
title: Architektura Windows Communication Foundation
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Communication Foundation [WCF], architecture
- WCF [WCF], architecture
- architecture [WCF]
ms.assetid: a3bcb0a1-56ea-4ba6-9736-d260d90dade5
ms.openlocfilehash: f34a05a436dd021f0d1fcc05f3a12a058123acdc
ms.sourcegitcommit: 628e8147ca10187488e6407dab4c4e6ebe0cac47
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/15/2019
ms.locfileid: "72320837"
---
# <a name="windows-communication-foundation-architecture"></a><span data-ttu-id="8c50f-102">Architektura Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c50f-102">Windows Communication Foundation Architecture</span></span>
<span data-ttu-id="8c50f-103">Následující obrázek znázorňuje hlavní vrstvy architektury Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8c50f-103">The following graphic illustrates the major layers of the Windows Communication Foundation (WCF) architecture.</span></span>  
  
## <a name="wcf-architecture"></a><span data-ttu-id="8c50f-104">Architektura WCF</span><span class="sxs-lookup"><span data-stu-id="8c50f-104">WCF Architecture</span></span>  
 <span data-ttu-id="8c50f-105">(./media/wcf-architecture.gif "WCF_Architecture") ![architektury WCF]</span><span class="sxs-lookup"><span data-stu-id="8c50f-105">![The WCF Architecture](./media/wcf-architecture.gif "WCF_Architecture")</span></span>  
  
### <a name="contracts-and-descriptions"></a><span data-ttu-id="8c50f-106">Smlouvy a popisy</span><span class="sxs-lookup"><span data-stu-id="8c50f-106">Contracts and Descriptions</span></span>  
 <span data-ttu-id="8c50f-107">Smlouvy definují různé aspekty systému zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-107">Contracts define various aspects of the message system.</span></span> <span data-ttu-id="8c50f-108">Kontrakt dat popisuje všechny parametry, které tvoří každou zprávu, kterou může služba vytvořit nebo spotřebovat.</span><span class="sxs-lookup"><span data-stu-id="8c50f-108">The data contract describes every parameter that makes up every message that a service can create or consume.</span></span> <span data-ttu-id="8c50f-109">Parametry zprávy jsou definovány dokumenty XSD (XML Schema Definition Language) a umožňují jakýmkoli systémům, které porozuměl XML ke zpracování dokumentů.</span><span class="sxs-lookup"><span data-stu-id="8c50f-109">The message parameters are defined by XML Schema definition language (XSD) documents, enabling any system that understands XML to process the documents.</span></span> <span data-ttu-id="8c50f-110">Kontrakt zprávy definuje konkrétní části zprávy pomocí protokolů SOAP a umožňuje lepší kontrolu nad částmi zprávy, pokud interoperabilita takovou přesnost vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="8c50f-110">The message contract defines specific message parts using SOAP protocols, and allows finer-grained control over parts of the message, when interoperability demands such precision.</span></span> <span data-ttu-id="8c50f-111">Kontrakt služby určuje vlastní signatury metody služby a distribuuje se jako rozhraní v jednom z podporovaných programovacích jazyků, jako je Visual Basic nebo vizuál C#.</span><span class="sxs-lookup"><span data-stu-id="8c50f-111">The service contract specifies the actual method signatures of the service, and is distributed as an interface in one of the supported programming languages, such as Visual Basic or Visual C#.</span></span>  
  
 <span data-ttu-id="8c50f-112">Zásady a vazby stanoví podmínky, které jsou nutné ke komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="8c50f-112">Policies and bindings stipulate the conditions required to communicate with a service.</span></span>  <span data-ttu-id="8c50f-113">Vazba například musí (minimálně) určovat použitý přenos (například HTTP nebo TCP) a kódování.</span><span class="sxs-lookup"><span data-stu-id="8c50f-113">For example, the binding must (at a minimum) specify the transport used (for example, HTTP or TCP), and an encoding.</span></span> <span data-ttu-id="8c50f-114">Zásady zahrnují požadavky na zabezpečení a další podmínky, které musí být splněny ke komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="8c50f-114">Policies include security requirements and other conditions that must be met to communicate with a service.</span></span>  
  
### <a name="service-runtime"></a><span data-ttu-id="8c50f-115">Modul runtime služby</span><span class="sxs-lookup"><span data-stu-id="8c50f-115">Service Runtime</span></span>  
 <span data-ttu-id="8c50f-116">Vrstva runtime služby obsahuje chování, ke kterým dochází pouze během skutečné operace služby, tedy chování za běhu služby.</span><span class="sxs-lookup"><span data-stu-id="8c50f-116">The service runtime layer contains the behaviors that occur only during the actual operation of the service, that is, the runtime behaviors of the service.</span></span> <span data-ttu-id="8c50f-117">Omezování řídí počet zpracovaných zpráv, což může být proměnlivé, pokud se poptávka po službě zvětší na přednastavený limit.</span><span class="sxs-lookup"><span data-stu-id="8c50f-117">Throttling controls how many messages are processed, which can be varied if the demand for the service grows to a preset limit.</span></span> <span data-ttu-id="8c50f-118">Chování při chybě určuje, co se stane, když dojde k vnitřní chybě služby, například tím, že určíte, které informace se mají sdělit klientovi.</span><span class="sxs-lookup"><span data-stu-id="8c50f-118">An error behavior specifies what occurs when an internal error occurs on the service, for example, by controlling what information is communicated to the client.</span></span> <span data-ttu-id="8c50f-119">(Příliš mnoho informací může uživateli se zlými úmysly poskytnout výhodu při připojení útoku.) Chování metadat určuje, jak a zda jsou metadata k dispozici vnějšímu světě.</span><span class="sxs-lookup"><span data-stu-id="8c50f-119">(Too much information can give a malicious user an advantage in mounting an attack.) Metadata behavior governs how and whether metadata is made available to the outside world.</span></span> <span data-ttu-id="8c50f-120">Chování instance Určuje, kolik instancí služby lze spustit (například typ singleton určuje pouze jednu instanci pro zpracování všech zpráv).</span><span class="sxs-lookup"><span data-stu-id="8c50f-120">Instance behavior specifies how many instances of the service can be run (for example, a singleton specifies only one instance to process all messages).</span></span> <span data-ttu-id="8c50f-121">Chování transakce umožňuje vrácení operací s podporou transakcí, pokud dojde k selhání.</span><span class="sxs-lookup"><span data-stu-id="8c50f-121">Transaction behavior enables the rollback of transacted operations if a failure occurs.</span></span> <span data-ttu-id="8c50f-122">Chování při odeslání je ovládací prvek toho, jak je zpráva zpracována infrastrukturou WCF.</span><span class="sxs-lookup"><span data-stu-id="8c50f-122">Dispatch behavior is the control of how a message is processed by the WCF infrastructure.</span></span>  
  
 <span data-ttu-id="8c50f-123">Rozšiřitelnost umožňuje přizpůsobení procesů modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="8c50f-123">Extensibility enables customization of runtime processes.</span></span> <span data-ttu-id="8c50f-124">Například kontrola zprávy je zařízení pro kontrolu částí zprávy a filtrování parametrů umožňuje, aby probíhají přednastavené akce založené na filtrech pracujících v záhlavích zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-124">For example, message inspection is the facility to inspect parts of a message, and parameter filtering enables preset actions to occur based on filters acting on message headers.</span></span>  
  
### <a name="messaging"></a><span data-ttu-id="8c50f-125">Messaging</span><span class="sxs-lookup"><span data-stu-id="8c50f-125">Messaging</span></span>  
 <span data-ttu-id="8c50f-126">Vrstva zasílání zpráv se skládá z *kanálů*.</span><span class="sxs-lookup"><span data-stu-id="8c50f-126">The messaging layer is composed of *channels*.</span></span> <span data-ttu-id="8c50f-127">Kanál je komponenta, která zpracovává zprávu nějakým způsobem, například ověřením zprávy.</span><span class="sxs-lookup"><span data-stu-id="8c50f-127">A channel is a component that processes a message in some way, for example, by authenticating a message.</span></span> <span data-ttu-id="8c50f-128">Sada kanálů je také známá jako *zásobník kanálů*.</span><span class="sxs-lookup"><span data-stu-id="8c50f-128">A set of channels is also known as a *channel stack*.</span></span> <span data-ttu-id="8c50f-129">Kanály pracují se zprávami a záhlavími zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-129">Channels operate on messages and message headers.</span></span> <span data-ttu-id="8c50f-130">To se liší od vrstvy runtime služby, která se primárně zabývá zpracováním obsahu těla zprávy.</span><span class="sxs-lookup"><span data-stu-id="8c50f-130">This is different from the service runtime layer, which is primarily concerned about processing the contents of message bodies.</span></span>  
  
 <span data-ttu-id="8c50f-131">Existují dva typy kanálů: přenosové kanály a kanály protokolu.</span><span class="sxs-lookup"><span data-stu-id="8c50f-131">There are two types of channels: transport channels and protocol channels.</span></span>  
  
 <span data-ttu-id="8c50f-132">Přenosové kanály čtou a zapisují zprávy ze sítě (nebo jiného komunikačního bodu s vnějším světem).</span><span class="sxs-lookup"><span data-stu-id="8c50f-132">Transport channels read and write messages from the network (or some other communication point with the outside world).</span></span> <span data-ttu-id="8c50f-133">Některé přenosy používají kodér k převodu zpráv (které jsou reprezentovány jako XML Infosets) do a z reprezentace bajtového datového proudu používaného sítí.</span><span class="sxs-lookup"><span data-stu-id="8c50f-133">Some transports use an encoder to convert messages (which are represented as XML Infosets) to and from the byte stream representation used by the network.</span></span> <span data-ttu-id="8c50f-134">Mezi kanály přenosů patří HTTP, Named Pipes, TCP a MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8c50f-134">Examples of transports are HTTP, named pipes, TCP, and MSMQ.</span></span> <span data-ttu-id="8c50f-135">Příklady kódování jsou XML a optimalizované binární soubory.</span><span class="sxs-lookup"><span data-stu-id="8c50f-135">Examples of encodings are XML and optimized binary.</span></span>  
  
 <span data-ttu-id="8c50f-136">Kanály protokolu implementují protokoly zpracování zpráv, často čtou nebo zapisují další záhlaví do zprávy.</span><span class="sxs-lookup"><span data-stu-id="8c50f-136">Protocol channels implement message processing protocols, often by reading or writing additional headers to the message.</span></span> <span data-ttu-id="8c50f-137">Mezi příklady takových protokolů patří WS-Security a WS-spolehlivost.</span><span class="sxs-lookup"><span data-stu-id="8c50f-137">Examples of such protocols include WS-Security and WS-Reliability.</span></span>  
  
 <span data-ttu-id="8c50f-138">Vrstva zasílání zpráv znázorňuje možné formáty a způsoby výměny dat.</span><span class="sxs-lookup"><span data-stu-id="8c50f-138">The messaging layer illustrates the possible formats and exchange patterns of the data.</span></span> <span data-ttu-id="8c50f-139">WS-Security je implementace specifikace WS-Security, která umožňuje zabezpečení ve vrstvě zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-139">WS-Security is an implementation of the WS-Security specification enabling security at the message layer.</span></span> <span data-ttu-id="8c50f-140">Kanál pro zasílání zpráv WS-Reliable umožňuje záruku doručování zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-140">The WS-Reliable Messaging channel enables the guarantee of message delivery.</span></span> <span data-ttu-id="8c50f-141">Kodéry prezentují různá kódování, která se dají použít k potřebě zprávy.</span><span class="sxs-lookup"><span data-stu-id="8c50f-141">The encoders present a variety of encodings that can be used to suit the needs of the message.</span></span> <span data-ttu-id="8c50f-142">Kanál HTTP určuje, že se HyperTextový přenosový protokol používá pro doručování zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-142">The HTTP channel specifies that the HyperText Transport Protocol is used for message delivery.</span></span> <span data-ttu-id="8c50f-143">Kanál TCP podobně určuje protokol TCP.</span><span class="sxs-lookup"><span data-stu-id="8c50f-143">The TCP channel similarly specifies the TCP protocol.</span></span> <span data-ttu-id="8c50f-144">Kanál toku transakce určuje vzory transakčních zpráv.</span><span class="sxs-lookup"><span data-stu-id="8c50f-144">The Transaction Flow channel governs transacted message patterns.</span></span> <span data-ttu-id="8c50f-145">Kanál pojmenovaného kanálu umožňuje komunikaci mezi procesy.</span><span class="sxs-lookup"><span data-stu-id="8c50f-145">The Named Pipe channel enables interprocess communication.</span></span> <span data-ttu-id="8c50f-146">Kanál služby MSMQ umožňuje práci s aplikacemi služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8c50f-146">The MSMQ channel enables interoperation with MSMQ applications.</span></span>  
  
### <a name="hosting-and-activation"></a><span data-ttu-id="8c50f-147">Hostování a aktivace</span><span class="sxs-lookup"><span data-stu-id="8c50f-147">Hosting and Activation</span></span>  
 <span data-ttu-id="8c50f-148">V konečné podobě je služba programem.</span><span class="sxs-lookup"><span data-stu-id="8c50f-148">In its final form, a service is a program.</span></span> <span data-ttu-id="8c50f-149">Podobně jako jiné programy musí být služba spuštěná ve spustitelném souboru.</span><span class="sxs-lookup"><span data-stu-id="8c50f-149">Like other programs, a service must be run in an executable.</span></span> <span data-ttu-id="8c50f-150">Tato služba se označuje jako *samoobslužná* služba.</span><span class="sxs-lookup"><span data-stu-id="8c50f-150">This is known as a *self-hosted* service.</span></span>  
  
 <span data-ttu-id="8c50f-151">Služby je také možné *hostovat*nebo spouštět ve spustitelném souboru spravovaném externím agentem, jako je služba IIS nebo aktivační služba systému Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="8c50f-151">Services can also be *hosted*, or run in an executable managed by an external agent, such as IIS or Windows Activation Service (WAS).</span></span> <span data-ttu-id="8c50f-152">BYLO povoleno automatické aktivace aplikací WCF při nasazení v počítači se systémem.</span><span class="sxs-lookup"><span data-stu-id="8c50f-152">WAS enables WCF applications to be activated automatically when deployed on a computer running WAS.</span></span> <span data-ttu-id="8c50f-153">Služby je také možné spustit ručně jako spustitelné soubory (soubory. exe).</span><span class="sxs-lookup"><span data-stu-id="8c50f-153">Services can also be manually run as executables (.exe files).</span></span> <span data-ttu-id="8c50f-154">Službu lze také spustit automaticky jako službu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="8c50f-154">A service can also be run automatically as a Windows service.</span></span> <span data-ttu-id="8c50f-155">Komponenty modelu COM+ je také možné hostovat jako služby WCF.</span><span class="sxs-lookup"><span data-stu-id="8c50f-155">COM+ components can also be hosted as WCF services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8c50f-156">Viz také:</span><span class="sxs-lookup"><span data-stu-id="8c50f-156">See also</span></span>

- [<span data-ttu-id="8c50f-157">Co je Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c50f-157">What Is Windows Communication Foundation</span></span>](whats-wcf.md)
- [<span data-ttu-id="8c50f-158">Základní koncepty Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c50f-158">Fundamental Windows Communication Foundation Concepts</span></span>](fundamental-concepts.md)
