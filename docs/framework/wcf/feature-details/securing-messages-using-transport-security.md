---
title: Zabezpečení zpráv pomocí zabezpečení přenosu
ms.date: 03/30/2017
ms.assetid: 9029771a-097e-448a-a13a-55d2878330b8
ms.openlocfilehash: 6f93fa37c6f1d6a0d7396c7f9ea5e97b44d1dc92
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64603524"
---
# <a name="securing-messages-using-transport-security"></a><span data-ttu-id="42ff2-102">Zabezpečení zpráv pomocí zabezpečení přenosu</span><span class="sxs-lookup"><span data-stu-id="42ff2-102">Securing Messages Using Transport Security</span></span>
<span data-ttu-id="42ff2-103">Tato část popisuje zabezpečení přenosu služby Řízení front zpráv (MSMQ), který můžete použít k zabezpečení zprávy odeslané do fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-103">This section discusses Message Queuing (MSMQ) transport security that you can use to secure messages sent to a queue.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="42ff2-104">Před čtením prostřednictvím tohoto tématu, se doporučuje, abyste si přečetli [koncepty zabezpečení](../../../../docs/framework/wcf/feature-details/security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="42ff2-104">Before reading through this topic, it is recommended that you read [Security Concepts](../../../../docs/framework/wcf/feature-details/security-concepts.md).</span></span>  
  
 <span data-ttu-id="42ff2-105">Následující obrázek poskytuje koncepční model komunikaci ve frontě pomocí Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="42ff2-105">The following illustration provides a conceptual model of queued communication using Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="42ff2-106">Tento obrázek a terminologie používá k popisu koncepty zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="42ff2-106">This illustration and terminology is used to explain transport security concepts.</span></span>  
  
 <span data-ttu-id="42ff2-107">![Ve frontě diagramu aplikace](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "distribuované obrázek fronty")</span><span class="sxs-lookup"><span data-stu-id="42ff2-107">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="42ff2-108">Při odesílání zpráv zařazených do fronty pomocí technologie WCF s <xref:System.ServiceModel.NetMsmqBinding>, zprávy WCF je připojen jako text zprávy služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="42ff2-108">When sending queued messages using WCF with <xref:System.ServiceModel.NetMsmqBinding>, the WCF message is attached as a body of the MSMQ message.</span></span> <span data-ttu-id="42ff2-109">Zabezpečení přenosu zabezpečí celou zprávu služby MSMQ (záhlaví zpráv MSMQ nebo vlastnosti a text zprávy).</span><span class="sxs-lookup"><span data-stu-id="42ff2-109">Transport security secures the entire MSMQ message (MSMQ message headers or properties and the message body).</span></span> <span data-ttu-id="42ff2-110">Protože je text zprávy služby MSMQ, pomocí zabezpečení přenosu také zabezpečuje zprávy WCF.</span><span class="sxs-lookup"><span data-stu-id="42ff2-110">Because it is the body of the MSMQ message, using transport security also secures the WCF message.</span></span>  
  
 <span data-ttu-id="42ff2-111">Klíčovým konceptem za zabezpečení přenosu je, že klient musí splňovat požadavky na zabezpečení, zobrazí se zpráva do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-111">The key concept behind transport security is that the client has to meet security requirements to get the message to the target queue.</span></span> <span data-ttu-id="42ff2-112">To je rozdíl oproti zabezpečení zpráv, ve kterém je zpráva zabezpečena pro aplikaci, která bude přijímat zprávy.</span><span class="sxs-lookup"><span data-stu-id="42ff2-112">This is unlike Message security, where the message is secured for the application that receives the message.</span></span>  
  
 <span data-ttu-id="42ff2-113">Pomocí zabezpečení přenosu <xref:System.ServiceModel.NetMsmqBinding> a <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> ovlivňuje, jak jsou zabezpečené zprávy MSMQ během přenosu mezi fronty přenosu a cílová fronta tam, kde zabezpečené zahrnuje:</span><span class="sxs-lookup"><span data-stu-id="42ff2-113">Transport security using <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> impacts how MSMQ messages are secured in-transit between the transmission queue and the target queue where secured implies:</span></span>  
  
- <span data-ttu-id="42ff2-114">Podepisování zpráv tak, aby byl nemanipulovalo.</span><span class="sxs-lookup"><span data-stu-id="42ff2-114">Signing the message to ensure it is not tampered with.</span></span>  
  
- <span data-ttu-id="42ff2-115">Zpráva, která má zajistěte, aby úmyslně viděli nebo šifrování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-115">Encrypting the message to ensure that it cannot be seen or tampered with.</span></span> <span data-ttu-id="42ff2-116">Toto je doporučená, ale volitelné.</span><span class="sxs-lookup"><span data-stu-id="42ff2-116">This is recommended but optional.</span></span>  
  
- <span data-ttu-id="42ff2-117">Správce front cílový označující, odesílatel zprávy pro popírání odpovědnosti.</span><span class="sxs-lookup"><span data-stu-id="42ff2-117">The target queue manager that identifies the sender of the message for non-repudiation.</span></span>  
  
 <span data-ttu-id="42ff2-118">Služby MSMQ nezávisle na ověřování, cílová fronta má seznam řízení přístupu (ACL), chcete-li zkontrolovat, zda klient má oprávnění k odeslání zprávy do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-118">In MSMQ, independent of authentication, the target queue has an access control list (ACL) to check whether the client has permission to send the message to the target queue.</span></span> <span data-ttu-id="42ff2-119">Přijímající aplikace je také kontroluje oprávnění přijímat zprávy z cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-119">The receiving application is also checked for permission to receive the message from the target queue.</span></span>  
  
## <a name="wcf-msmq-transport-security-properties"></a><span data-ttu-id="42ff2-120">WCF MSMQ Transport Security Properties</span><span class="sxs-lookup"><span data-stu-id="42ff2-120">WCF MSMQ Transport Security Properties</span></span>  
 <span data-ttu-id="42ff2-121">Zabezpečení Windows používaný službou MSMQ pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-121">MSMQ uses Windows security for authentication.</span></span> <span data-ttu-id="42ff2-122">Identifikátor zabezpečení Windows (SID) používá k identifikaci klienta a služby Active Directory jako certifikační autorita používá při ověřování klienta.</span><span class="sxs-lookup"><span data-stu-id="42ff2-122">It uses the Windows security identifier (SID) to identify the client and uses Active Directory directory service as the certificate authority when authenticating the client.</span></span> <span data-ttu-id="42ff2-123">To vyžaduje služba MSMQ nainstalovaná s integrací služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42ff2-123">This requires MSMQ to be installed with Active Directory integration.</span></span> <span data-ttu-id="42ff2-124">SID domény Windows, protože se používají k identifikaci klienta tato možnost zabezpečení je jenom smysluplné když klient a služba jsou součástí stejné domény Windows.</span><span class="sxs-lookup"><span data-stu-id="42ff2-124">Because the Windows domain SID is used to identify the client, this security option is only meaningful when both the client and service are part of the same Windows domain.</span></span>  
  
 <span data-ttu-id="42ff2-125">MSMQ také nabízí možnost připojit certifikát se zpráva, která není zaregistrované v Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42ff2-125">MSMQ also provides the ability to attach a certificate with the message that is not registered with Active Directory.</span></span> <span data-ttu-id="42ff2-126">V tomto případě zajišťuje, že zpráva byla podepsána pomocí certifikátu, který připojené.</span><span class="sxs-lookup"><span data-stu-id="42ff2-126">In this case, it ensures that the message was signed using the attached certificate.</span></span>  
  
 <span data-ttu-id="42ff2-127">WCF poskytuje jako součást zabezpečení přenosu služby MSMQ obě tyto možnosti a jejich klíče kontingenční tabulky pro zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="42ff2-127">WCF provides both these options as part of MSMQ transport security and they are the key pivot for transport security.</span></span>  
  
 <span data-ttu-id="42ff2-128">Zabezpečení přenosu je ve výchozím nastavení zapnutá.</span><span class="sxs-lookup"><span data-stu-id="42ff2-128">By default, transport security is turned on.</span></span>  
  
 <span data-ttu-id="42ff2-129">Zadaný tyto základy, v následujících částech vlastnosti zabezpečení přenosu podrobností součástí <xref:System.ServiceModel.NetMsmqBinding> a <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-129">Given these basics, the following sections detail transport security properties bundled with <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span></span>  
  
#### <a name="msmq-authentication-mode"></a><span data-ttu-id="42ff2-130">Režim ověřování služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="42ff2-130">MSMQ Authentication Mode</span></span>  
 <span data-ttu-id="42ff2-131"><xref:System.ServiceModel.MsmqTransportSecurity.MsmqAuthenticationMode%2A> Určuje, jestli se má použít zabezpečení domény Windows nebo externího zabezpečení na základě certifikátů k zabezpečení zprávy.</span><span class="sxs-lookup"><span data-stu-id="42ff2-131">The <xref:System.ServiceModel.MsmqTransportSecurity.MsmqAuthenticationMode%2A> dictates whether to use the Windows domain security or an external certificate-based security to secure the message.</span></span> <span data-ttu-id="42ff2-132">V obou režimech ověřování používá kanál zařazených do fronty přenosu WCF `CertificateValidationMode` zadaná v konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="42ff2-132">In both authentication modes, the WCF queued transport channel uses the `CertificateValidationMode` specified in the service configuration.</span></span> <span data-ttu-id="42ff2-133">Určuje režim ověřování certifikátu mechanismus, který se používá ke kontrole platnosti certifikátu.</span><span class="sxs-lookup"><span data-stu-id="42ff2-133">The certificate validation mode specifies the mechanism used to check the validity of the certificate.</span></span>  
  
 <span data-ttu-id="42ff2-134">Pokud je zapnuté zabezpečení přenosu, ve výchozím nastavení je <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-134">When transport security is turned on, the default setting is <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span></span>  
  
#### <a name="windows-domain-authentication-mode"></a><span data-ttu-id="42ff2-135">Režim ověřování domény Windows</span><span class="sxs-lookup"><span data-stu-id="42ff2-135">Windows Domain Authentication Mode</span></span>  
 <span data-ttu-id="42ff2-136">Na výběr mezi používáním zabezpečení Windows vyžaduje integrace služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42ff2-136">The choice of using Windows security requires Active Directory integration.</span></span> <span data-ttu-id="42ff2-137"><xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain> je výchozí režim zabezpečení transport.</span><span class="sxs-lookup"><span data-stu-id="42ff2-137"><xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain> is the default transport security mode.</span></span> <span data-ttu-id="42ff2-138">Když toto nastavení je nastaveno, kanál WCF připojí identifikátoru Windows SID zprávy služby MSMQ a používá svůj vnitřní certifikát získaný ze služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42ff2-138">When this is set, the WCF channel attaches the Windows SID to the MSMQ message and uses its internal certificate obtained from Active Directory.</span></span> <span data-ttu-id="42ff2-139">Tento vnitřní certifikát používaný službou MSMQ pro zabezpečení zprávy.</span><span class="sxs-lookup"><span data-stu-id="42ff2-139">MSMQ uses this internal certificate to secure the message.</span></span> <span data-ttu-id="42ff2-140">Správce fronty používá službu Active Directory pro vyhledávání a nalezení odpovídajícího certifikátu ověřování klienta a ověří, že identifikátor SID také odpovídající jazyku klienta.</span><span class="sxs-lookup"><span data-stu-id="42ff2-140">The receiving queue manager uses Active Directory to search and find a matching certificate to authenticate the client and checks that the SID also matches that of the client.</span></span> <span data-ttu-id="42ff2-141">Tento krok ověření se provede, pokud certifikát, buď generováno interně v případě třídy `WindowsDomain` režim ověřování nebo externě generované v případě třídy `Certificate` režim ověřování je připojen ke zprávě, i když je cílová fronta Neoznačeno jako vyžadující ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-141">This authentication step is executed if a certificate, either internally generated in the case of `WindowsDomain` authentication mode or externally generated in the case of `Certificate` authentication mode, is attached to the message even if the target queue is not marked as requiring authentication.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="42ff2-142">Při vytváření fronty, můžete označit fronty jako ověřený fronty k označení, že fronta vyžaduje ověřování klientů v odesílání zpráv do fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-142">When creating a queue, you can mark the queue as an authenticated queue to indicate that the queue requires authentication of the client sending messages to the queue.</span></span> <span data-ttu-id="42ff2-143">Tím se zajistí, že jsou přijaty žádné neověřené zprávy ve frontě.</span><span class="sxs-lookup"><span data-stu-id="42ff2-143">This ensures that no unauthenticated messages are accepted in the queue.</span></span>  
  
 <span data-ttu-id="42ff2-144">Připojil se k němu identifikátor SID zprávy se také používá ke kontrole proti cílové fronty ACL, ujistěte se, že klient má oprávnění k odesílání zpráv do fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-144">The SID attached with the message is also used to check against the target queue's ACL to ensure that the client has the authority to send messages to the queue.</span></span>  
  
#### <a name="certificate-authentication-mode"></a><span data-ttu-id="42ff2-145">Režim ověřování certifikátu</span><span class="sxs-lookup"><span data-stu-id="42ff2-145">Certificate Authentication Mode</span></span>  
 <span data-ttu-id="42ff2-146">Volba režimu ověřování certifikátu nevyžaduje, aby integrace služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42ff2-146">The choice of using certificate authentication mode does not require Active Directory integration.</span></span> <span data-ttu-id="42ff2-147">Ve skutečnosti v některých případech, například když je služba MSMQ nainstalovaná v režimu pracovní skupiny (bez integrace služby Active Directory) nebo pomocí protokol spolehlivého zasílání zpráv SOAP (SRMP) při přenosu protokolu pro odesílání zpráv do fronty, pouze <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> funguje.</span><span class="sxs-lookup"><span data-stu-id="42ff2-147">In fact, in some cases, such as when MSMQ is installed in workgroup mode (without Active Directory integration) or when using the SOAP Reliable Messaging Protocol (SRMP) transfer protocol to send messages to the queue, only <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> works.</span></span>  
  
 <span data-ttu-id="42ff2-148">Při odesílání zprávy WCF s <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>, kanál WCF se nepřipojí Windows SID zprávy služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="42ff2-148">When sending a WCF message with <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>, the WCF channel does not attach a Windows SID to the MSMQ message.</span></span> <span data-ttu-id="42ff2-149">V důsledku toho cílová fronta ACL musí povolovat `Anonymous` přístup uživatelů k odeslání do fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-149">As such, the target queue ACL must allow for `Anonymous` user access to send to the queue.</span></span> <span data-ttu-id="42ff2-150">Správce fronty kontroluje, zda zprávy služby MSMQ byla podepsána pomocí certifikátu, ale neprovede žádné ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-150">The receiving queue manager checks whether the MSMQ message was signed with the certificate but does not perform any authentication.</span></span>  
  
 <span data-ttu-id="42ff2-151">Certifikát s jeho deklarace identity a informací o identitě vložené <xref:System.ServiceModel.ServiceSecurityContext> kanálu zařazených do fronty přenosu WCF.</span><span class="sxs-lookup"><span data-stu-id="42ff2-151">The certificate with its claims and identity information is populated in the <xref:System.ServiceModel.ServiceSecurityContext> by the WCF queued transport channel.</span></span> <span data-ttu-id="42ff2-152">Služby můžete použít tyto informace k provedení vlastní ověřování odesílatele.</span><span class="sxs-lookup"><span data-stu-id="42ff2-152">The service can use this information to perform its own authentication of the sender.</span></span>  
  
### <a name="msmq-protection-level"></a><span data-ttu-id="42ff2-153">Úroveň ochrany služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="42ff2-153">MSMQ Protection Level</span></span>  
 <span data-ttu-id="42ff2-154">Úroveň ochrany Určuje, jak chránit zprávy služby MSMQ, ujistěte se, že není manipulováno.</span><span class="sxs-lookup"><span data-stu-id="42ff2-154">The protection level dictates how to protect the MSMQ message to ensure that it is not tampered with.</span></span> <span data-ttu-id="42ff2-155">Je zadán v <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="42ff2-155">It is specified in the <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> property.</span></span> <span data-ttu-id="42ff2-156">Výchozí hodnota je <xref:System.Net.Security.ProtectionLevel.Sign>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-156">The default value is <xref:System.Net.Security.ProtectionLevel.Sign>.</span></span>  
  
#### <a name="sign-protection-level"></a><span data-ttu-id="42ff2-157">Úroveň ochrany přihlášení</span><span class="sxs-lookup"><span data-stu-id="42ff2-157">Sign Protection Level</span></span>  
 <span data-ttu-id="42ff2-158">Zprávy služby MSMQ je podepsaná pomocí certifikátu, který interně vygenerovanému, při použití `WindowsDomain` režim ověřování, nebo externě generovaného certifikát při použití `Certificate` režim ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-158">The MSMQ message is signed using the internally generated certificate when using `WindowsDomain` authentication mode or an externally generated certificate when using `Certificate` authentication mode.</span></span>  
  
#### <a name="sign-and-encrypt-protection-level"></a><span data-ttu-id="42ff2-159">Podepisování a šifrování úroveň ochrany</span><span class="sxs-lookup"><span data-stu-id="42ff2-159">Sign and Encrypt Protection Level</span></span>  
 <span data-ttu-id="42ff2-160">Zprávy služby MSMQ je podepsaná pomocí certifikátu, který interně vygenerovanému, při použití `WindowsDomain` režim ověřování nebo externě vygenerovaný certifikát při použití `Certificate` režim ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-160">The MSMQ message is signed using the internally generated certificate when using `WindowsDomain` authentication mode or externally generated certificate when using `Certificate` authentication mode.</span></span>  
  
 <span data-ttu-id="42ff2-161">Kromě podepsání zprávy zprávy služby MSMQ zašifrovaná pomocí veřejného klíče certifikátu získané ze služby Active Directory, který patří do Správce fronty, který je hostitelem cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="42ff2-161">In addition to signing the message, the MSMQ message is encrypted using the public key of the certificate obtained from Active Directory that belongs to the receiving queue manager that hosts the target queue.</span></span> <span data-ttu-id="42ff2-162">Odesílání správce fronty zajistí, že je při přenosu zašifrované zprávy služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="42ff2-162">The sending queue manager ensures that the MSMQ message is encrypted in transit.</span></span> <span data-ttu-id="42ff2-163">Správce fronty dešifruje zprávy služby MSMQ pomocí soukromého klíče jeho vnitřní certifikát a uloží zprávu ve frontě (Pokud se ověří a autorizuje) ve formátu prostého textu.</span><span class="sxs-lookup"><span data-stu-id="42ff2-163">The receiving queue manager decrypts the MSMQ message using the private key of its internal certificate and stores the message in the queue (if authenticated and authorized) in clear text.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="42ff2-164">Pro šifrování zprávy, je vyžadován přístup k Active Directory (`UseActiveDirectory` vlastnost <xref:System.ServiceModel.NetMsmqBinding> musí být nastaveno na `true`) a je možné s oběma <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> a <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-164">To encrypt the message, Active Directory access is required (`UseActiveDirectory` property of <xref:System.ServiceModel.NetMsmqBinding> must be set to `true`) and can be used with both <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> and <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span></span>  
  
#### <a name="none-protection-level"></a><span data-ttu-id="42ff2-165">Žádná úroveň ochrany</span><span class="sxs-lookup"><span data-stu-id="42ff2-165">None Protection Level</span></span>  
 <span data-ttu-id="42ff2-166">To je implicitní při <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> je nastavena na <xref:System.Net.Security.ProtectionLevel.None>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-166">This is implied when <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.None>.</span></span> <span data-ttu-id="42ff2-167">Nemůže to být platná hodnota pro jiné režimy ověřování.</span><span class="sxs-lookup"><span data-stu-id="42ff2-167">This cannot be a valid value for any other authentication modes.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="42ff2-168">Pokud zprávy služby MSMQ se znaménkem, MSMQ zkontroluje, zda zpráva je podepsané připojené certifikátem (interní nebo externí) bez ohledu na stav fronty, tedy ověřeného fronty, nebo ne.</span><span class="sxs-lookup"><span data-stu-id="42ff2-168">If the MSMQ message is signed, MSMQ checks whether the message is signed with the attached certificate (internal or external) independent of the state of the queue, that is, authenticated queue or not.</span></span>  
  
### <a name="msmq-encryption-algorithm"></a><span data-ttu-id="42ff2-169">Algoritmus šifrování služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="42ff2-169">MSMQ Encryption Algorithm</span></span>  
 <span data-ttu-id="42ff2-170">Šifrovací algoritmus Určuje algoritmus použitý k šifrování zprávy služby MSMQ na lince.</span><span class="sxs-lookup"><span data-stu-id="42ff2-170">The encryption algorithm specifies the algorithm to use to encrypt the MSMQ message on the wire.</span></span> <span data-ttu-id="42ff2-171">Tato vlastnost se používá jenom v případě <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> je nastavena na <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-171">This property is used only if <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span></span>  
  
 <span data-ttu-id="42ff2-172">Jsou podporované algoritmy `RC4Stream` a `AES` a výchozí hodnota je `RC4Stream`.</span><span class="sxs-lookup"><span data-stu-id="42ff2-172">The supported algorithms are `RC4Stream` and `AES` and the default is `RC4Stream`.</span></span>  
  
 <span data-ttu-id="42ff2-173">Můžete použít `AES` algoritmus pouze v případě, že má odesílatel služby MSMQ 4.0 nainstalované.</span><span class="sxs-lookup"><span data-stu-id="42ff2-173">You can use the `AES` algorithm only if the sender has MSMQ 4.0 installed.</span></span> <span data-ttu-id="42ff2-174">Cílová fronta kromě toho musí být také hostovány na MSMQ 4.0.</span><span class="sxs-lookup"><span data-stu-id="42ff2-174">In addition, the target queue must also be hosted on MSMQ 4.0.</span></span>  
  
### <a name="msmq-hash-algorithm"></a><span data-ttu-id="42ff2-175">Algoritmus Hash MSMQ</span><span class="sxs-lookup"><span data-stu-id="42ff2-175">MSMQ Hash Algorithm</span></span>  
 <span data-ttu-id="42ff2-176">Určuje algoritmus hash algoritmus použitý k vytvoření digitální podpis zprávy služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="42ff2-176">The hash algorithm specifies the algorithm used to create a digital signature of the MSMQ message.</span></span> <span data-ttu-id="42ff2-177">Správce fronty Tento stejný algoritmus používá k ověření zprávy služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="42ff2-177">The receiving queue manager uses this same algorithm to authenticate the MSMQ message.</span></span> <span data-ttu-id="42ff2-178">Tato vlastnost se používá jenom v případě <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> je nastavena na <xref:System.Net.Security.ProtectionLevel.Sign> nebo <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span><span class="sxs-lookup"><span data-stu-id="42ff2-178">This property is used only if <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.Sign> or <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span></span>  
  
 <span data-ttu-id="42ff2-179">Jsou podporované algoritmy `MD5`, `SHA1`, `SHA256`, a `SHA512`.</span><span class="sxs-lookup"><span data-stu-id="42ff2-179">The supported algorithms are `MD5`, `SHA1`, `SHA256`, and `SHA512`.</span></span> <span data-ttu-id="42ff2-180">Výchozí hodnota je `SHA1`.</span><span class="sxs-lookup"><span data-stu-id="42ff2-180">The default is `SHA1`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="42ff2-181">Viz také:</span><span class="sxs-lookup"><span data-stu-id="42ff2-181">See also</span></span>

- [<span data-ttu-id="42ff2-182">Přehled front</span><span class="sxs-lookup"><span data-stu-id="42ff2-182">Queues Overview</span></span>](queues-overview.md)
- [<span data-ttu-id="42ff2-183">Koncepty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="42ff2-183">Security Concepts</span></span>](../../../../docs/framework/wcf/feature-details/security-concepts.md)
- [<span data-ttu-id="42ff2-184">Zabezpečení služeb a klientů</span><span class="sxs-lookup"><span data-stu-id="42ff2-184">Securing Services and Clients</span></span>](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)
