---
title: Rozšířená ochrana pro ověřování – přehled
ms.date: 03/30/2017
ms.assetid: 3d2ceffe-a7bf-4bd9-a5a2-9406423bd7f8
ms.openlocfilehash: 2c166ae4795a64983c0df81629669c9cbf5b0d97
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64665954"
---
# <a name="extended-protection-for-authentication-overview"></a><span data-ttu-id="a5f5a-102">Rozšířená ochrana pro ověřování – přehled</span><span class="sxs-lookup"><span data-stu-id="a5f5a-102">Extended Protection for Authentication Overview</span></span>
<span data-ttu-id="a5f5a-103">Rozšířená ochrana ověřování pomáhá chránit před útoky (typu MITM) man-in-the-middle, při které útočník zachycuje přihlašovací údaje klienta a předává je na serveru.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-103">Extended Protection for Authentication helps protect against man-in-the-middle (MITM) attacks, in which an attacker intercepts a client’s credentials and forwards them to a server.</span></span>  
  
 <span data-ttu-id="a5f5a-104">Představte si třeba situaci s tři účastníky, kterými: klienta, server a útočník.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-104">Consider a scenario with three participants: a client, server, and attacker.</span></span> <span data-ttu-id="a5f5a-105">Adresa URL má server `https://server`, že adresa URL má útočník `https://attacker`.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-105">The server has the URL `https://server`, whereas the attacker has the URL `https://attacker`.</span></span> <span data-ttu-id="a5f5a-106">Útočník triky klienta do přístup k útočník, jako kdyby byly na serveru.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-106">The attacker tricks the client into accessing the attacker as if it were the server.</span></span> <span data-ttu-id="a5f5a-107">Útočník pak odešle požadavek na server.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-107">The attacker then sends a request to the server.</span></span> <span data-ttu-id="a5f5a-108">Pokud se útočník pokouší o přístup k zabezpečení prostředků, server odpoví útočníkovi s hlavičku WWW-Authenticate.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-108">If the attacker is trying to access a secure resource, the server replies to the attacker with a WWW-Authenticate header.</span></span> <span data-ttu-id="a5f5a-109">Útočník nemá informace o ověřování, takže pošle hlavičku WWW-Authenticate ke klientovi.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-109">The attacker does not have the authentication information, so it sends the WWW-Authenticate header on to the client.</span></span> <span data-ttu-id="a5f5a-110">Klient odešle autorizační hlavičky pro útočníka a útočník hlavičku na server a získá přístup k zabezpečeným prostředkům pomocí přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-110">The client sends the Authorization header to the attacker, and the attacker sends the header on to the server and gets access to the secure resources using the client’s credentials.</span></span>  
  
 <span data-ttu-id="a5f5a-111">Když klientská aplikace ověří na serveru pomocí protokolu Kerberos, Digest nebo NTLM pomocí protokolu HTTPS, v současné době kanálu úroveň zabezpečení TLS (Transport) je prvním vytváření a ověřování probíhá pomocí tohoto kanálu.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-111">Currently, when a client application authenticates itself to the server using Kerberos, Digest, or NTLM using HTTPS, a Transport Level Security (TLS) channel is first established and authentication takes place using this channel.</span></span> <span data-ttu-id="a5f5a-112">Neexistuje ale žádná vazba mezi vygenerované pomocí vrstvy SSL (Secure Sockets) klíč relace a klíče relace, který je generován během ověřování.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-112">However, there is no binding between the session key generated by Secure Sockets Layer (SSL) and the session key that is generated during authentication.</span></span> <span data-ttu-id="a5f5a-113">Tak, v předchozím scénáři, pokud komunikace přes protokol TLS (např. kanál protokolu HTTPS), trvá míst existují dva kanály SSL vytvořili: jeden mezi klientem a útočník a jiné mezi útočník a serverem.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-113">So, in the previous scenario, if the communication takes places over a TLS (such as an HTTPS channel), there are two SSL channels created: one between the client and the attacker, and another between the attacker and the server.</span></span> <span data-ttu-id="a5f5a-114">Přihlašovací údaje klienta jsou odeslaných z klienta na server nejprve prostřednictvím kanálu SSL mezi klientem a útočník a potom prostřednictvím kanálu mezi útočník a serverem.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-114">The client’s credentials are sent from the client to the server first over the SSL channel between the client and the attacker and then over the channel between the attacker and the server.</span></span> <span data-ttu-id="a5f5a-115">Jakmile přihlašovací údaje klienta spojit se serverem, server ověřuje přihlašovací údaje bez detekuje, že kanál nad tím, které byly odeslány tyto přihlašovací údaje pochází ze útočník a ne klienta.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-115">Once the client’s credentials reach the server, the server verifies the credentials without detecting that the channel over which those credentials were sent originated with the attacker and not the client.</span></span>  
  
 <span data-ttu-id="a5f5a-116">Řešením je použití vnějšího kanál TLS zabezpečené a ověření klienta vnitřního kanálu a předat kanálu vazby Token (CBT) na server.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-116">The solution is to use a TLS-secured outer channel and a client-authenticated inner channel, and to pass a Channel Binding Token (CBT) to the server.</span></span> <span data-ttu-id="a5f5a-117">CBT je vlastnost kanálu vnější zabezpečené TLS a slouží k vytvoření vazby na vnější kanál ke konverzaci přes kanál vnitřní ověření klienta.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-117">The CBT is a property of the TLS-secured outer channel, and is used to bind the outer channel to a conversation over the client-authenticated inner channel.</span></span>  
  
 <span data-ttu-id="a5f5a-118">V předchozím scénáři CBT kanál TLS klienta útočník sloučeny s informace o ověření, která je odeslána na server.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-118">In the previous scenario, the CBT of the client-attacker TLS channel is merged with the authorization information that is sent to the server.</span></span> <span data-ttu-id="a5f5a-119">Porovná s ohledem na CBT server CBT obsažené v informace o ověřování klienta odpovídá klienta útočník kanál, CBT připojená ke kanálu útočník serveru.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-119">A CBT-aware server compares the CBT contained in the client authentication information, which corresponds to the client-attacker channel, to the CBT attached to the attacker-server channel.</span></span> <span data-ttu-id="a5f5a-120">CBT je specifický pro určení nějaký kanál, takže útočník klienta CBT neodpovídá server útočník CBT.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-120">A CBT is specific to a channel’s destination, so the client-attacker CBT does not match the attacker-server CBT.</span></span> <span data-ttu-id="a5f5a-121">To umožňuje serveru zjistit útoky MITM a odmítnout žádosti o ověření.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-121">This lets the server detect the MITM attack and refuse the authentication request.</span></span>  
  
 <span data-ttu-id="a5f5a-122">Na straně klienta nevyžaduje, aby všechna nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-122">The client side does not require any configuration setting.</span></span> <span data-ttu-id="a5f5a-123">Jakmile klient byl aktualizován CBT předat serveru, vždy provádí.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-123">Once the client has been updated to pass the CBT to the server, it always does so.</span></span> <span data-ttu-id="a5f5a-124">Pokud na serveru se také aktualizovala, dá se použít CBT nebo ji ignorovat.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-124">If the server has also been updated, it can be configured to use the CBT or ignore it.</span></span> <span data-ttu-id="a5f5a-125">Pokud ho ještě není aktualizovaný, ignoruje se.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-125">If it has not been updated, it ignores it.</span></span>  
  
 <span data-ttu-id="a5f5a-126">Server může mít následující úrovně ochrany:</span><span class="sxs-lookup"><span data-stu-id="a5f5a-126">The server can have the following levels of protection:</span></span>  
  
- <span data-ttu-id="a5f5a-127">Žádné</span><span class="sxs-lookup"><span data-stu-id="a5f5a-127">None.</span></span> <span data-ttu-id="a5f5a-128">Provede se žádné ověření vazby kanálu.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-128">No channel binding validation is performed.</span></span> <span data-ttu-id="a5f5a-129">Toto je chování ve všech serverech, které nebyly aktualizovány.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-129">This is the behavior of all servers that have not been updated.</span></span>  
  
- <span data-ttu-id="a5f5a-130">Částečné.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-130">Partial.</span></span> <span data-ttu-id="a5f5a-131">Všichni klienti, kteří se aktualizovaly musíte zadat informace o vazbě kanál na server.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-131">All clients that have been updated must provide channel binding information to the server.</span></span> <span data-ttu-id="a5f5a-132">Klienti, kteří neprovedli aktualizaci není potřeba udělat.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-132">Clients that have not been updated do not have to do so.</span></span> <span data-ttu-id="a5f5a-133">Toto je zprostředkující možnost, která umožňuje pro zajištění kompatibility aplikací.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-133">This is an intermediate option that allows for application compatibility.</span></span>  
  
- <span data-ttu-id="a5f5a-134">Úplná.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-134">Full.</span></span> <span data-ttu-id="a5f5a-135">Všichni klienti musí poskytnout informace o vazbě kanálu.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-135">All clients must provide channel binding information.</span></span> <span data-ttu-id="a5f5a-136">Server odmítá žádosti o ověření z klientů, kteří tak.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-136">The server rejects authentication requests from clients that do not do so.</span></span>  
  
 <span data-ttu-id="a5f5a-137">Další informace najdete v ukázce Win7 CBT/Rozšířená ochrana.</span><span class="sxs-lookup"><span data-stu-id="a5f5a-137">For more information, see the Win7 CBT/Extended Protection sample.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a5f5a-138">Viz také:</span><span class="sxs-lookup"><span data-stu-id="a5f5a-138">See also</span></span>

- [<span data-ttu-id="a5f5a-139">Model zabezpečení pro Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="a5f5a-139">Security Model for Windows Server App Fabric</span></span>](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)
