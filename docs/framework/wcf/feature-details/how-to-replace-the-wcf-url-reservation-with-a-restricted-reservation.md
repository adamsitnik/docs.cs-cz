---
title: 'Postupy: Nahrazení rezervace adresy URL služby WCF omezenou rezervací'
ms.date: 03/30/2017
ms.assetid: 2754d223-79fc-4e2b-a6ce-989889f2abfa
ms.openlocfilehash: f9cfda1d4ca14dd380dd01f944d4c900f9832096
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59307558"
---
# <a name="how-to-replace-the-wcf-url-reservation-with-a-restricted-reservation"></a><span data-ttu-id="d68eb-102">Postupy: Nahrazení rezervace adresy URL služby WCF omezenou rezervací</span><span class="sxs-lookup"><span data-stu-id="d68eb-102">How to: Replace the WCF URL Reservation with a Restricted Reservation</span></span>
<span data-ttu-id="d68eb-103">Rezervace adresy URL můžete tak omezit, kdo přijímá zprávy z adresy URL nebo sadu adresy URL.</span><span class="sxs-lookup"><span data-stu-id="d68eb-103">A URL reservation allows you to restrict who can receive messages from a URL or a set of URLs.</span></span> <span data-ttu-id="d68eb-104">Rezervace se skládá z adresy URL šablony, seznam řízení přístupu (ACL) a sada příznaků.</span><span class="sxs-lookup"><span data-stu-id="d68eb-104">A reservation consists of a URL template, an access control list (ACL), and a set of flags.</span></span> <span data-ttu-id="d68eb-105">Adresa URL Šablona definuje adresy URL, které má vliv na rezervaci.</span><span class="sxs-lookup"><span data-stu-id="d68eb-105">The URL template defines which URLs the reservation affects.</span></span> <span data-ttu-id="d68eb-106">Další informace o způsobu zpracování adresy URL šablony najdete v tématu [směrování příchozích požadavků](https://go.microsoft.com/fwlink/?LinkId=136764).</span><span class="sxs-lookup"><span data-stu-id="d68eb-106">For more information about how URL templates are processed, see [Routing Incoming Requests](https://go.microsoft.com/fwlink/?LinkId=136764).</span></span> <span data-ttu-id="d68eb-107">Seznam ACL ovládací prvky, které uživatel nebo skupina uživatelů je povolené pro příjem zpráv ze zadané adresy URL.</span><span class="sxs-lookup"><span data-stu-id="d68eb-107">The ACL controls what user or group of users is permitted to receive messages from the specified URLs.</span></span> <span data-ttu-id="d68eb-108">Příznaky označí, zda je rezervace poskytnout oprávnění uživatele nebo skupinu tak, aby naslouchala na adresu URL přímo, nebo chcete delegovat oprávnění tak, aby naslouchala na nějaký jiný proces.</span><span class="sxs-lookup"><span data-stu-id="d68eb-108">The flags indicate whether the reservation is to give a user or group permission to listen on the URL directly or to delegate the permission to listen to some other process.</span></span>  
  
 <span data-ttu-id="d68eb-109">Jako součást výchozí konfigurace operačního systému Windows Communication Foundation (WCF) vytvoří globálně dostupné rezervace pro port 80 povolit všem uživatelům spouštět aplikace, které používají duální vazbu HTTP pro duplexní komunikaci.</span><span class="sxs-lookup"><span data-stu-id="d68eb-109">As part of the default operating system configuration, Windows Communication Foundation (WCF) creates a globally accessible reservation for port 80 to enable all users to run applications that use a dual HTTP binding for duplex communication.</span></span> <span data-ttu-id="d68eb-110">Vzhledem k tomu seznamu řízení přístupu na tuto rezervaci pro každého, správce nemůže explicitně povolte nebo zakažte oprávnění naslouchat na adresu URL nebo sadu adresy URL.</span><span class="sxs-lookup"><span data-stu-id="d68eb-110">Because the ACL on this reservation is for everyone, administrators cannot explicitly allow or disallow permission to listen on a URL or set of URLs.</span></span> <span data-ttu-id="d68eb-111">Toto téma vysvětluje, jak odstranit tuto rezervaci a znovu vytvořit rezervaci s omezeným seznamu ACL.</span><span class="sxs-lookup"><span data-stu-id="d68eb-111">This topic explains how to delete this reservation and how to re-create the reservation with a restricted ACL.</span></span>  
  
 <span data-ttu-id="d68eb-112">Na [!INCLUDE[wv](../../../../includes/wv-md.md)] nebo [!INCLUDE[lserver](../../../../includes/lserver-md.md)] můžete zobrazit všechny rezervace adresy URL protokolu HTTP z příkazového řádku se zvýšenými oprávněními zadejte `netsh http show urlacl`.</span><span class="sxs-lookup"><span data-stu-id="d68eb-112">On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)] you can view all of the HTTP URL reservations from an elevated command prompt by typing `netsh http show urlacl`.</span></span>  <span data-ttu-id="d68eb-113">Následující příklad ukazuje, co by se mělo podobat rezervaci adresy URL WCF.</span><span class="sxs-lookup"><span data-stu-id="d68eb-113">The following example shows what a WCF URL reservation should resemble.</span></span>  
  
```  
Reserved URL : http://+:80/Temporary_Listen_Addresses/  
        User: \Everyone  
            Listen: Yes  
            Delegate: No  
            SDDL: D:(A;;GX;;;WD)  
```  
  
 <span data-ttu-id="d68eb-114">Rezervace se skládá z adresy URL šablony aplikace WCF je používání duální vazbu HTTP pro duplexní komunikaci.</span><span class="sxs-lookup"><span data-stu-id="d68eb-114">The reservation consists of a URL template used when a WCF application is using an HTTP dual binding for duplex communication.</span></span> <span data-ttu-id="d68eb-115">Adresy URL tento formát se používají pro služby WCF k odesílání zpráv zpět do klienta WCF při komunikaci přes duální vazbu protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="d68eb-115">URLs of this form are used for a WCF service to send messages back to the WCF client when communicating over a HTTP dual binding.</span></span> <span data-ttu-id="d68eb-116">Všichni uděleno oprávnění k naslouchání na adrese URL, ale nechcete delegovat na jiný proces.</span><span class="sxs-lookup"><span data-stu-id="d68eb-116">Everyone is given permission to listen on the URL but not to delegate listening to another process.</span></span> <span data-ttu-id="d68eb-117">Nakonec seznamu ACL je popsán v zabezpečení popisovač Definition Language (SSDL).</span><span class="sxs-lookup"><span data-stu-id="d68eb-117">Finally, the ACL is described in Security Descriptor Definition Language (SSDL).</span></span> <span data-ttu-id="d68eb-118">Další informace o SSDL, naleznete v tématu [SSDL](https://go.microsoft.com/fwlink/?LinkId=136789)</span><span class="sxs-lookup"><span data-stu-id="d68eb-118">For more information about SSDL, see [SSDL](https://go.microsoft.com/fwlink/?LinkId=136789)</span></span>  
  
### <a name="to-delete-the-wcf-url-reservation"></a><span data-ttu-id="d68eb-119">Chcete-li odstranit rezervaci adresy URL WCF</span><span class="sxs-lookup"><span data-stu-id="d68eb-119">To delete the WCF URL reservation</span></span>  
  
1. <span data-ttu-id="d68eb-120">Klikněte na tlačítko **Start**, přejděte na **všechny programy**, klikněte na tlačítko **Příslušenství**, klikněte pravým tlačítkem na **příkazového řádku** a klikněte na tlačítko **spustit jako Správce** v místní nabídce, která se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="d68eb-120">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="d68eb-121">Klikněte na tlačítko **pokračovat** v okně Řízení uživatelských účtů (UAC), které může požádat o oprávnění, abyste mohli pokračovat.</span><span class="sxs-lookup"><span data-stu-id="d68eb-121">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="d68eb-122">Zadejte **netsh http delete urlacl url =http://+:80/Temporary_Listen_Addresses/**  v okně příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d68eb-122">Type in **netsh http delete urlacl url=http://+:80/Temporary_Listen_Addresses/** in the command prompt window.</span></span>  
  
3. <span data-ttu-id="d68eb-123">Pokud rezervaci byl úspěšně odstraněn, zobrazí se následující zpráva.</span><span class="sxs-lookup"><span data-stu-id="d68eb-123">If the reservation is deleted successfully, the following message is displayed.</span></span> **<span data-ttu-id="d68eb-124">Rezervace adresy URL se úspěšně odstranil</span><span class="sxs-lookup"><span data-stu-id="d68eb-124">URL reservation successfully deleted</span></span>**  
  
## <a name="creating-a-new-security-group-and-new-restricted-url-reservation"></a><span data-ttu-id="d68eb-125">Vytvoření nové skupiny zabezpečení a novou rezervaci adresy URL s omezeným přístupem</span><span class="sxs-lookup"><span data-stu-id="d68eb-125">Creating a New Security Group and New Restricted URL Reservation</span></span>  
 <span data-ttu-id="d68eb-126">K nahrazení rezervace adresy URL WCF omezenou rezervací musíte nejprve vytvořit novou skupinu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="d68eb-126">To replace the WCF URL reservation with a restricted reservation you must first create a new security group.</span></span> <span data-ttu-id="d68eb-127">Provedete to jedním ze dvou způsobů: z příkazového řádku nebo z konzoly Správa počítače.</span><span class="sxs-lookup"><span data-stu-id="d68eb-127">You can do this in one of two ways: from a command prompt or from the computer management console.</span></span> <span data-ttu-id="d68eb-128">Stačí jedno.</span><span class="sxs-lookup"><span data-stu-id="d68eb-128">You only have to do one.</span></span>  
  
#### <a name="to-create-a-new-security-group-from-a-command-prompt"></a><span data-ttu-id="d68eb-129">Chcete-li vytvořit novou skupinu zabezpečení z příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="d68eb-129">To create a new security group from a command prompt</span></span>  
  
1. <span data-ttu-id="d68eb-130">Klikněte na tlačítko **Start**, přejděte na **všechny programy**, klikněte na tlačítko **Příslušenství**, klikněte pravým tlačítkem na **příkazového řádku** a klikněte na tlačítko **spustit jako Správce** v místní nabídce, která se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="d68eb-130">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="d68eb-131">Klikněte na tlačítko **pokračovat** v okně Řízení uživatelských účtů (UAC), které může požádat o oprávnění, abyste mohli pokračovat.</span><span class="sxs-lookup"><span data-stu-id="d68eb-131">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="d68eb-132">Zadejte **net localgroup "\<zabezpečení skupiny název >" / komentáře: "\<popis skupiny zabezpečení >" / add** příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d68eb-132">Type in **net localgroup "\<security group name>" /comment:"\<security group description>" /add** at the command prompt.</span></span> <span data-ttu-id="d68eb-133">Nahrazení  **\<název skupiny zabezpečení >** s názvem skupiny zabezpečení, kterou chcete vytvořit a  **\<popis skupiny zabezpečení >** s vhodnou popis Skupina zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="d68eb-133">Replacing **\<security group name>** with the name of the security group you want to create and **\<security group description>** with a suitable description for the security group.</span></span>  
  
3. <span data-ttu-id="d68eb-134">Pokud skupinu zabezpečení proběhne úspěšně, zobrazí se následující zpráva.</span><span class="sxs-lookup"><span data-stu-id="d68eb-134">If the security group is created successfully, the following message is displayed.</span></span> **<span data-ttu-id="d68eb-135">Příkaz byl úspěšně dokončen.</span><span class="sxs-lookup"><span data-stu-id="d68eb-135">The command completed successfully.</span></span>**  
  
#### <a name="to-create-a-new-security-group-from-the-computer-management-console"></a><span data-ttu-id="d68eb-136">Chcete-li vytvořit novou skupinu zabezpečení z konzoly Správa počítače</span><span class="sxs-lookup"><span data-stu-id="d68eb-136">To create a new security group from the computer management console</span></span>  
  
1. <span data-ttu-id="d68eb-137">Klikněte na tlačítko **Start**, klikněte na tlačítko **ovládací panely**, klikněte na tlačítko **nástroje pro správu**a klikněte na tlačítko **Správa počítače** otevřete počítači Konzola pro správu.</span><span class="sxs-lookup"><span data-stu-id="d68eb-137">Click **Start**, click **Control Panel**, click **Administrative Tools**, and click **Computer Management** to open up the Computer Management Console.</span></span> <span data-ttu-id="d68eb-138">Klikněte na tlačítko **pokračovat** v okně Řízení uživatelských účtů (UAC), které může požádat o oprávnění, abyste mohli pokračovat.</span><span class="sxs-lookup"><span data-stu-id="d68eb-138">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="d68eb-139">Klikněte na tlačítko **systémové nástroje**, klikněte na tlačítko **místní uživatelé a skupiny**, klikněte pravým tlačítkem na **skupiny** složky a klikněte na tlačítko **nová skupina** v místní nabídce, která se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="d68eb-139">Click **System Tools**, click **Local Users and Groups**, right-click **Groups** folder and click **New Group** on the context menu that comes up.</span></span> <span data-ttu-id="d68eb-140">Zadejte požadovaný **název skupiny**, **popis** a další podrobnosti o této nové skupiny zabezpečení a klikněte na tlačítko **vytvořit** pro vytvoření skupiny zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="d68eb-140">Type in the desired **Group Name**, **Description** and other details of this new security group and click the **Create** button to create the security group.</span></span>  
  
#### <a name="to-create-the-restricted-url-reservation"></a><span data-ttu-id="d68eb-141">Chcete-li vytvořit s omezeným přístupem rezervaci adresy URL</span><span class="sxs-lookup"><span data-stu-id="d68eb-141">To create the restricted URL reservation</span></span>  
  
1. <span data-ttu-id="d68eb-142">Klikněte na tlačítko **Start**, přejděte na **všechny programy**, klikněte na tlačítko **Příslušenství**, klikněte pravým tlačítkem na **příkazového řádku** a klikněte na tlačítko **spustit jako Správce** v místní nabídce, která se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="d68eb-142">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="d68eb-143">Klikněte na tlačítko **pokračovat** v okně Řízení uživatelských účtů (UAC), které může požádat o oprávnění, abyste mohli pokračovat.</span><span class="sxs-lookup"><span data-stu-id="d68eb-143">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="d68eb-144">Zadejte **netsh http přidat adresu url urlacl =http://+:80/Temporary_Listen_Addresses/ uživatel = "\<název počítače >\\< název skupiny zabezpečení\>**  příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d68eb-144">Type in **netsh http add urlacl url=http://+:80/Temporary_Listen_Addresses/ user="\<machine name>\\<security group name\>** at the command prompt.</span></span> <span data-ttu-id="d68eb-145">Nahrazení  **\<název počítače >** s názvem počítače, na kterém skupina musí být vytvořená a  **\<název skupiny zabezpečení >** s názvem skupinu zabezpečení, kterou jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="d68eb-145">Replacing **\<machine name>** with the computer name on which the group must be created and **\<security group name>** with the name of the security group you created previously.</span></span>  
  
3. <span data-ttu-id="d68eb-146">Pokud rezervaci proběhne úspěšně, zobrazí se následující zpráva.</span><span class="sxs-lookup"><span data-stu-id="d68eb-146">If the reservation is created successfully, the following message is displayed.</span></span> <span data-ttu-id="d68eb-147">**Rezervace adresy URL se úspěšně přidal**.</span><span class="sxs-lookup"><span data-stu-id="d68eb-147">**URL reservation successfully added**.</span></span>
