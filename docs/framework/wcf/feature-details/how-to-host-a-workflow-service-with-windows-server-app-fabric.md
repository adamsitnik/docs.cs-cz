---
title: 'Postupy: Hostování služby pracovního procesu pomocí Windows Server App Fabric'
ms.date: 03/30/2017
ms.assetid: 83b62cce-5fc2-4c6d-b27c-5742ba3bac73
ms.openlocfilehash: d762863b70191662f4eb145388a48484c944e1e0
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/08/2019
ms.locfileid: "59202258"
---
# <a name="how-to-host-a-workflow-service-with-windows-server-app-fabric"></a><span data-ttu-id="76983-102">Postupy: Hostování služby pracovního procesu pomocí Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-102">How to: Host a Workflow Service with Windows Server App Fabric</span></span>
<span data-ttu-id="76983-103">Hostování služeb pracovních postupů v prostředcích infrastruktury aplikace je podobný hostování v rámci služby IIS nebo WAS.</span><span class="sxs-lookup"><span data-stu-id="76983-103">Hosting workflow services in App Fabric is similar to hosting under IIS/WAS.</span></span> <span data-ttu-id="76983-104">Jediným rozdílem je, nástroje, které poskytuje App Fabric pro nasazení, monitorování a správu služeb pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="76983-104">The only difference is the tools App Fabric provides for deploying, monitoring, and managing workflow services.</span></span> <span data-ttu-id="76983-105">Toto téma používá služby pracovních postupů v vytvoří [vytvoření dlouhodobé služby pracovního postupu](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span><span class="sxs-lookup"><span data-stu-id="76983-105">This topic uses the workflow service created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span></span> <span data-ttu-id="76983-106">Toto téma vás provede procesem vytvoření služby pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="76983-106">That topic will walk you through creating a workflow service.</span></span> <span data-ttu-id="76983-107">Toto téma vysvětluje, jak hostování služby pracovního postupu pomocí App Fabric.</span><span class="sxs-lookup"><span data-stu-id="76983-107">This topic will explain how to host the workflow service using App Fabric.</span></span> <span data-ttu-id="76983-108">Další informace o systému Windows Server App Fabric najdete v tématu [dokumentaci k systému Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="76983-108">For more information about Windows Server App Fabric, see [Windows Server App Fabric Documentation](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409).</span></span> <span data-ttu-id="76983-109">Před provedením následujících kroků zkontrolujte, že máte nainstalovaný Windows Server App Fabric.</span><span class="sxs-lookup"><span data-stu-id="76983-109">Before completing the steps below make sure you have Windows Server App Fabric installed.</span></span>  <span data-ttu-id="76983-110">Provedete tuto otevřete Internetová informační služba (inetmgr.exe), klikněte na název serveru v **připojení** zobrazení, klikněte na tlačítko weby a klikněte na tlačítko **výchozí webový server**.</span><span class="sxs-lookup"><span data-stu-id="76983-110">To do this open up Internet Information Services (inetmgr.exe), click your server name in the **Connections** view, click Sites, and click **Default Web Site**.</span></span> <span data-ttu-id="76983-111">V pravém okraji obrazovky byste měli vidět část s názvem **App Fabric**.</span><span class="sxs-lookup"><span data-stu-id="76983-111">In the right-hand side of the screen you should see a section called **App Fabric**.</span></span> <span data-ttu-id="76983-112">Pokud se nezobrazí v této části (bude uvedená nahoře v pravém podokně) nemáte nainstalované App Fabric.</span><span class="sxs-lookup"><span data-stu-id="76983-112">If you don’t see this section (it will be on the top of the right-hand pane) you do not have App Fabric installed.</span></span> <span data-ttu-id="76983-113">Další informace o instalaci systému Windows Server App Fabric najdete v části [instalace systému Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkId=193136).</span><span class="sxs-lookup"><span data-stu-id="76983-113">For more information about installing Windows Server App Fabric see [Installing Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkId=193136).</span></span>  
  
### <a name="creating-a-simple-workflow-service"></a><span data-ttu-id="76983-114">Vytvoření služby jednoduchý pracovní postup</span><span class="sxs-lookup"><span data-stu-id="76983-114">Creating a Simple Workflow Service</span></span>  
  
1.  <span data-ttu-id="76983-115">Otevřít Visual Studio 2012 a načtení řešení OrderProcessing, kterou jste vytvořili v [vytvoření dlouhodobé služby pracovního postupu](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="76983-115">Open Visual Studio 2012 and load the OrderProcessing solution you created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) topic.</span></span>  
  
2.  <span data-ttu-id="76983-116">Klikněte pravým tlačítkem myši **OrderService** projektu a vyberte **vlastnosti** a vyberte **webové** kartu.</span><span class="sxs-lookup"><span data-stu-id="76983-116">Right click the **OrderService** project and select **Properties** and select the **Web** tab.</span></span>  
  
3.  <span data-ttu-id="76983-117">V **spustit akci** části na stránce vlastností **konkrétní stránka** a do textového pole zadejte Service1.xamlx.</span><span class="sxs-lookup"><span data-stu-id="76983-117">In the **Start Action** section of the property page select **Specific Page** and type Service1.xamlx in the edit box.</span></span>  
  
4.  <span data-ttu-id="76983-118">V **servery** části na stránce vlastností **použití místní webový Server IIS** a zadejte následující adresu URL: `http://localhost/OrderService`.</span><span class="sxs-lookup"><span data-stu-id="76983-118">In the **Servers** section of the property page select **Use Local IIS Web Server** and type in the following URL: `http://localhost/OrderService`.</span></span>  
  
5.  <span data-ttu-id="76983-119">Klikněte na tlačítko **vytvořit virtuální adresář** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="76983-119">Click the **Create Virtual Directory** button.</span></span> <span data-ttu-id="76983-120">Tím se vytvoří nový virtuální adresář a nastavení projektu při sestavení projektu zkopírovat potřebné soubory do virtuálního adresáře.</span><span class="sxs-lookup"><span data-stu-id="76983-120">This will create a new virtual directory and set up the project to copy the needed files to the virtual directory when the project is built.</span></span>  <span data-ttu-id="76983-121">Další možností je může ručně zkopírovat .xamlx, soubor web.config a všechny potřebné knihovny DLL do virtuálního adresáře.</span><span class="sxs-lookup"><span data-stu-id="76983-121">Alternatively you could manually copy the .xamlx, the web.config, and any needed DLLs to the virtual directory.</span></span>  
  
### <a name="configuring-a-workflow-service-hosted-in-windows-server-app-fabric"></a><span data-ttu-id="76983-122">Konfigurace pracovního postupu služby hostované v systému Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-122">Configuring a Workflow Service Hosted in Windows Server App Fabric</span></span>  
  
1.  <span data-ttu-id="76983-123">Otevřete Správce Internetové informační služby (inetmgr.exe).</span><span class="sxs-lookup"><span data-stu-id="76983-123">Open Internet Information Services Manager (inetmgr.exe).</span></span>  
  
2.  <span data-ttu-id="76983-124">Přejděte do virtuálního adresáře OrderService v **připojení** podokně.</span><span class="sxs-lookup"><span data-stu-id="76983-124">Navigate to the OrderService virtual directory in the **Connections** pane.</span></span>  
  
3.  <span data-ttu-id="76983-125">OrderService klikněte pravým tlačítkem a vyberte **spravovat WCF a WF služby**, **konfigurace...** .</span><span class="sxs-lookup"><span data-stu-id="76983-125">Right click OrderService and select **Manage WCF and WF Services**, **Configure…**.</span></span> <span data-ttu-id="76983-126">**Konfigurace WCF a WF pro aplikaci** se zobrazí dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="76983-126">The **Configure WCF and WF for Application** dialog box is displayed.</span></span>  
  
4.  <span data-ttu-id="76983-127">Vyberte **Obecné** karet zobrazit obecné informace o aplikaci, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-127">Select the **General** tab to display general information about the application as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="76983-128">![Karta Obecné, dialogové okno Konfigurace prostředků infrastruktury aplikace](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration – obecné")</span><span class="sxs-lookup"><span data-stu-id="76983-128">![General tab of the App Fabric Configuration dialog](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration-General")</span></span>  
  
5.  <span data-ttu-id="76983-129">Vyberte **monitorování** kartu. To ukazuje různé nastavení monitorování, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-129">Select the **Monitoring** tab. This shows various monitoring settings as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="76983-130">![Karta monitorování infrastruktury konfigurace aplikace](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration monitorování")</span><span class="sxs-lookup"><span data-stu-id="76983-130">![App Fabric Configuration Monitoring tab](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration-Monitoring")</span></span>  
  
     <span data-ttu-id="76983-131">Další informace o konfiguraci služby pracovních postupů monitorování v prostředcích infrastruktury aplikace naleznete v tématu [konfigurace sledování pomocí App Fabric](https://go.microsoft.com/fwlink/?LinkId=193153).</span><span class="sxs-lookup"><span data-stu-id="76983-131">For more information about configuring workflow service monitoring in App Fabric see [Configuring monitoring with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193153).</span></span>  
  
6.  <span data-ttu-id="76983-132">Vyberte **trvalost pracovního postupu** kartu. To umožňuje nakonfigurovat aplikace použijte poskytovatele trvalého chování výchozí App Fabric jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-132">Select the **Workflow Persistence** tab. This allows you to configure your application to use App Fabric’s default persistence provider as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="76983-133">![Konfigurace aplikace Fabric &#45; trvalost](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration trvalosti")</span><span class="sxs-lookup"><span data-stu-id="76983-133">![App Fabric Configuration &#45; Persistence](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration-Persistence")</span></span>  
  
     <span data-ttu-id="76983-134">Další informace o konfiguraci trvalosti pracovního postupu v systému Windows Server App Fabric najdete v části [konfigurace trvalost pracovního postupu v aplikaci Fabric](https://go.microsoft.com/fwlink/?LinkId=193148).</span><span class="sxs-lookup"><span data-stu-id="76983-134">For more information about configuring workflow persistence in Windows Server App Fabric see [Configuring Workflow Persistence in App Fabric](https://go.microsoft.com/fwlink/?LinkId=193148).</span></span>  
  
7.  <span data-ttu-id="76983-135">Vyberte **správu hostitele pracovního postupu** kartu. To umožňuje zadat při instance nečinných pracovních postupů služby by mělo být odpojeno a zachována, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-135">Select the **Workflow Host Management** tab. This allows you to specify when idle workflow service instances should be unloaded and persisted as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="76983-136">![Správa hostitele pracovního postupu konfigurace App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-Management")</span><span class="sxs-lookup"><span data-stu-id="76983-136">![App Fabric Configuration  Workflow Host Management](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-Management")</span></span>  
  
     <span data-ttu-id="76983-137">Další informace o konfiguraci správy hostitele pracovního postupu v tématu [konfigurace správy hostitele pracovního postupu v aplikaci Fabric](https://go.microsoft.com/fwlink/?LinkId=193151).</span><span class="sxs-lookup"><span data-stu-id="76983-137">For more information about workflow host management configuration see [Configuring Workflow Host Management in App Fabric](https://go.microsoft.com/fwlink/?LinkId=193151).</span></span>  
  
8.  <span data-ttu-id="76983-138">Vyberte **automatického spuštění** kartu. To umožňuje určit nastavení automatického spouštění služby pracovního postupu v aplikaci, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-138">Select the **Auto-Start** tab. This allows you to specify auto-start settings for the workflow services in the application as shown in the following screenshot.</span></span>  
  
     ![Snímek obrazovky s App Fabric automaticky&#45;spustit konfiguraci.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-auto-start-configuration.gif)  
  
     <span data-ttu-id="76983-140">Další informace o konfiguraci automatického spuštění najdete v části [konfiguraci automatického spuštění pomocí App Fabric](https://go.microsoft.com/fwlink/?LinkId=193150).</span><span class="sxs-lookup"><span data-stu-id="76983-140">For more information about configuring Auto-Start see [Configuring Auto-Start with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193150).</span></span>  
  
9. <span data-ttu-id="76983-141">Vyberte **omezování** kartu. To umožňuje nakonfigurovat nastavení omezení pro službu pracovního postupu, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-141">Select the **Throttling** tab. This allows you to configure throttling settings for the workflow service as shown in the following screenshot.</span></span>  
  
     ![Snímek obrazovky zobrazující konfigurace omezení App Fabric.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-throttling-configuration.gif)  
  
     <span data-ttu-id="76983-143">Další informace o konfiguraci omezování naleznete v tématu [konfigurace omezování pomocí App Fabric](https://go.microsoft.com/fwlink/?LinkId=193149).</span><span class="sxs-lookup"><span data-stu-id="76983-143">For more information about configuring throttling see [Configuring Throttling with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193149).</span></span>  
  
10. <span data-ttu-id="76983-144">Vyberte **zabezpečení** kartu. To umožňuje konfigurovat nastavení zabezpečení pro aplikaci, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-144">Select the **Security** tab. This allows you to configure security settings for the application as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="76983-145">![Konfigurace zabezpečení aplikace Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration zabezpečení")</span><span class="sxs-lookup"><span data-stu-id="76983-145">![App Fabric Security Configuration](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration-Security")</span></span>  
  
     <span data-ttu-id="76983-146">Další informace o konfiguraci zabezpečení pomocí systému Windows Server App Fabric najdete v části [konfigurace zabezpečení v aplikaci Fabric](https://go.microsoft.com/fwlink/?LinkId=193152).</span><span class="sxs-lookup"><span data-stu-id="76983-146">For more information about configuring security with Windows Server App Fabric see [Configuring Security with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193152).</span></span>  
  
### <a name="using-windows-server-app-fabric"></a><span data-ttu-id="76983-147">Pomocí systému Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-147">Using Windows Server App Fabric</span></span>  
  
1.  <span data-ttu-id="76983-148">Sestavte řešení, zkopírujte soubory potřebné k virtuálnímu adresáři.</span><span class="sxs-lookup"><span data-stu-id="76983-148">Build the solution to copy the necessary files to the virtual directory.</span></span>  
  
2.  <span data-ttu-id="76983-149">Klikněte pravým tlačítkem na projekt OrderClient a vyberte **ladění**, **spustit novou instanci** spuštění klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="76983-149">Right click the OrderClient project and select **Debug**, **Start New Instance** to launch the client application.</span></span>  
  
3.  <span data-ttu-id="76983-150">Klient se spustí a zobrazí Visual Studio **připojit upozornění zabezpečení** dialogové okno, klikněte na tlačítko **Nepřipojovat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="76983-150">The client will run and Visual Studio will display an **Attach Security Warning** dialog box, click the **Don’t Attach** button.</span></span> <span data-ttu-id="76983-151">Znamená to Visual Studio se nelze připojit k procesu služby IIS pro ladění.</span><span class="sxs-lookup"><span data-stu-id="76983-151">This tells Visual Studio to not attach to the IIS process for debugging.</span></span>  
  
4.  <span data-ttu-id="76983-152">Klientská aplikace bude okamžitě volání služby pracovního postupu a potom počkejte.</span><span class="sxs-lookup"><span data-stu-id="76983-152">The client application will immediately call the Workflow service and then wait.</span></span> <span data-ttu-id="76983-153">Služba pracovního postupu přejde za nečinné a trvalé.</span><span class="sxs-lookup"><span data-stu-id="76983-153">The workflow service will go idle and be persisted.</span></span> <span data-ttu-id="76983-154">Můžete to ověřit spuštěním Internetová informační služba (inetmgr.exe), přejdete na OrderService v podokně připojení a že ji vyberete.</span><span class="sxs-lookup"><span data-stu-id="76983-154">You can verify this by starting Internet Information Services (inetmgr.exe), navigating to the OrderService in the Connections pane and selecting it.</span></span> <span data-ttu-id="76983-155">Klikněte na ikonu aplikace řídicí panel prostředků infrastruktury v pravém podokně.</span><span class="sxs-lookup"><span data-stu-id="76983-155">Next, click the App Fabric Dashboard icon in the right-hand pane.</span></span> <span data-ttu-id="76983-156">V rámci trvalé instance pracovního postupu uvidíte, že jeden trvalými instancemi pracovního postupu služby jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-156">Under Persisted WF Instances you will see there is one persisted workflow service instance as shown in the following screenshot.</span></span>  
  
     ![Snímek obrazovky zobrazující řídicí panel infrastruktury aplikace.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-dashboard.gif)  
  
     <span data-ttu-id="76983-158">**Historie Instance pracovního postupu** uvádí informace o službě pracovního postupu, jako je například počet aktivací služby pracovního postupu, počet dokončení instance služby pracovního postupu a počet instancí pracovních postupů s chybami.</span><span class="sxs-lookup"><span data-stu-id="76983-158">The **WF Instance History** lists information about the workflow service such as the number of workflow service activations, the number of workflow service instance completions, and the number of workflow instances with failures.</span></span> <span data-ttu-id="76983-159">V rámci aktivní nebo neaktivní instance, které se zobrazí odkaz kliknutím na odkaz zobrazíte další informace o instance nečinných pracovních postupů, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="76983-159">Under Active or Idle instances a link will be displayed, clicking on the link will display more information about the idle workflow instances as shown in the following screenshot.</span></span>  
  
     ![Snímek obrazovky zobrazující podrobnosti o trvalé instanci pracovního postupu.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/persisted-workflow-instance-detail.gif)  
  
     <span data-ttu-id="76983-161">Další informace o systému Windows Server App Fabric funkcí a jejich použití naleznete v tématu [hostování funkce systému Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=193143&clcid=0x409)</span><span class="sxs-lookup"><span data-stu-id="76983-161">For more information about Windows Server App Fabric features and how to use them see [Windows Server App Fabric Hosting Features](https://go.microsoft.com/fwlink/?LinkID=193143&clcid=0x409)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="76983-162">Viz také:</span><span class="sxs-lookup"><span data-stu-id="76983-162">See also</span></span>

- [<span data-ttu-id="76983-163">Vytvoření dlouhodobé služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="76983-163">Creating a Long-running Workflow Service</span></span>](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md)
- [<span data-ttu-id="76983-164">Hostování funkcí systému Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-164">Windows Server App Fabric Hosting Features</span></span>](https://go.microsoft.com/fwlink/?LinkId=193143)
- [<span data-ttu-id="76983-165">Instalace systému Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-165">Installing Windows Server App Fabric</span></span>](https://go.microsoft.com/fwlink/?LinkId=193136)
- [<span data-ttu-id="76983-166">Dokumentaci k systému Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="76983-166">Windows Server App Fabric Documentation</span></span>](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409)
