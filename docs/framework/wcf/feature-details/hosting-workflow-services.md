---
title: Hostování služeb pracovních postupů
ms.date: 03/30/2017
ms.assetid: 2d55217e-8697-4113-94ce-10b60863342e
ms.openlocfilehash: c933fd2bd46588ccd5c6115fbc2efca72bfadca4
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54594509"
---
# <a name="hosting-workflow-services"></a><span data-ttu-id="db384-102">Hostování služeb pracovních postupů</span><span class="sxs-lookup"><span data-stu-id="db384-102">Hosting Workflow Services</span></span>
<span data-ttu-id="db384-103">Služba pracovního postupu musí být hostovaný, aby se reagovat na příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="db384-103">A workflow service must be hosted for it to respond to incoming messages.</span></span> <span data-ttu-id="db384-104">Služby pracovních postupů pomocí infrastruktury přenosu zpráv WCF a proto hostované podobným způsobem.</span><span class="sxs-lookup"><span data-stu-id="db384-104">Workflow services use the WCF messaging infrastructure and are therefore hosted in similar ways.</span></span> <span data-ttu-id="db384-105">Stejně jako služby WCF služby pracovních postupů je možné hostovat ve spravované aplikaci, v rámci Internetové informační služby (IIS) nebo v rámci služby pro aktivační proces Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="db384-105">Like WCF services, workflow services can be hosted in any managed application, under Internet Information Services (IIS), or under Windows Process Activation Services (WAS).</span></span> <span data-ttu-id="db384-106">Kromě toho je možné hostovat služby pracovních postupů v rámci Windows Server App Fabric.</span><span class="sxs-lookup"><span data-stu-id="db384-106">In addition, workflow services can be hosted under Windows Server App Fabric.</span></span> <span data-ttu-id="db384-107">Další informace o systému Windows Server App Fabric najdete v části [dokumentace ke službě Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkId=193037), [funkce hostování AppFabric](https://go.microsoft.com/fwlink/?LinkId=196494), a [AppFabric hostování koncepty](https://go.microsoft.com/fwlink/?LinkId=196495).</span><span class="sxs-lookup"><span data-stu-id="db384-107">For more information about Windows Server App Fabric see [Windows Server App Fabric documentation](https://go.microsoft.com/fwlink/?LinkId=193037), [AppFabric Hosting Features](https://go.microsoft.com/fwlink/?LinkId=196494), and [AppFabric Hosting Concepts](https://go.microsoft.com/fwlink/?LinkId=196495).</span></span> <span data-ttu-id="db384-108">Další informace o různých způsobech hostitele WCF služeb najdete v tématu [hostování služeb](../../../../docs/framework/wcf/hosting-services.md).</span><span class="sxs-lookup"><span data-stu-id="db384-108">For more information about the various ways to host WCF services see [Hosting Services](../../../../docs/framework/wcf/hosting-services.md).</span></span>

## <a name="hosting-in-a-managed-application"></a><span data-ttu-id="db384-109">Hostování ve spravované aplikaci</span><span class="sxs-lookup"><span data-stu-id="db384-109">Hosting in a managed application</span></span>
 <span data-ttu-id="db384-110">K hostování služby pracovního postupu ve spravované aplikaci, použijte <xref:System.ServiceModel.Activities.WorkflowServiceHost> třídy.</span><span class="sxs-lookup"><span data-stu-id="db384-110">To host a workflow service in a managed application, use the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> <span data-ttu-id="db384-111"><xref:System.ServiceModel.Activities.WorkflowServiceHost> Konstruktor umožňuje zadat instanci pracovního postupu služby typu singleton, definice pracovního postupu služby nebo aktivitou, která používá zasílání zpráv aktivity pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="db384-111">The <xref:System.ServiceModel.Activities.WorkflowServiceHost> constructor allows you to specify a singleton workflow service instance, a workflow service definition, or an activity that uses the workflow messaging activities.</span></span> <span data-ttu-id="db384-112">Volání <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> způsobí, že služba započít naslouchání pro příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="db384-112">Calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> causes the service to start listening for incoming messages.</span></span>

## <a name="hosting-under-iis-or-was"></a><span data-ttu-id="db384-113">Hostování v rámci služby IIS nebo WAS</span><span class="sxs-lookup"><span data-stu-id="db384-113">Hosting under IIS or WAS</span></span>
 <span data-ttu-id="db384-114">Hostování služby pracovního procesu v rámci služby IIS nebo WAS zahrnuje vytvoření virtuálního adresáře a umístění souborů do virtuálního adresáře, které definují službě a její chování.</span><span class="sxs-lookup"><span data-stu-id="db384-114">Hosting a workflow service under IIS or WAS involves creating a virtual directory and placing files in the virtual directory that define the service and its behavior.</span></span> <span data-ttu-id="db384-115">Při hostování služby pracovního procesu v rámci služby IIS nebo WAS zde je několik možností:</span><span class="sxs-lookup"><span data-stu-id="db384-115">When hosting a workflow service under IIS or WAS there are several possibilities:</span></span>

-   <span data-ttu-id="db384-116">Umístíte .xamlx soubor, který definuje službu pracovní postup do IIS / WAS virtuální adresář spolu s souboru Web.config, který určuje chování služby, koncové body a další prvky konfigurace.</span><span class="sxs-lookup"><span data-stu-id="db384-116">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory along with a Web.config file that specifies the service behaviors, endpoints, and other configuration elements.</span></span>

-   <span data-ttu-id="db384-117">Umístíte .xamlx soubor, který definuje službu pracovní postup do IIS / WAS virtuální adresář.</span><span class="sxs-lookup"><span data-stu-id="db384-117">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory.</span></span> <span data-ttu-id="db384-118">Soubor .xamlx určuje koncových bodů ke zveřejnění.</span><span class="sxs-lookup"><span data-stu-id="db384-118">The .xamlx file specifies the endpoints to expose.</span></span> <span data-ttu-id="db384-119">Koncové body jsou uvedeny v `WorkflowService.Endpoints` elementu, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="db384-119">Endpoints are specified in a `WorkflowService.Endpoints` element as shown in the following example.</span></span>

    ```xml
    <WorkflowService xmlns="http://schemas.microsoft.com/netfx/2009/xaml/servicemodel"  xmlns:p1="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:sad="clr-namespace:System.Activities.Debugger;assembly=System.Activities" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
      <WorkflowService.Endpoints>
        <Endpoint ServiceContractName="IWorkFlowEchoService" AddressUri="">
          <Endpoint.Binding>
            <BasicHttpBinding />
          </Endpoint.Binding>
        </Endpoint>
      </WorkflowService.Endpoints>
    <!-- ... -->
    </WorkflowService>
    ```

    > [!NOTE]
    > <span data-ttu-id="db384-120">Chování nelze zadat v souboru .xamlx, takže pokud je třeba zadat nastavení chování je nutné použít souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="db384-120">Behaviors cannot be specified in a .xamlx file, so you must use a Web.config if you need to specify behavior settings.</span></span>

-   <span data-ttu-id="db384-121">Umístíte .xamlx soubor, který definuje službu pracovní postup do IIS / WAS virtuální adresář.</span><span class="sxs-lookup"><span data-stu-id="db384-121">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory.</span></span> <span data-ttu-id="db384-122">Kromě toho umístíte soubor .svc ve virtuálním adresáři.</span><span class="sxs-lookup"><span data-stu-id="db384-122">In addition, place a .svc file in the virtual directory.</span></span> <span data-ttu-id="db384-123">Souboru SVC umožňuje zadat vlastní vytváření hostitele webové služby, použít vlastní chování nebo zavést konfiguraci z vlastního umístění.</span><span class="sxs-lookup"><span data-stu-id="db384-123">The .svc file allows you to specify a custom Web service host factory, apply custom behavior, or load configuration from a custom location.</span></span>

-   <span data-ttu-id="db384-124">Sestavení umístěte do služby IIS / byla virtuální adresář, který obsahuje aktivitu, která používá WCF zasílání zpráv aktivity.</span><span class="sxs-lookup"><span data-stu-id="db384-124">Place an assembly in the IIS/WAS virtual directory that contains an activity that uses the WCF messaging activities.</span></span>

 <span data-ttu-id="db384-125">Musí obsahovat .xamlx soubor, který definuje služby pracovních postupů <`Service`> kořenový element nebo kořenový element, který obsahuje libovolného typu odvozeného z <xref:System.Workflow.ComponentModel.Activity>.</span><span class="sxs-lookup"><span data-stu-id="db384-125">A .xamlx file that defines a workflow service must contain a <`Service`> root element or a root element that contains any type derived from <xref:System.Workflow.ComponentModel.Activity>.</span></span> <span data-ttu-id="db384-126">Při použití šablony aktivit sady Visual Studio, je vytvořen soubor .xamlx.</span><span class="sxs-lookup"><span data-stu-id="db384-126">When using the Visual Studio activity template, a .xamlx file is created.</span></span> <span data-ttu-id="db384-127">Při použití šablony služby pracovního postupu WCF, se vytvoří soubor .xamlx.</span><span class="sxs-lookup"><span data-stu-id="db384-127">When using the WCF Workflow Service template, a .xamlx file is created.</span></span>

## <a name="hosting-workflow-services-under-windows-server-app-fabric"></a><span data-ttu-id="db384-128">Hostování služeb pracovních postupů v rámci Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="db384-128">Hosting Workflow Services under Windows Server App Fabric</span></span>
 <span data-ttu-id="db384-129">Hostování služby pracovního procesu v rámci Windows Server App Fabric se provádí stejným způsobem, který hostuje v rámci služby IIS nebo WAS.</span><span class="sxs-lookup"><span data-stu-id="db384-129">Hosting a workflow service under Windows Server App Fabric is done in the same way as hosting under IIS/WAS.</span></span> <span data-ttu-id="db384-130">Jediným rozdílem je skutečnost, že je nainstalovaný Windows Server App Fabric.</span><span class="sxs-lookup"><span data-stu-id="db384-130">The only difference is the fact that Windows Server App Fabric is installed.</span></span> <span data-ttu-id="db384-131">Windows Server App Fabric nabízí nástroje, které jsou přidány do Správce Internetové informační služby, jakož i rutiny prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="db384-131">Windows Server App Fabric provides tools that are added to Internet Information Services Manager, as well as powershell commandlets.</span></span> <span data-ttu-id="db384-132">Tyto nástroje zjednodušit nasazení, správě a sledování pracovního postupu služby a služby WCF.</span><span class="sxs-lookup"><span data-stu-id="db384-132">These tools simplify deploying, managing, and tracking of workflow services and WCF services.</span></span>

## <a name="referencing-custom-activities"></a><span data-ttu-id="db384-133">Odkazování na vlastní aktivity</span><span class="sxs-lookup"><span data-stu-id="db384-133">Referencing Custom Activities</span></span>
 <span data-ttu-id="db384-134">Odkazy na vlastní aktivity musí být přidané do <`Assemblies`> v oddílu <`System.Web.Compilation`> tak, aby se načteno do domény aplikace a deserializátor XAML je schopen najít typy.</span><span class="sxs-lookup"><span data-stu-id="db384-134">References to custom activities must be added to the <`Assemblies`> section under <`System.Web.Compilation`> so that they are loaded into the Application Domain and the XAML deserializer is able to locate the types.</span></span> <span data-ttu-id="db384-135">Tato nastavení lze provést na úrovni aplikace nebo v kořenovém souboru Web.config, pokud nastavení bude použito na všechny aplikace na počítači.</span><span class="sxs-lookup"><span data-stu-id="db384-135">These settings can be made at the application level or in the root Web.config if the settings should be applied to all applications on the machine.</span></span>

## <a name="deployment"></a><span data-ttu-id="db384-136">Nasazení</span><span class="sxs-lookup"><span data-stu-id="db384-136">Deployment</span></span>
 <span data-ttu-id="db384-137">Nástroj nasazení webu byla vytvořená za účelem usnadnění práce pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="db384-137">The Web Deployment tool has been created to make the job of deployment easier.</span></span> <span data-ttu-id="db384-138">Nástroj umožňuje migrace aplikací mezi službami IIS 6.0 a IIS 7.0, synchronizace serverové farmy a balíčků, archivování a nasazování webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="db384-138">The tool allows you to migrate applications between IIS 6.0 and IIS 7.0, synchronize server farms, and package, archive and deploy Web applications.</span></span> <span data-ttu-id="db384-139">Další informace najdete v tématu [nástroj pro nasazení MS](https://go.microsoft.com/fwlink/?LinkId=178690).</span><span class="sxs-lookup"><span data-stu-id="db384-139">For more information, see [MS Deployment Tool](https://go.microsoft.com/fwlink/?LinkId=178690).</span></span>

## <a name="see-also"></a><span data-ttu-id="db384-140">Viz také:</span><span class="sxs-lookup"><span data-stu-id="db384-140">See also</span></span>

- [<span data-ttu-id="db384-141">Interní informace o hostiteli služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="db384-141">Workflow Service Host Internals</span></span>](../../../../docs/framework/wcf/feature-details/workflow-service-host-internals.md)
- [<span data-ttu-id="db384-142">Konfigurace třídy WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="db384-142">Configuring WorkflowServiceHost</span></span>](../../../../docs/framework/wcf/feature-details/configuring-workflowservicehost.md)