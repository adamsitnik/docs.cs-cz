---
title: Fronty ve WCF
ms.date: 03/30/2017
ms.assetid: e98d76ba-1acf-42cd-b137-0f8214661112
ms.openlocfilehash: fcdd38cf02157829bdc476cc289ea89ff8767487
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54559463"
---
# <a name="queuing-in-wcf"></a><span data-ttu-id="4794b-102">Fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="4794b-102">Queuing in WCF</span></span>
<span data-ttu-id="4794b-103">Tato část popisuje způsob použití komunikaci ve frontě ve Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="4794b-103">This section describes how to use queued communication in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="queues-as-a-wcf-transport-binding"></a><span data-ttu-id="4794b-104">Vazby přenosu fronty jako WCF</span><span class="sxs-lookup"><span data-stu-id="4794b-104">Queues as a WCF transport binding</span></span>  
 <span data-ttu-id="4794b-105">Ve službě WCF kontrakty určit, co vyměňují.</span><span class="sxs-lookup"><span data-stu-id="4794b-105">In WCF, the contracts specify what is being exchanged.</span></span> <span data-ttu-id="4794b-106">Kontrakty se výměny zpráv závislé na firmy nebo specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="4794b-106">Contracts are business-dependent or application-specific message exchanges.</span></span> <span data-ttu-id="4794b-107">Mechanismus, který se používá k výměně zpráv (nebo "o") je zadán v vazby.</span><span class="sxs-lookup"><span data-stu-id="4794b-107">The mechanism used to exchange messages (or the "how") is specified in the bindings.</span></span> <span data-ttu-id="4794b-108">Vazby WCF zapouzdřit podrobnosti o výměně zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-108">Bindings in WCF encapsulate details of the message exchange.</span></span> <span data-ttu-id="4794b-109">Zveřejňovaly knoflíky konfigurace pro uživatele k řízení různých aspektů přenos nebo protokolu, které představují vazby.</span><span class="sxs-lookup"><span data-stu-id="4794b-109">They expose configuration knobs for the user to control various aspects of the transport or the protocol that the bindings represent.</span></span> <span data-ttu-id="4794b-110">Fronty ve WCF se zachází stejně jako jakékoli jiné přenosu vázání, jež je velkým přínosem pro spoustu aplikací na zařazování do fronty.</span><span class="sxs-lookup"><span data-stu-id="4794b-110">Queuing in WCF is treated like any other transport binding, which is a big advantage for many queuing applications.</span></span> <span data-ttu-id="4794b-111">V současné době se mnoho aplikací služby Řízení front zapisují odlišně od jiných vzdálené volání procedur (RPC)-style distribuovaných aplikací, kvůli tomu je těžší sledovat a udržovat.</span><span class="sxs-lookup"><span data-stu-id="4794b-111">Today, many queuing applications are written differently from other remote procedure call (RPC)-style distributed applications, making it harder to follow and maintain.</span></span> <span data-ttu-id="4794b-112">S použitím technologie WCF styl psaní distribuované aplikace je skoro stejné, snadněji sledovat a udržovat.</span><span class="sxs-lookup"><span data-stu-id="4794b-112">With WCF, the style of writing a distributed application is much the same, making it easier to follow and maintain.</span></span> <span data-ttu-id="4794b-113">Ve které budou zohledňovat si mechanismus exchange nezávisle na obchodní logiku, je navíc jednodušší konfigurovat přenos nebo provést změny bez ovlivnění kódu konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="4794b-113">Moreover, by factoring out the mechanism of exchange separately from the business logic, it is easier to configure the transport or make changes to it without affecting application specific code.</span></span> <span data-ttu-id="4794b-114">Následující obrázek znázorňuje strukturu pomocí služby MSMQ jako přenosového mechanismu klienta a služby WCF.</span><span class="sxs-lookup"><span data-stu-id="4794b-114">The following figure illustrates the structure of a WCF service and client using MSMQ as a transport.</span></span>  
  
 <span data-ttu-id="4794b-115">![Ve frontě diagramu aplikace](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "distribuované obrázek fronty")</span><span class="sxs-lookup"><span data-stu-id="4794b-115">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="4794b-116">Jak je vidět z předchozí obrázek, klient a služba musí definovat jenom aplikace sémantiku, to znamená, kontrakt a implementaci.</span><span class="sxs-lookup"><span data-stu-id="4794b-116">As you can see from the preceding figure, the client and service must define only the application semantics, that is, the contract and implementation.</span></span> <span data-ttu-id="4794b-117">Služba nakonfiguruje pomocí nastavení vazbu s frontou.</span><span class="sxs-lookup"><span data-stu-id="4794b-117">The service configures a queued binding with preferred settings.</span></span> <span data-ttu-id="4794b-118">Klient použije [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) ke generování klienta WCF na službu a vygenerovat konfigurační soubor, který popisuje vazby na použití pro odesílání zpráv do služby.</span><span class="sxs-lookup"><span data-stu-id="4794b-118">The client uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a WCF client to the service and to generate a configuration file that describes the bindings to use to send messages to the service.</span></span> <span data-ttu-id="4794b-119">Odeslat zprávu ve frontě, proto klient vytvoří instanci klienta WCF a vyvolá operaci na něj.</span><span class="sxs-lookup"><span data-stu-id="4794b-119">Thus, to send a queued message, the client instantiates a WCF client and invokes an operation on it.</span></span> <span data-ttu-id="4794b-120">To způsobí, že zpráva, která má být odeslána do fronty přenosu a přenést do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="4794b-120">This causes the message to be sent to the transmission queue and transferred to the target queue.</span></span> <span data-ttu-id="4794b-121">Všem složitosti komunikaci ve frontě jsou skryté aplikace, která je odeslání a příjem zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-121">All the complexities of queued communication are hidden from the application that is sending and receiving messages.</span></span>  
  
 <span data-ttu-id="4794b-122">Upozornění o vazbách zařazených do fronty ve WCF patří:</span><span class="sxs-lookup"><span data-stu-id="4794b-122">Caveats about queued binding in WCF include:</span></span>  
  
-   <span data-ttu-id="4794b-123">Všechny služby, které operace musí být jednosměrné, protože výchozí vazby ve službě WCF zařazených do fronty nepodporuje duplexní komunikaci pomocí front.</span><span class="sxs-lookup"><span data-stu-id="4794b-123">All service operations must be one-way because the default queued binding in WCF does not support duplex communication using queues.</span></span> <span data-ttu-id="4794b-124">Ukázka obousměrnou komunikaci ([obousměrné komunikace](../../../../docs/framework/wcf/samples/two-way-communication.md)) ukazuje, jak můžete implementovat pomocí front duplexní komunikaci dva jednosměrné kontrakty.</span><span class="sxs-lookup"><span data-stu-id="4794b-124">A two-way communication sample ([Two-Way Communication](../../../../docs/framework/wcf/samples/two-way-communication.md)) illustrates how to use two one-way contracts to implement duplex communication using queues.</span></span>  
  
-   <span data-ttu-id="4794b-125">Ke generování WCF klienta pomocí výměny metadat vyžaduje další koncový bod protokolu HTTP na službu, takže může být dotazována přímo k generování klienta WCF a získat informace o vazbě správně nakonfigurovat komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="4794b-125">To generate a WCF client using metadata exchange requires an additional HTTP endpoint on the service so that it can be queried directly to generate the WCF client and obtain binding information to appropriately configure queued communication.</span></span>  
  
-   <span data-ttu-id="4794b-126">Podle vazbu s frontou, není nutná další konfigurace mimo WCF.</span><span class="sxs-lookup"><span data-stu-id="4794b-126">Based on the queued binding, extra configuration outside of WCF is required.</span></span> <span data-ttu-id="4794b-127">Například <xref:System.ServiceModel.NetMsmqBinding> třídy, který je dodáván s použitím technologie WCF vyžaduje, abyste nakonfigurujte vazby také provedli minimální konfiguraci služby Řízení front zpráv (MSMQ).</span><span class="sxs-lookup"><span data-stu-id="4794b-127">For example, the <xref:System.ServiceModel.NetMsmqBinding> class that is shipped with WCF requires you to configure the bindings as well as minimally configure Message Queuing (MSMQ).</span></span>  
  
 <span data-ttu-id="4794b-128">Následující části popisují konkrétní zařazených do fronty vazby součástí WCF, které jsou založeny na služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-128">The following sections describe the specific queued bindings shipped with WCF, which are based on MSMQ.</span></span>  
  
### <a name="msmq"></a><span data-ttu-id="4794b-129">MSMQ</span><span class="sxs-lookup"><span data-stu-id="4794b-129">MSMQ</span></span>  
 <span data-ttu-id="4794b-130">Přenos zařazených do fronty ve WCF využívá služby MSMQ pro jeho komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="4794b-130">The queued transport in WCF uses MSMQ for its queued communication.</span></span>  
  
 <span data-ttu-id="4794b-131">Fronta MSMQ se dodává jako volitelnou komponentu s Windows a běží jako služba NT.</span><span class="sxs-lookup"><span data-stu-id="4794b-131">MSMQ ships as an optional component with Windows and runs as an NT service.</span></span> <span data-ttu-id="4794b-132">Zachycení zpráv pro předávání v přenosové frontě a doručování do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="4794b-132">It captures messages for transmission in a transmission queue and for delivery in a target queue.</span></span> <span data-ttu-id="4794b-133">Správci fronty MSMQ implementovat spolehlivé přenos zpráv protokolu, aby se zprávy nejsou ztraceno v přenosu.</span><span class="sxs-lookup"><span data-stu-id="4794b-133">The MSMQ queue managers implement a reliable message-transfer protocol so that messages are not lost in transmission.</span></span> <span data-ttu-id="4794b-134">Protokol může být nativní nebo založený na protokolu SOAP, jako je například spolehlivé zprávy protokolu (SRMP) protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="4794b-134">The protocol can be either native or SOAP-based, such as the SOAP Reliable Message Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="4794b-135">Služby MSMQ může být fronty transakcí nebo není transakční.</span><span class="sxs-lookup"><span data-stu-id="4794b-135">In MSMQ, queues can be transactional or non-transactional.</span></span> <span data-ttu-id="4794b-136">Transakční fronta umožňuje zachytit a doručit v transakci a potom ukládají odolným způsobem ve frontě zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-136">A transactional queue allows messages to be captured and delivered in a transaction and then stored durably in the queue.</span></span> <span data-ttu-id="4794b-137">Zprávy odeslané do transakční fronty přenosu právě jednou v pořadí.</span><span class="sxs-lookup"><span data-stu-id="4794b-137">Messages sent to a transactional queue are transferred exactly once in order.</span></span> <span data-ttu-id="4794b-138">Netransakční fronta můžete použít k odesílání zpráv volatile a odolnost.</span><span class="sxs-lookup"><span data-stu-id="4794b-138">You can use a non-transactional queue to send both volatile and durable messages.</span></span> <span data-ttu-id="4794b-139">Zpráva odeslaná do netransakční fronta neobsahuje žádnou záruku spolehlivé přenos; Proto může dojít ke ztrátě zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-139">A message sent to a non-transactional queue does not carry any reliable transfer assurances; thus, messages can be lost.</span></span>  
  
 <span data-ttu-id="4794b-140">Fronty MSMQ zabezpečit je také možné pomocí Windows identity registraci ve službě Active Directory directory.</span><span class="sxs-lookup"><span data-stu-id="4794b-140">MSMQ queues can also be secured using a Windows identity registered with the Active Directory directory service.</span></span> <span data-ttu-id="4794b-141">Při instalaci služby MSMQ, můžete nainstalovat integrace služby Active Directory, která vyžaduje, aby počítač jako součást síťové domény Windows.</span><span class="sxs-lookup"><span data-stu-id="4794b-141">When installing MSMQ, you can install Active Directory integration, which requires the computer to be part of a Windows domain network.</span></span>  
  
 <span data-ttu-id="4794b-142">Další informace o MSMQ najdete v tématu [instalace řízení front zpráv (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span><span class="sxs-lookup"><span data-stu-id="4794b-142">For more information about MSMQ, see [Installing Message Queuing (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span></span>  
  
### <a name="netmsmqbinding"></a><span data-ttu-id="4794b-143">NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="4794b-143">NetMsmqBinding</span></span>  
 <span data-ttu-id="4794b-144">[ \<NetMsmqBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) je ve frontě vazby WCF poskytuje dva koncové body služby WCF pro komunikaci pomocí služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-144">The [\<netMsmqBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) is the queued binding WCF provides for two WCF endpoints to communicate using MSMQ.</span></span> <span data-ttu-id="4794b-145">Vazba, proto zpřístupní vlastnosti, které jsou specifické pro službu MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-145">The binding, therefore, exposes properties that are specific to MSMQ.</span></span> <span data-ttu-id="4794b-146">Ale ne všechny funkce služby MSMQ a vlastnosti nejsou zveřejněné v žádném `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="4794b-146">However, not all MSMQ features and properties are exposed in the `NetMsmqBinding`.</span></span> <span data-ttu-id="4794b-147">Komprese `NetMsmqBinding` je navržená s optimální sadu funkcí, které většina zákazníků byste najít dostatečná.</span><span class="sxs-lookup"><span data-stu-id="4794b-147">The compact `NetMsmqBinding` is designed with an optimal set of features that most customers should find sufficient.</span></span>  
  
 <span data-ttu-id="4794b-148">`NetMsmqBinding` Manifesty základní koncepty služby Řízení front doposud popsané ve formě vlastnosti na vazby.</span><span class="sxs-lookup"><span data-stu-id="4794b-148">The `NetMsmqBinding` manifests the core queuing concepts discussed thus far in the form of properties on the bindings.</span></span> <span data-ttu-id="4794b-149">Tyto vlastnosti zase komunikaci služby MSMQ přenosu a doručovat zprávy.</span><span class="sxs-lookup"><span data-stu-id="4794b-149">These properties, in turn, communicate to MSMQ how to transfer and deliver the messages.</span></span> <span data-ttu-id="4794b-150">Diskuzi o vlastnosti kategorie je v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="4794b-150">A discussion of the property categories is in the following sections.</span></span> <span data-ttu-id="4794b-151">Další informace najdete v tématu koncepční témata, které popisují konkrétní vlastnosti komplexněji.</span><span class="sxs-lookup"><span data-stu-id="4794b-151">For more information, see the conceptual topics that describe specific properties more completely.</span></span>  
  
#### <a name="exactlyonce-and-durable-properties"></a><span data-ttu-id="4794b-152">ExactlyOnce a trvalý vlastnosti</span><span class="sxs-lookup"><span data-stu-id="4794b-152">ExactlyOnce and Durable Properties</span></span>  
 <span data-ttu-id="4794b-153">`ExactlyOnce` a `Durable` vlastnosti vliv na způsob přenosu zpráv mezi fronty:</span><span class="sxs-lookup"><span data-stu-id="4794b-153">The `ExactlyOnce` and `Durable` properties affect how messages are transferred between queues:</span></span>  
  
-   <span data-ttu-id="4794b-154">`ExactlyOnce`: Pokud je nastavena na `true` (výchozí), kanálu ve frontě zajistí, že není duplicitní zprávy, pokud doručena.</span><span class="sxs-lookup"><span data-stu-id="4794b-154">`ExactlyOnce`: When set to `true` (the default), the queued channel ensures that the message, if delivered, is not duplicated.</span></span> <span data-ttu-id="4794b-155">Také zajistí, že nedojde ke ztrátě zprávy.</span><span class="sxs-lookup"><span data-stu-id="4794b-155">It also ensures that the message is not lost.</span></span> <span data-ttu-id="4794b-156">Pokud zprávu nelze doručit nebo zprávy čas – Chcete-li vyprší zprávu můžou doručit, neúspěšné zprávy spolu s doručování důvod selhání se zaznamená do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-156">If the message cannot be delivered, or the message Time-To Live expires before the message can be delivered, the failed message along with the delivery failure reason is recorded in a dead-letter queue.</span></span> <span data-ttu-id="4794b-157">Pokud je nastavena na `false`, kanálu ve frontě nevyvine přenášet zprávy.</span><span class="sxs-lookup"><span data-stu-id="4794b-157">When set to `false`, the queued channel makes an effort to transfer the message.</span></span> <span data-ttu-id="4794b-158">V takovém případě můžete volitelně zvolit fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-158">In this case, you can optionally choose a dead-letter queue.</span></span>  
  
-   <span data-ttu-id="4794b-159">`Durable:` Pokud je nastavena na `true` (výchozí), kanálu ve frontě zajistí, že služba MSMQ ukládá zprávy trvale na disk.</span><span class="sxs-lookup"><span data-stu-id="4794b-159">`Durable:` When set to `true` (the default), the queued channel ensures that MSMQ stores the message durably on disk.</span></span> <span data-ttu-id="4794b-160">Proto šlo zastavit a restartovat službu MSMQ zprávy na disku je přenést do cílové fronty nebo odeslaná do služby.</span><span class="sxs-lookup"><span data-stu-id="4794b-160">Thus, if the MSMQ service were to stop and restart, the messages on disk is transferred to the target queue or delivered to the service.</span></span> <span data-ttu-id="4794b-161">Pokud je nastavena na `false`, zprávy se ukládají v úložišti volatile a jsou ztraceny na zastavení a restartování služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-161">When set to `false`, the messages are stored in volatile store and are lost on stopping and restarting the MSMQ service.</span></span>  
  
 <span data-ttu-id="4794b-162">Pro `ExactlyOnce` spolehlivé přenosu služby MSMQ vyžaduje fronty využívat transakce.</span><span class="sxs-lookup"><span data-stu-id="4794b-162">For `ExactlyOnce` reliable transfer, MSMQ requires the queue to be transactional.</span></span> <span data-ttu-id="4794b-163">MSMQ také vyžaduje transakce čtení z transakční frontu.</span><span class="sxs-lookup"><span data-stu-id="4794b-163">Also, MSMQ requires a transaction to read from a transactional queue.</span></span> <span data-ttu-id="4794b-164">V důsledku toho při použití `NetMsmqBinding`, mějte na paměti, že transakce je nutný k odeslání nebo přijetí zprávy, když `ExactlyOnce` je nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="4794b-164">As such, when you use the `NetMsmqBinding`, remember that a transaction is required to send or receive messages when `ExactlyOnce` is set to `true`.</span></span> <span data-ttu-id="4794b-165">Obdobně vyžaduje MSMQ fronty bude netransakční pro záruky best effort, například kdy `ExactlyOnce` je `false` a pro těkavých zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-165">Similarly, MSMQ requires the queue to be non-transactional for best-effort assurances, such as when `ExactlyOnce` is `false` and for volatile messaging.</span></span> <span data-ttu-id="4794b-166">Proto při nastavování `ExactlyOnce` k `false` nebo trvalý k `false`, nelze odesílat ani přijímat pomocí transakce.</span><span class="sxs-lookup"><span data-stu-id="4794b-166">Thus, when setting `ExactlyOnce` to `false` or durable to `false`, you cannot send or receive using a transaction.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4794b-167">Ověřte, zda správné fronty (transakční či netransakční) je vytvořen na základě nastavení ve vazbách.</span><span class="sxs-lookup"><span data-stu-id="4794b-167">Ensure that the correct queue (transactional or non-transactional) is created based on settings in the bindings.</span></span> <span data-ttu-id="4794b-168">Pokud `ExactlyOnce` je `true`, použít transakční frontu; v opačném případě použijte netransakční fronta.</span><span class="sxs-lookup"><span data-stu-id="4794b-168">If `ExactlyOnce` is `true`, use a transactional queue; otherwise, use a non-transactional queue.</span></span>  
  
#### <a name="dead-letter-queue-properties"></a><span data-ttu-id="4794b-169">Vlastnosti fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="4794b-169">Dead-Letter Queue Properties</span></span>  
 <span data-ttu-id="4794b-170">Fronty nedoručených zpráv se používá k ukládání zpráv, které nesplní doručování.</span><span class="sxs-lookup"><span data-stu-id="4794b-170">The dead-letter queue is used to store messages that fail delivery.</span></span> <span data-ttu-id="4794b-171">Uživatel můžete napsat kompenzační logiku, která čte zprávy z fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-171">The user can write compensating logic that reads messages out of the dead-letter queue.</span></span>  
  
 <span data-ttu-id="4794b-172">Mnoho systémů zařazování do fronty poskytuje fronty nedoručených zpráv celý systém.</span><span class="sxs-lookup"><span data-stu-id="4794b-172">Many queuing systems provide for a system-wide dead-letter queue.</span></span> <span data-ttu-id="4794b-173">Služby MSMQ obsahuje systémová netransakční onta nedoručených zpráv fronty zpráv, které nesplní doručování transakční fronty a systémová Transakční nedoručené zprávy fronty zpráv, které nesplní doručování transakční fronty.</span><span class="sxs-lookup"><span data-stu-id="4794b-173">MSMQ provides a system-wide non-transactional dead-letter queue for messages that fail delivery to non-transactional queues and a system-wide transactional dead-letter queue for messages that fail delivery to transactional queues.</span></span>  
  
 <span data-ttu-id="4794b-174">Pokud více klientů, které odesílání zpráv do fronty jiné cílové sdílené složky služby MSMQ, všechny zprávy od klientů použít stejné fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-174">If multiple clients sending messages to different target queues share the MSMQ service, all messages sent by the clients go to the same dead-letter queue.</span></span> <span data-ttu-id="4794b-175">To není vždy vhodnější.</span><span class="sxs-lookup"><span data-stu-id="4794b-175">This is not always preferable.</span></span> <span data-ttu-id="4794b-176">Pro lepší izolaci, WCF a služby MSMQ v [!INCLUDE[wv](../../../../includes/wv-md.md)] poskytnout vlastní frontu nedoručených zpráv (nebo frontu nedoručených zpráv specifické pro aplikaci), může uživatel zadat k ukládání zpráv, které nesplní doručování.</span><span class="sxs-lookup"><span data-stu-id="4794b-176">For better isolation, WCF and MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] provide a custom dead-letter queue (or application-specific dead-letter queue) that the user can specify to store messages that fail delivery.</span></span> <span data-ttu-id="4794b-177">Proto různých klientů Nesdílejte stejné fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-177">Therefore, different clients do not share the same dead-letter queue.</span></span>  
  
 <span data-ttu-id="4794b-178">Vazba má dvě vlastnosti, které vás zajímají:</span><span class="sxs-lookup"><span data-stu-id="4794b-178">The binding has two properties of interest:</span></span>  
  
-   <span data-ttu-id="4794b-179">`DeadLetterQueue`: Tato vlastnost je výčet, který označuje, zda je požadována fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-179">`DeadLetterQueue`: This property is an enumeration that indicates whether a dead-letter queue is requested.</span></span> <span data-ttu-id="4794b-180">Výčet obsahuje také typ fronty nedoručených zpráv, pokud požadovaná.</span><span class="sxs-lookup"><span data-stu-id="4794b-180">The enumeration also contains the kind of dead-letter queue, if one is requested.</span></span> <span data-ttu-id="4794b-181">Hodnoty jsou `None`, `System`, a `Custom`.</span><span class="sxs-lookup"><span data-stu-id="4794b-181">The values are `None`, `System`, and `Custom`.</span></span> <span data-ttu-id="4794b-182">Další informace o interpretaci těchto vlastností najdete v tématu [pomocí fronty nedoručených zpráv pro zpracování selhání přenosu zpráv](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span><span class="sxs-lookup"><span data-stu-id="4794b-182">For more information about the interpretation of these properties, see [Using Dead-Letter Queues to Handle Message Transfer Failures](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span></span>  
  
-   <span data-ttu-id="4794b-183">`CustomDeadLetterQueue`: Tato vlastnost je identifikátor URI (Uniform Resource) adresa fronty nedoručených zpráv specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="4794b-183">`CustomDeadLetterQueue`: This property is the Uniform Resource Identifier (URI) address of the application-specific dead-letter queue.</span></span> <span data-ttu-id="4794b-184">To je potřeba, pokud `DeadLetterQueue`.`Custom`</span><span class="sxs-lookup"><span data-stu-id="4794b-184">This is required if `DeadLetterQueue`.`Custom`</span></span> <span data-ttu-id="4794b-185">je vybrán.</span><span class="sxs-lookup"><span data-stu-id="4794b-185">is chosen.</span></span>  
  
#### <a name="poison-message-handling-properties"></a><span data-ttu-id="4794b-186">Zacházení s nezpracovatelnými vlastnosti zpracování zpráv</span><span class="sxs-lookup"><span data-stu-id="4794b-186">Poison Message Handling properties</span></span>  
 <span data-ttu-id="4794b-187">Když služba načte zprávy z cílové fronty v rámci transakce, služba nemusí podařit zprávu zpracovat z různých důvodů.</span><span class="sxs-lookup"><span data-stu-id="4794b-187">When the service reads messages from the target queue under a transaction, the service may fail to process the message for various reasons.</span></span> <span data-ttu-id="4794b-188">Zpráva se pak znovu umístěny do fronty se znovu přečíst.</span><span class="sxs-lookup"><span data-stu-id="4794b-188">The message is then put back into the queue to be read again.</span></span> <span data-ttu-id="4794b-189">Se zprávy, které nesplní opakovaně, sadu zpracování zpráv poison vlastnosti mohou být konfigurovány ve vazbě.</span><span class="sxs-lookup"><span data-stu-id="4794b-189">To deal with messages that fail repeatedly, a set of poison-message handling properties can be configured in the binding.</span></span> <span data-ttu-id="4794b-190">Existují čtyři vlastnosti: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, a `ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="4794b-190">There are four properties: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, and `ReceiveErrorHandling`.</span></span> <span data-ttu-id="4794b-191">Další informace o těchto vlastnostech najdete v tématu [zpracování škodlivých zpráv](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="4794b-191">For more information about these properties, see [Poison Message Handling](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span></span>  
  
#### <a name="security-properties"></a><span data-ttu-id="4794b-192">Vlastnosti zabezpečení</span><span class="sxs-lookup"><span data-stu-id="4794b-192">Security Properties</span></span>  
 <span data-ttu-id="4794b-193">MSMQ zpřístupňuje svůj vlastní model zabezpečení, jako jsou například seznamy řízení přístupu (ACL) ve frontě nebo odeslání ověřené zprávy.</span><span class="sxs-lookup"><span data-stu-id="4794b-193">MSMQ exposes its own security model, such as access control lists (ACLs) on a queue or sending authenticated messages.</span></span> <span data-ttu-id="4794b-194">`NetMsmqBinding` Zpřístupní tyto vlastnosti zabezpečení jako součást jeho nastavení zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="4794b-194">The `NetMsmqBinding` exposes these security properties as part of its transport security settings.</span></span> <span data-ttu-id="4794b-195">Existují dvě vlastnosti ve vazbě pro zabezpečení přenosu: `MsmqAuthenticationMode` a `MsmqProtectionLevel`.</span><span class="sxs-lookup"><span data-stu-id="4794b-195">There are two properties in the binding for transport security: `MsmqAuthenticationMode` and `MsmqProtectionLevel`.</span></span> <span data-ttu-id="4794b-196">Nastavení na tyto vlastnosti závisí na konfiguraci služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-196">Settings in these properties depend on how MSMQ is configured.</span></span> <span data-ttu-id="4794b-197">Další informace najdete v tématu [zabezpečení zabezpečení zprávy přenosu](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="4794b-197">For more information, see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
 <span data-ttu-id="4794b-198">Kromě zabezpečení přenosu je možné zabezpečit skutečné vlastní zprávě SOAP pomocí zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-198">In addition to transport security, the actual SOAP message itself can be secured using message security.</span></span> <span data-ttu-id="4794b-199">Další informace najdete v tématu [zabezpečení zabezpečení zprávy zpráv](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span><span class="sxs-lookup"><span data-stu-id="4794b-199">For more information, see [Securing Messages Using Message Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span></span>  
  
 <span data-ttu-id="4794b-200">`MsmqTransportSecurity` také poskytuje dvě vlastnosti `MsmqEncryptionAlgorithm` a `MsmqHashAlgorithm`.</span><span class="sxs-lookup"><span data-stu-id="4794b-200">`MsmqTransportSecurity` also exposes two properties, `MsmqEncryptionAlgorithm` and `MsmqHashAlgorithm`.</span></span> <span data-ttu-id="4794b-201">Jedná se o výčty různých algoritmů pro výběr pro algoritmu hash podpisů a šifrování přenosu k frontě zpráv.</span><span class="sxs-lookup"><span data-stu-id="4794b-201">These are enumerations of different algorithms to choose for queue-to-queue transfer encryption of messages and hashing of the signatures.</span></span>  
  
#### <a name="other-properties"></a><span data-ttu-id="4794b-202">Další vlastnosti</span><span class="sxs-lookup"><span data-stu-id="4794b-202">Other Properties</span></span>  
 <span data-ttu-id="4794b-203">Kromě předchozích vlastností další vlastnosti specifické pro službu MSMQ v vazby zahrnout:</span><span class="sxs-lookup"><span data-stu-id="4794b-203">In addition to the preceding properties, other MSMQ-specific properties exposed in the binding include:</span></span>  
  
-   <span data-ttu-id="4794b-204">`UseSourceJournal`: Je povolena vlastnost umožňující označit, že záznamu do deníku zdroje.</span><span class="sxs-lookup"><span data-stu-id="4794b-204">`UseSourceJournal`: A property to indicate that source journaling is turned on.</span></span> <span data-ttu-id="4794b-205">Záznamu do deníku zdroje je funkce služby MSMQ, která uchovává informace o zprávy, které byly úspěšně odeslány z fronty přenosu.</span><span class="sxs-lookup"><span data-stu-id="4794b-205">Source journaling is an MSMQ feature that keeps track of messages that have been successfully transmitted from the transmission queue.</span></span>  
  
-   <span data-ttu-id="4794b-206">`UseMsmqTracing`: Vlastnost umožňující označit, že je zapnutá trasování služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-206">`UseMsmqTracing`: A property to indicate that MSMQ tracing is turned on.</span></span> <span data-ttu-id="4794b-207">Trasování služby MSMQ odešle zprávy do fronty hlášení pokaždé, když opustí zpráva nebo zpráva dorazí na počítače hostujícího správce fronty MSMQ.</span><span class="sxs-lookup"><span data-stu-id="4794b-207">MSMQ tracing sends report messages to a report queue each time a message leaves or arrives at a machine hosting an MSMQ queue manager.</span></span>  
  
-   <span data-ttu-id="4794b-208">`QueueTransferProtocol`: Výčet protokol bude použit pro přenos zpráv k frontě.</span><span class="sxs-lookup"><span data-stu-id="4794b-208">`QueueTransferProtocol`: An enumeration of the protocol to use for queue-to-queue message transfers.</span></span> <span data-ttu-id="4794b-209">MSMQ – implementuje nativní k frontě přenosový protokol a názvem protokol spolehlivého zasílání zpráv na SOAP (SRMP) protokol založený na protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="4794b-209">MSMQ implements a native queue-to-queue transfer protocol and a SOAP-based protocol called SOAP Reliable Messaging Protocol (SRMP).</span></span> <span data-ttu-id="4794b-210">SRMP se používá při použití přenosového protokolu HTTP pro přenos k frontě.</span><span class="sxs-lookup"><span data-stu-id="4794b-210">SRMP is used when using HTTP transport for queue-to-queue transfers.</span></span> <span data-ttu-id="4794b-211">SRMP zabezpečení se používá při použití protokolu HTTPS pro přenosy na frontě.</span><span class="sxs-lookup"><span data-stu-id="4794b-211">SRMP secure is used when using HTTPS for queue-to-queue transfers.</span></span>  
  
-   <span data-ttu-id="4794b-212">`UseActiveDirectory`: Logická hodnota označující, zda služba Active Directory musí být použito pro rozpoznání adresy fronty.</span><span class="sxs-lookup"><span data-stu-id="4794b-212">`UseActiveDirectory`: A Boolean value to indicate whether the Active Directory must be used for queue address resolution.</span></span> <span data-ttu-id="4794b-213">Ve výchozím nastavení toto je vypnuto.</span><span class="sxs-lookup"><span data-stu-id="4794b-213">By default, this is off.</span></span> <span data-ttu-id="4794b-214">Další informace najdete v tématu [koncové body služby a adresování front](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span><span class="sxs-lookup"><span data-stu-id="4794b-214">For more information, see [Service Endpoints and Queue Addressing](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span></span>  
  
### <a name="msmqintegrationbinding"></a><span data-ttu-id="4794b-215">MsmqIntegrationBinding</span><span class="sxs-lookup"><span data-stu-id="4794b-215">MsmqIntegrationBinding</span></span>  
 <span data-ttu-id="4794b-216">`MsmqIntegrationBinding` Se používá, když chcete, aby ke komunikaci s existující služby MSMQ aplikace napsané v jazyce C, C++, COM nebo rozhraní API System.Messaging koncového bodu WCF.</span><span class="sxs-lookup"><span data-stu-id="4794b-216">The `MsmqIntegrationBinding` is used when you want a WCF endpoint to communicate with an existing MSMQ application written in C, C++, COM, or System.Messaging APIs.</span></span>  
  
 <span data-ttu-id="4794b-217">Vazby vlastnosti jsou stejné jako v případě `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="4794b-217">The binding properties are the same as for `NetMsmqBinding`.</span></span> <span data-ttu-id="4794b-218">Nicméně platí následující rozdíly:</span><span class="sxs-lookup"><span data-stu-id="4794b-218">However, the following differences apply:</span></span>  
  
-   <span data-ttu-id="4794b-219">Kontrakt pro `MsmqIntegrationBinding` je omezen na pořízení jeden parametr typu <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> kde parametr typu je typ těla zprávy.</span><span class="sxs-lookup"><span data-stu-id="4794b-219">The operation contract for `MsmqIntegrationBinding` is restricted to taking a single parameter of type <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> where the type parameter is the body type.</span></span>  
  
-   <span data-ttu-id="4794b-220">Velká část vlastnosti nativních zpráv MSMQ jsou přístupné <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> pro použití.</span><span class="sxs-lookup"><span data-stu-id="4794b-220">Much of MSMQ native message properties are exposed in the <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> for use.</span></span>  
  
-   <span data-ttu-id="4794b-221">Smyslem serializaci a deserializaci textu zprávy, jsou k dispozici serializátory, jako jsou XML a ActiveX.</span><span class="sxs-lookup"><span data-stu-id="4794b-221">To help with serialization and deserialization of the message body, serializers such as XML and ActiveX are provided.</span></span>  
  
### <a name="sample-code"></a><span data-ttu-id="4794b-222">Vzorový kód</span><span class="sxs-lookup"><span data-stu-id="4794b-222">Sample Code</span></span>  
 <span data-ttu-id="4794b-223">Podrobné pokyny o tom, jak napsat WCF služby, které používají služby MSMQ naleznete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="4794b-223">For step by step instructions on how to write WCF services that use MSMQ see the following topics:</span></span>  
  
-   [<span data-ttu-id="4794b-224">Postupy: Výměna zpráv pomocí koncových bodů WCF a aplikací služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="4794b-224">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)  
  
-   [<span data-ttu-id="4794b-225">Postupy: Výměna zpráv zařazených do fronty pomocí koncových bodů WCF</span><span class="sxs-lookup"><span data-stu-id="4794b-225">How to: Exchange Queued Messages with WCF Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-queued-messages-with-wcf-endpoints.md)  
  
 <span data-ttu-id="4794b-226">Dokončený kód v ukázce použití služby MSMQ ve službě WCF najdete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="4794b-226">For a completed code sample illustrating the use of MSMQ in WCF see the following topics:</span></span>  
  
-   [<span data-ttu-id="4794b-227">Zpracované vazby služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="4794b-227">Transacted MSMQ Binding</span></span>](../../../../docs/framework/wcf/samples/transacted-msmq-binding.md)  
  
-   [<span data-ttu-id="4794b-228">Nestálá komunikace ve frontě</span><span class="sxs-lookup"><span data-stu-id="4794b-228">Volatile Queued Communication</span></span>](../../../../docs/framework/wcf/samples/volatile-queued-communication.md)  
  
-   [<span data-ttu-id="4794b-229">Fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="4794b-229">Dead Letter Queues</span></span>](../../../../docs/framework/wcf/samples/dead-letter-queues.md)  
  
-   [<span data-ttu-id="4794b-230">Relace a fronty</span><span class="sxs-lookup"><span data-stu-id="4794b-230">Sessions and Queues</span></span>](../../../../docs/framework/wcf/samples/sessions-and-queues.md)  
  
-   [<span data-ttu-id="4794b-231">Obousměrná komunikace</span><span class="sxs-lookup"><span data-stu-id="4794b-231">Two-Way Communication</span></span>](../../../../docs/framework/wcf/samples/two-way-communication.md) 
  
-   [<span data-ttu-id="4794b-232">SRMP</span><span class="sxs-lookup"><span data-stu-id="4794b-232">SRMP</span></span>](../../../../docs/framework/wcf/samples/srmp.md)  
  
-   [<span data-ttu-id="4794b-233">Zabezpečení zprávy pomocí služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="4794b-233">Message Security over Message Queuing</span></span>](../../../../docs/framework/wcf/samples/message-security-over-message-queuing.md)  
  
## <a name="see-also"></a><span data-ttu-id="4794b-234">Viz také:</span><span class="sxs-lookup"><span data-stu-id="4794b-234">See also</span></span>
- [<span data-ttu-id="4794b-235">Koncové body služby a adresování front</span><span class="sxs-lookup"><span data-stu-id="4794b-235">Service Endpoints and Queue Addressing</span></span>](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md)
- [<span data-ttu-id="4794b-236">Webhosting frontové aplikace</span><span class="sxs-lookup"><span data-stu-id="4794b-236">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
