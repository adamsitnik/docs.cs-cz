---
title: Výběr typu pověření
ms.date: 03/30/2017
ms.assetid: bf707063-3f30-4304-ab53-0e63413728a8
ms.openlocfilehash: 20c070e9351219a649735ac404231cf6f265d814
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64586129"
---
# <a name="selecting-a-credential-type"></a><span data-ttu-id="5dabb-102">Výběr typu pověření</span><span class="sxs-lookup"><span data-stu-id="5dabb-102">Selecting a Credential Type</span></span>
<span data-ttu-id="5dabb-103">*Přihlašovací údaje* jsou data Windows Communication Foundation (WCF) používá k navázání uváděné identity nebo funkce.</span><span class="sxs-lookup"><span data-stu-id="5dabb-103">*Credentials* are the data Windows Communication Foundation (WCF) uses to establish either a claimed identity or capabilities.</span></span> <span data-ttu-id="5dabb-104">Passport je například přihlašovací údaje, které státní instituce problémy prokázání citizenship v zemi nebo oblast.</span><span class="sxs-lookup"><span data-stu-id="5dabb-104">For example, a passport is a credential a government issues to prove citizenship in a country or region.</span></span> <span data-ttu-id="5dabb-105">Ve službě WCF přihlašovací údaje mohou mít mnoho forem, jako je například název tokeny uživatele a certifikáty X.509.</span><span class="sxs-lookup"><span data-stu-id="5dabb-105">In WCF, credentials can take many forms, such as user name tokens and X.509 certificates.</span></span> <span data-ttu-id="5dabb-106">Toto téma popisuje přihlašovací údaje, jak se používají v WCF a tom, jak vybrat správné přihlašovací údaje pro vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="5dabb-106">This topic discusses credentials, how they are used in WCF, and how to select the right credential for your application.</span></span>  
  
 <span data-ttu-id="5dabb-107">V mnoha zemích a oblastech licence ovladače je příkladem přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="5dabb-107">In many countries and regions, a driver’s license is an example of a credential.</span></span> <span data-ttu-id="5dabb-108">Licence obsahuje data, která představuje identitu uživatele a možnosti.</span><span class="sxs-lookup"><span data-stu-id="5dabb-108">A license contains data that represents a person's identity and capabilities.</span></span> <span data-ttu-id="5dabb-109">Obsahuje doklad o vlastnictví v podobě obrázku vlastníka.</span><span class="sxs-lookup"><span data-stu-id="5dabb-109">It contains proof of possession in the form of the possessor's picture.</span></span> <span data-ttu-id="5dabb-110">Licence je vydán důvěryhodnou autoritou, obvykle vládní oddělení licencování.</span><span class="sxs-lookup"><span data-stu-id="5dabb-110">The license is issued by a trusted authority, usually a governmental department of licensing.</span></span> <span data-ttu-id="5dabb-111">Licence je zapečetěná a může obsahovat hologram, zobrazuje, že nebyla úmyslně nebo padělat.</span><span class="sxs-lookup"><span data-stu-id="5dabb-111">The license is sealed, and can contain a hologram, showing that it has not been tampered with or counterfeited.</span></span>  
  
 <span data-ttu-id="5dabb-112">Zobrazení přihlašovacích údajů zahrnuje prezentace dat i doklad o vlastnictví dat.</span><span class="sxs-lookup"><span data-stu-id="5dabb-112">Presenting a credential involves presenting both the data and proof of possession of the data.</span></span> <span data-ttu-id="5dabb-113">WCF podporuje celou řadu typů přihlašovacích údajů při přenosu i zpráva úrovně zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-113">WCF supports a variety of credential types at both the transport and message security levels.</span></span> <span data-ttu-id="5dabb-114">Představte si třeba dva typy přihlašovacích údajů, které jsou podporované ve službě WCF: uživatelské jméno a (X.509) certifikát přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="5dabb-114">For example, consider two types of credentials supported in WCF: user name and (X.509) certificate credentials.</span></span>  
  
 <span data-ttu-id="5dabb-115">Pro přístupové uživatelské jméno uživatelské jméno představuje nárokován identitu a heslo zajišťuje důkazy o vlastnictví.</span><span class="sxs-lookup"><span data-stu-id="5dabb-115">For the user name credential, the user name represents the claimed identity and the password provides proof of possession.</span></span> <span data-ttu-id="5dabb-116">Jako důvěryhodnou autoritu v tomto případě je systém, který ověří uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="5dabb-116">The trusted authority in this case is the system that validates the user name and password.</span></span>  
  
 <span data-ttu-id="5dabb-117">S přihlašovacími údaji pro certifikát X.509, název subjektu nebo alternativní název subjektu konkrétních polí v rámci certifikát může sloužit jako deklarace identity, zatímco jiné polí, jako `Valid From` a `Valid To` pole, zadejte jeho platnost certifikát.</span><span class="sxs-lookup"><span data-stu-id="5dabb-117">With an X.509 certificate credential, the subject name, subject alternative name or specific fields within the certificate can be used as claims of identity, while other fields, such as the `Valid From` and `Valid To` fields, specify the validity of the certificate.</span></span>  
  
## <a name="transport-credential-types"></a><span data-ttu-id="5dabb-118">Typy přenosu přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="5dabb-118">Transport Credential Types</span></span>  
 <span data-ttu-id="5dabb-119">Následující tabulka uvádí možné typy přihlašovacích údajů klienta, které mohou být využívána vazbu v režim zabezpečení transport.</span><span class="sxs-lookup"><span data-stu-id="5dabb-119">The following table shows the possible types of client credentials that can be used by a binding in transport security mode.</span></span> <span data-ttu-id="5dabb-120">Při vytváření služby, nastavte `ClientCredentialType` vlastnost na jednu z těchto hodnot k určení typu přihlašovacích údajů, které klient musíte dodávat ke komunikaci s vaší službou.</span><span class="sxs-lookup"><span data-stu-id="5dabb-120">When creating a service, set the `ClientCredentialType` property to one of these values to specify the type of credential that the client must supply to communicate with your service.</span></span> <span data-ttu-id="5dabb-121">Typy lze nastavit v kódu nebo konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="5dabb-121">You can set the types in either code or configuration files.</span></span>  
  
|<span data-ttu-id="5dabb-122">Nastavení</span><span class="sxs-lookup"><span data-stu-id="5dabb-122">Setting</span></span>|<span data-ttu-id="5dabb-123">Popis</span><span class="sxs-lookup"><span data-stu-id="5dabb-123">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="5dabb-124">Žádný</span><span class="sxs-lookup"><span data-stu-id="5dabb-124">None</span></span>|<span data-ttu-id="5dabb-125">Určuje, že klient není potřeba k dispozici žádné přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="5dabb-125">Specifies that the client does not need to present any credential.</span></span> <span data-ttu-id="5dabb-126">Výsledkem je k anonymní klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-126">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="5dabb-127">Základní</span><span class="sxs-lookup"><span data-stu-id="5dabb-127">Basic</span></span>|<span data-ttu-id="5dabb-128">Určuje základní ověřování klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-128">Specifies basic authentication for the client.</span></span> <span data-ttu-id="5dabb-129">Další informace najdete v tématu RFC2617 –[ověřování pomocí protokolu HTTP: Základní a ověřování algoritmem Digest](https://go.microsoft.com/fwlink/?LinkID=88313).</span><span class="sxs-lookup"><span data-stu-id="5dabb-129">For additional information, see RFC2617—[HTTP Authentication: Basic and Digest Authentication](https://go.microsoft.com/fwlink/?LinkID=88313).</span></span>|  
|<span data-ttu-id="5dabb-130">ověřování algoritmem Digest</span><span class="sxs-lookup"><span data-stu-id="5dabb-130">Digest</span></span>|<span data-ttu-id="5dabb-131">Určuje ověřování algoritmem digest pro klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-131">Specifies digest authentication for the client.</span></span> <span data-ttu-id="5dabb-132">Další informace najdete v tématu RFC2617 –[ověřování pomocí protokolu HTTP: Základní a ověřování algoritmem Digest](https://go.microsoft.com/fwlink/?LinkID=88313).</span><span class="sxs-lookup"><span data-stu-id="5dabb-132">For additional information, see RFC2617—[HTTP Authentication: Basic and Digest Authentication](https://go.microsoft.com/fwlink/?LinkID=88313).</span></span>|  
|<span data-ttu-id="5dabb-133">Ntlm</span><span class="sxs-lookup"><span data-stu-id="5dabb-133">Ntlm</span></span>|<span data-ttu-id="5dabb-134">Určuje NT LAN Manager (NTLM) authentication.</span><span class="sxs-lookup"><span data-stu-id="5dabb-134">Specifies NT LAN Manager (NTLM) authentication.</span></span> <span data-ttu-id="5dabb-135">Používá se, pokud z nějakého důvodu nelze použít ověřování pomocí protokolu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5dabb-135">This is used when you cannot use Kerberos authentication for some reason.</span></span> <span data-ttu-id="5dabb-136">Jeho použití jako záložní můžete také zakázat nastavením <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> vlastnost `false`, což způsobí, že WCF, aby se snažíme vyvolá výjimku, pokud je použit protokol NTLM.</span><span class="sxs-lookup"><span data-stu-id="5dabb-136">You can also disable its use as a fallback by setting the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false`, which causes WCF to make a best-effort to throw an exception if NTLM is used.</span></span> <span data-ttu-id="5dabb-137">Všimněte si, že nastavení této vlastnosti na `false` nemůže zabránit odeslání při přenosu přihlašovacích údajů protokolů NTLM.</span><span class="sxs-lookup"><span data-stu-id="5dabb-137">Note that setting this property to `false` may not prevent NTLM credentials from being sent over the wire.</span></span>|  
|<span data-ttu-id="5dabb-138">Windows</span><span class="sxs-lookup"><span data-stu-id="5dabb-138">Windows</span></span>|<span data-ttu-id="5dabb-139">Určuje ověřování Windows.</span><span class="sxs-lookup"><span data-stu-id="5dabb-139">Specifies Windows authentication.</span></span> <span data-ttu-id="5dabb-140">Chcete-li zadat pouze protokol Kerberos v doméně Windows, nastavte <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> vlastnost `false` (výchozí hodnota je `true`).</span><span class="sxs-lookup"><span data-stu-id="5dabb-140">To specify only the Kerberos protocol on a Windows domain, set the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false` (the default is `true`).</span></span>|  
|<span data-ttu-id="5dabb-141">Certifikát</span><span class="sxs-lookup"><span data-stu-id="5dabb-141">Certificate</span></span>|<span data-ttu-id="5dabb-142">Provádí ověření klienta pomocí certifikátu X.509.</span><span class="sxs-lookup"><span data-stu-id="5dabb-142">Performs client authentication using an X.509 certificate.</span></span>|  
|<span data-ttu-id="5dabb-143">Heslo</span><span class="sxs-lookup"><span data-stu-id="5dabb-143">Password</span></span>|<span data-ttu-id="5dabb-144">Uživatel musí zadat uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="5dabb-144">User must supply a user name and password.</span></span> <span data-ttu-id="5dabb-145">Ověření páru jméno/heslo uživatele pomocí ověřování Windows nebo jiné vlastní řešení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-145">Validate the user name/password pair using Windows authentication or another custom solution.</span></span>|  
  
### <a name="message-client-credential-types"></a><span data-ttu-id="5dabb-146">Typy zpráv klienta přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="5dabb-146">Message Client Credential Types</span></span>  
 <span data-ttu-id="5dabb-147">V následující tabulce jsou uvedeny typy možných přihlašovacích údajů, které můžete použít při vytváření aplikace, který používá zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="5dabb-147">The following table shows the possible credential types that you can use when creating an application that uses message security.</span></span> <span data-ttu-id="5dabb-148">Tyto hodnoty můžete použít v kódu nebo konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="5dabb-148">You can use these values in either code or configuration files.</span></span>  
  
|<span data-ttu-id="5dabb-149">Nastavení</span><span class="sxs-lookup"><span data-stu-id="5dabb-149">Setting</span></span>|<span data-ttu-id="5dabb-150">Popis</span><span class="sxs-lookup"><span data-stu-id="5dabb-150">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="5dabb-151">Žádné</span><span class="sxs-lookup"><span data-stu-id="5dabb-151">None</span></span>|<span data-ttu-id="5dabb-152">Určuje, že klient nemusí představovat přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="5dabb-152">Specifies that the client does not need to present a credential.</span></span> <span data-ttu-id="5dabb-153">Výsledkem je k anonymní klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-153">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="5dabb-154">Windows</span><span class="sxs-lookup"><span data-stu-id="5dabb-154">Windows</span></span>|<span data-ttu-id="5dabb-155">Umožňuje výměny zpráv SOAP probíhá v kontextu zabezpečení vytvořen se přihlašovací údaje Windows.</span><span class="sxs-lookup"><span data-stu-id="5dabb-155">Allows SOAP message exchanges to occur under the security context established with a Windows credential.</span></span>|  
|<span data-ttu-id="5dabb-156">Uživatelské jméno</span><span class="sxs-lookup"><span data-stu-id="5dabb-156">Username</span></span>|<span data-ttu-id="5dabb-157">Umožňuje službě tak, aby vyžadovala ověření klienta s pověření uživatelského jména.</span><span class="sxs-lookup"><span data-stu-id="5dabb-157">Allows the service to require that the client be authenticated with a user name credential.</span></span> <span data-ttu-id="5dabb-158">Všimněte si, že WCF nepovoluje žádné kryptografické operace s uživatelskými jmény, jako je například generuje podpis nebo šifrovat data.</span><span class="sxs-lookup"><span data-stu-id="5dabb-158">Note that WCF does not allow any cryptographic operations with user names, such as generating a signature or encrypting data.</span></span> <span data-ttu-id="5dabb-159">WCF se zajistí, že při použití uživatelských přihlašovacích údajů název je zabezpečený přenos.</span><span class="sxs-lookup"><span data-stu-id="5dabb-159">WCF ensures that the transport is secured when using user name credentials.</span></span>|  
|<span data-ttu-id="5dabb-160">Certifikát</span><span class="sxs-lookup"><span data-stu-id="5dabb-160">Certificate</span></span>|<span data-ttu-id="5dabb-161">Umožňuje službě tak, aby vyžadovala, ověření klienta pomocí certifikátu X.509.</span><span class="sxs-lookup"><span data-stu-id="5dabb-161">Allows the service to require that the client be authenticated using an X.509 certificate.</span></span>|  
|<span data-ttu-id="5dabb-162">Vydaný Token</span><span class="sxs-lookup"><span data-stu-id="5dabb-162">Issued Token</span></span>|<span data-ttu-id="5dabb-163">Vlastní token typu nakonfigurovaný podle zásady zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-163">A custom token type configured according to a security policy.</span></span> <span data-ttu-id="5dabb-164">Výchozí typ tokenu je zabezpečení kontrolní výrazy SAML (Markup Language).</span><span class="sxs-lookup"><span data-stu-id="5dabb-164">The default token type is Security Assertions Markup Language (SAML).</span></span> <span data-ttu-id="5dabb-165">Token, který je vystaven Služba tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-165">The token is issued by a secure token service.</span></span> <span data-ttu-id="5dabb-166">Další informace najdete v tématu [federace a vydané tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="5dabb-166">For more information, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>|  
  
### <a name="negotiation-model-of-service-credentials"></a><span data-ttu-id="5dabb-167">Model vyjednávání přihlašovacích údajů služby</span><span class="sxs-lookup"><span data-stu-id="5dabb-167">Negotiation Model of Service Credentials</span></span>  
 <span data-ttu-id="5dabb-168">*Vyjednávání* je proces vytvoření vztahu důvěryhodnosti mezi klientem a službou výměnou přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="5dabb-168">*Negotiation* is the process of establishing trust between a client and a service by exchanging credentials.</span></span> <span data-ttu-id="5dabb-169">Proces se provádí opakované mezi klientem a služby, aby zpřístupnit pouze informace potřebné k dalším krokem v procesu vyjednávání.</span><span class="sxs-lookup"><span data-stu-id="5dabb-169">The process is performed iteratively between the client and the service, so as to disclose only the information necessary for the next step in the negotiation process.</span></span> <span data-ttu-id="5dabb-170">V praxi konečný výsledek je doručování přihlašovacích údajů pro služby klienta, který se má použít v následných operací.</span><span class="sxs-lookup"><span data-stu-id="5dabb-170">In practice, the end result is the delivery of a service's credential to the client to be used in subsequent operations.</span></span>  
  
 <span data-ttu-id="5dabb-171">S jednou výjimkou ve výchozím nastavení vazeb poskytovaných systémem ve službě WCF vyjednávání přihlašovacích údajů služby automaticky při použití zabezpečení na úrovni zprávy.</span><span class="sxs-lookup"><span data-stu-id="5dabb-171">With one exception, by default the system-provided bindings in WCF negotiate the service credential automatically when using message-level security.</span></span> <span data-ttu-id="5dabb-172">(Výjimkou je <xref:System.ServiceModel.BasicHttpBinding>, což není povoleno zabezpečení ve výchozím nastavení.) Chcete-li toto chování zakázat, přečtěte si téma <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> a <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5dabb-172">(The exception is the <xref:System.ServiceModel.BasicHttpBinding>, which does not enable security by default.) To disable this behavior, see the <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> and <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> properties.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5dabb-173">Při použití zabezpečení SSL v rozhraní .NET Framework 3.5 nebo novější, klienta WCF používá i zprostředkující certifikáty ve své vlastní úložiště certifikátů a zprostředkujících certifikátů přijatých během vyjednávání SSL k provedení ověřování řetězu certifikátů na služby certifikát.</span><span class="sxs-lookup"><span data-stu-id="5dabb-173">When SSL security is used with .NET Framework 3.5 and later, a WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="5dabb-174">Rozhraní .NET framework 3.0 využívá jenom nainstalované v místním úložišti certifikátů zprostředkující certifikáty.</span><span class="sxs-lookup"><span data-stu-id="5dabb-174">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
#### <a name="out-of-band-negotiation"></a><span data-ttu-id="5dabb-175">Vyjednávání Out-of-Band</span><span class="sxs-lookup"><span data-stu-id="5dabb-175">Out-of-Band Negotiation</span></span>  
 <span data-ttu-id="5dabb-176">Pokud je zakázané automatické vyjednávání, přihlašovací údaje služby musí být zřízená v klientském počítači před odesláním jakýchkoli zpráv do služby.</span><span class="sxs-lookup"><span data-stu-id="5dabb-176">If automatic negotiation is disabled, the service credential must be provisioned at the client prior to sending any messages to the service.</span></span> <span data-ttu-id="5dabb-177">To se také označuje jako *out-of-band* zřizování.</span><span class="sxs-lookup"><span data-stu-id="5dabb-177">This is also known as an *out-of-band* provisioning.</span></span> <span data-ttu-id="5dabb-178">Například pokud je typ zadané přihlašovací údaje certifikát, a je zakázáno automatické vyjednávání, klient musí kontaktujte vlastníka služby pro příjem a nainstalujte certifikát na počítači se systémem klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="5dabb-178">For example, if the specified credential type is a certificate, and automatic negotiation is disabled, the client must contact the service owner to receive and install the certificate on the computer running the client application.</span></span> <span data-ttu-id="5dabb-179">To můžete udělat, třeba když chcete striktně řídit, které klienti mají přístup k nějaké službě v případě business-to-business.</span><span class="sxs-lookup"><span data-stu-id="5dabb-179">This can be done, for example, when you want to strictly control which clients can access a service in a business-to-business scenario.</span></span> <span data-ttu-id="5dabb-180">V tomto out z-obsluhy vzdálené správy – vyjednávání lze provést v e-mailu a certifikátu X.509 je uložen v úložišti certifikátů Windows, pomocí nástroje, jako je modul snap-in Certifikáty konzoly Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="5dabb-180">This out-of-band-negotiation can be done in email, and the X.509 certificate is stored in Windows certificate store, using a tool such as the Microsoft Management Console (MMC) Certificates snap-in.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5dabb-181"><xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> Vlastnost se používá k poskytování služby pomocí certifikátu, který bylo dosaženo pomocí out-of-band vyjednávání.</span><span class="sxs-lookup"><span data-stu-id="5dabb-181">The <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property is used to provide the service with a certificate that was attained through out-of-band negotiation.</span></span> <span data-ttu-id="5dabb-182">To je nezbytné, při použití <xref:System.ServiceModel.BasicHttpBinding> třídy, protože vazba nepovoluje automatizované vyjednávání.</span><span class="sxs-lookup"><span data-stu-id="5dabb-182">This is necessary when using the <xref:System.ServiceModel.BasicHttpBinding> class because the binding does not allow automated negotiation.</span></span> <span data-ttu-id="5dabb-183">Vlastnost se používá také ve scénáři bez korelace nejsou duplexní.</span><span class="sxs-lookup"><span data-stu-id="5dabb-183">The property is also used in an uncorrelated duplex scenario.</span></span> <span data-ttu-id="5dabb-184">Toto je scénář, kde server odešle zprávu do klienta bez nutnosti klient nejdřív odešlete požadavek na server.</span><span class="sxs-lookup"><span data-stu-id="5dabb-184">This is a scenario where a server sends a message to the client without requiring the client to send a request to the server first.</span></span> <span data-ttu-id="5dabb-185">Protože server nemá žádné žádosti z klienta, musí používat certifikát klienta pro šifrování zprávy do klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-185">Because the server does not have a request from the client, it must use the client's certificate to encrypt the message to the client.</span></span>  
  
## <a name="setting-credential-values"></a><span data-ttu-id="5dabb-186">Nastavení hodnot přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="5dabb-186">Setting Credential Values</span></span>  
 <span data-ttu-id="5dabb-187">Jakmile vyberete režim zabezpečení, je nutné zadat samotné přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="5dabb-187">Once you select a security mode, you must specify the actual credentials.</span></span> <span data-ttu-id="5dabb-188">Například pokud typ přihlašovacích údajů nastavená na "certifikáty", pak musíte přidružit konkrétní přihlašovací údaje (například konkrétní certifikát X.509) služba nebo klient.</span><span class="sxs-lookup"><span data-stu-id="5dabb-188">For example, if the credential type is set to "certificate," then you must associate a specific credential (such as a specific X.509 certificate) with the service or client.</span></span>  
  
 <span data-ttu-id="5dabb-189">V závislosti na tom, zda jsou programovací službu nebo klienta metoda pro nastavení hodnoty přihlašovacích údajů se mírně liší.</span><span class="sxs-lookup"><span data-stu-id="5dabb-189">Depending on whether you are programming a service or a client, the method for setting the credential value differs slightly.</span></span>  
  
### <a name="setting-service-credentials"></a><span data-ttu-id="5dabb-190">Nastavení přihlašovacích údajů služby</span><span class="sxs-lookup"><span data-stu-id="5dabb-190">Setting Service Credentials</span></span>  
 <span data-ttu-id="5dabb-191">Pokud používáte režim přenosu a používáte jako přenosového protokolu HTTP, musíte použít buď Internetové informační služby (IIS) nebo konfigurace portu s certifikátem.</span><span class="sxs-lookup"><span data-stu-id="5dabb-191">If you are using transport mode, and you are using HTTP as the transport, you must use either Internet Information Services (IIS) or configure the port with a certificate.</span></span> <span data-ttu-id="5dabb-192">Další informace najdete v tématu [Přehled zabezpečení přenosu](../../../../docs/framework/wcf/feature-details/transport-security-overview.md) a [zabezpečení přenosu HTTP](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="5dabb-192">For more information, see [Transport Security Overview](../../../../docs/framework/wcf/feature-details/transport-security-overview.md) and [HTTP Transport Security](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span></span>  
  
 <span data-ttu-id="5dabb-193">Při zřizování služby pomocí přihlašovacích údajů v kódu, vytvořte instanci <xref:System.ServiceModel.ServiceHost> třídy a zadejte příslušná pověření pomocí <xref:System.ServiceModel.Description.ServiceCredentials> třídy přistupovat prostřednictvím <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5dabb-193">To provision a service with credentials in code, create an instance of the <xref:System.ServiceModel.ServiceHost> class and specify the appropriate credential using the <xref:System.ServiceModel.Description.ServiceCredentials> class, accessed through the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> property.</span></span>  
  
#### <a name="setting-a-certificate"></a><span data-ttu-id="5dabb-194">Nastavení certifikátu</span><span class="sxs-lookup"><span data-stu-id="5dabb-194">Setting a Certificate</span></span>  
 <span data-ttu-id="5dabb-195">Chcete-li zřídit službu společně s certifikátem X.509, který se má použít k ověřování klientů, použijte <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A> metodu <xref:System.ServiceModel.Security.X509CertificateRecipientServiceCredential> třídy.</span><span class="sxs-lookup"><span data-stu-id="5dabb-195">To provision a service with an X.509 certificate to be used to authenticate the service to clients, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateRecipientServiceCredential> class.</span></span>  
  
 <span data-ttu-id="5dabb-196">Při zřizování služby pomocí klientského certifikátu, použijte <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> metodu <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential> třídy.</span><span class="sxs-lookup"><span data-stu-id="5dabb-196">To provision a service with a client certificate, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential> class.</span></span>  
  
#### <a name="setting-windows-credentials"></a><span data-ttu-id="5dabb-197">Nastavení přihlašovacích údajů Windows</span><span class="sxs-lookup"><span data-stu-id="5dabb-197">Setting Windows Credentials</span></span>  
 <span data-ttu-id="5dabb-198">Pokud klient Určuje platné uživatelské jméno a heslo, tyto přihlašovací údaje se používá k ověření klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-198">If the client specifies a valid user name and password, that credential is used to authenticate the client.</span></span> <span data-ttu-id="5dabb-199">V opačném případě se používají přihlašovací údaje aktuálního přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="5dabb-199">Otherwise, the current logged-on user's credentials are used.</span></span>  
  
### <a name="setting-client-credentials"></a><span data-ttu-id="5dabb-200">Nastavení přihlašovacích údajů klienta</span><span class="sxs-lookup"><span data-stu-id="5dabb-200">Setting Client Credentials</span></span>  
 <span data-ttu-id="5dabb-201">Ve službě WCF klientské aplikace připojit ke službám pomocí klienta WCF.</span><span class="sxs-lookup"><span data-stu-id="5dabb-201">In WCF, client applications use a WCF client to connect to services.</span></span> <span data-ttu-id="5dabb-202">Každý klient je odvozen od <xref:System.ServiceModel.ClientBase%601> třídy a <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> vlastnost na klientovi umožňuje specifikaci různých hodnot přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="5dabb-202">Every client derives from the <xref:System.ServiceModel.ClientBase%601> class, and the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property on the client allows the specification of various values of client credentials.</span></span>  
  
#### <a name="setting-a-certificate"></a><span data-ttu-id="5dabb-203">Nastavení certifikátu</span><span class="sxs-lookup"><span data-stu-id="5dabb-203">Setting a Certificate</span></span>  
 <span data-ttu-id="5dabb-204">Při zřizování služby certifikátem X.509, který se používá k ověření klienta ke službě, použijte <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> metodu <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> třídy.</span><span class="sxs-lookup"><span data-stu-id="5dabb-204">To provision a service with an X.509 certificate that is used to authenticate the client to a service, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
## <a name="how-client-credentials-are-used-to-authenticate-a-client-to-the-service"></a><span data-ttu-id="5dabb-205">Jak se používají přihlašovací údaje pro klienta k ověření klienta ke službě</span><span class="sxs-lookup"><span data-stu-id="5dabb-205">How Client Credentials Are Used to Authenticate a Client to the Service</span></span>  
 <span data-ttu-id="5dabb-206">Poskytuje informace o klientech přihlašovacích údajů potřebných pro komunikaci se službou buď pomocí <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> vlastnost nebo <xref:System.ServiceModel.ChannelFactory.Credentials%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5dabb-206">Client credential information required to communicate with a service is provided using either the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property or the <xref:System.ServiceModel.ChannelFactory.Credentials%2A> property.</span></span> <span data-ttu-id="5dabb-207">Zabezpečený kanál používá tyto informace k ověření klienta ke službě.</span><span class="sxs-lookup"><span data-stu-id="5dabb-207">The security channel uses this information to authenticate the client to the service.</span></span> <span data-ttu-id="5dabb-208">Ověřování se provádí prostřednictvím jednoho ze dvou režimů:</span><span class="sxs-lookup"><span data-stu-id="5dabb-208">Authentication is accomplished through one of two modes:</span></span>  
  
- <span data-ttu-id="5dabb-209">Přihlašovací údaje klienta se používají jednou před odesláním první zprávu pomocí instance klienta WCF k vytvoření kontextu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-209">The client credentials are used once before the first message is sent, using the WCF client instance to establish a security context.</span></span> <span data-ttu-id="5dabb-210">Všechny zprávy aplikace jsou pak zabezpečené skrze kontext zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dabb-210">All application messages are then secured through the security context.</span></span>  
  
- <span data-ttu-id="5dabb-211">Přihlašovací údaje klienta slouží k ověření každé aplikace zpráva odeslaná do služby.</span><span class="sxs-lookup"><span data-stu-id="5dabb-211">The client credentials are used to authenticate every application message sent to the service.</span></span> <span data-ttu-id="5dabb-212">V tomto případě žádný kontext pokládáme stav, mezi klientem a službou.</span><span class="sxs-lookup"><span data-stu-id="5dabb-212">In this case, no context is established between the client and the service.</span></span>  
  
### <a name="established-identities-cannot-be-changed"></a><span data-ttu-id="5dabb-213">Zavedené identity nejde změnit.</span><span class="sxs-lookup"><span data-stu-id="5dabb-213">Established Identities Cannot Be Changed</span></span>  
 <span data-ttu-id="5dabb-214">Při použití první způsob je trvale přidružený identity klienta vytvořeným kontextem.</span><span class="sxs-lookup"><span data-stu-id="5dabb-214">When the first method is used, the established context is permanently associated with the client identity.</span></span> <span data-ttu-id="5dabb-215">Po vytvoření kontextu zabezpečení, to znamená, nemůže být změněna identita přidružené ke klientovi.</span><span class="sxs-lookup"><span data-stu-id="5dabb-215">That is, once the security context has been established, the identity associated with the client cannot be changed.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5dabb-216">Neexistuje situace je potřeba vědět po nelze Přepnutí identity (to znamená, když vytvořit bezpečnostní kontext je na výchozí chování).</span><span class="sxs-lookup"><span data-stu-id="5dabb-216">There is a situation to be aware of when the identity cannot be switched (that is, when establish security context is on, the default behavior).</span></span> <span data-ttu-id="5dabb-217">Pokud vytvoříte službu, která komunikuje s druhou službu, identity používá k otevření klienta WFG pro druhý služby nelze změnit.</span><span class="sxs-lookup"><span data-stu-id="5dabb-217">If you create a service that communicates with a second service, the identity used to open the WCF client to the second service cannot be changed.</span></span> <span data-ttu-id="5dabb-218">To stane problém, pokud více klientů můžou používat první služby a služby zosobňuje klienty při přístupu ke službě druhý.</span><span class="sxs-lookup"><span data-stu-id="5dabb-218">This becomes a problem if multiple clients are allowed to use the first service and the service impersonates the clients when accessing the second service.</span></span> <span data-ttu-id="5dabb-219">Pokud služba opakované používání stejného klienta pro všechny volající, všechna volání do druhé služby se provádějí s identitou první volajícího, která byla použita k otevření klienta ke službě druhý.</span><span class="sxs-lookup"><span data-stu-id="5dabb-219">If the service reuses the same client for all callers, all calls to the second service are done under the identity of the first caller that was used to open the client to the second service.</span></span> <span data-ttu-id="5dabb-220">Jinými slovy služba používá identity první klient pro své klienty komunikovat se službou druhý.</span><span class="sxs-lookup"><span data-stu-id="5dabb-220">In other words, the service uses the identity of the first client for all its clients to communicate with the second service.</span></span> <span data-ttu-id="5dabb-221">To může vést ke zvýšení oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5dabb-221">This can lead to the elevation of privilege.</span></span> <span data-ttu-id="5dabb-222">Pokud to není požadované chování služby, musíte sledovat jednotliví volající a vytvořit nového klienta do druhé služby pro každý jedinečných volajícího a zajistit, aby používal službu pouze správné klienta pro správné volajícího komunikovat se službou druhý.</span><span class="sxs-lookup"><span data-stu-id="5dabb-222">If this is not the desired behavior of your service, you must track each caller and create a new client to the second service for every distinct caller, and ensure that the service uses only the right client for the right caller to communicate with the second service.</span></span>  
  
 <span data-ttu-id="5dabb-223">Další informace o přihlašovací údaje a zabezpečených relací najdete v tématu [aspekty zabezpečení pro zabezpečené relace](../../../../docs/framework/wcf/feature-details/security-considerations-for-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="5dabb-223">For more information about credentials and secure sessions, see [Security Considerations for Secure Sessions](../../../../docs/framework/wcf/feature-details/security-considerations-for-secure-sessions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5dabb-224">Viz také:</span><span class="sxs-lookup"><span data-stu-id="5dabb-224">See also</span></span>

- <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>
- <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.Description.ClientCredentials.ClientCertificate%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.BasicHttpMessageSecurity.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.MessageSecurityOverMsmq.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.MessageSecurityOverTcp.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A?displayProperty=nameWithType>
- <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A?displayProperty=nameWithType>
- [<span data-ttu-id="5dabb-225">Koncepty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5dabb-225">Security Concepts</span></span>](../../../../docs/framework/wcf/feature-details/security-concepts.md)
- [<span data-ttu-id="5dabb-226">Zabezpečení služeb a klientů</span><span class="sxs-lookup"><span data-stu-id="5dabb-226">Securing Services and Clients</span></span>](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)
- [<span data-ttu-id="5dabb-227">Programování zabezpečení WCF</span><span class="sxs-lookup"><span data-stu-id="5dabb-227">Programming WCF Security</span></span>](../../../../docs/framework/wcf/feature-details/programming-wcf-security.md)
- [<span data-ttu-id="5dabb-228">Zabezpečení přenosu HTTP</span><span class="sxs-lookup"><span data-stu-id="5dabb-228">HTTP Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/http-transport-security.md)
