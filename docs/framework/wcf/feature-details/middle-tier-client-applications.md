---
title: Klientské aplikace střední vrstvy
ms.date: 03/30/2017
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
ms.openlocfilehash: c7934f6d0d34992db229244373b5a170180f51e6
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64649447"
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="71802-102">Klientské aplikace střední vrstvy</span><span class="sxs-lookup"><span data-stu-id="71802-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="71802-103">Toto téma popisuje různé problémy, které jsou specifické pro střední vrstvě klientské aplikace, které používají Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="71802-103">This topic discusses various issues specific to middle-tier client applications that use Windows Communication Foundation (WCF).</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="71802-104">Zvýšení výkonu klienta střední vrstvy</span><span class="sxs-lookup"><span data-stu-id="71802-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="71802-105">Ve srovnání s předchozím komunikace technologií, jako jsou webové služby pomocí [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], vytvoření instance klienta WCF může být složitější z důvodu bohatou sadu funkcí služby WCF.</span><span class="sxs-lookup"><span data-stu-id="71802-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a WCF client instance can be more complex due to the rich feature set of WCF.</span></span> <span data-ttu-id="71802-106">Například, když <xref:System.ServiceModel.ChannelFactory%601> je otevřen objekt navázat zabezpečenou relaci se službou, procedury, která zvyšuje dobu spuštění pro instanci klienta.</span><span class="sxs-lookup"><span data-stu-id="71802-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="71802-107">Obvykle tyto další funkce funkce nemají vliv na klientské aplikace značně od klienta WCF provede několik volání a potom jej zavře.</span><span class="sxs-lookup"><span data-stu-id="71802-107">Typically, these additional feature capabilities do not affect client applications greatly since the WCF client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="71802-108">Střední vrstvě klientské aplikace, ale můžete rychle vytvořit velký počet objektů klienta WCF a, v důsledku toho prostředí zvýšenou inicializace požadavky.</span><span class="sxs-lookup"><span data-stu-id="71802-108">Middle-tier client applications, however, can create many WCF client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="71802-109">Existují dva hlavní přístupy ke zvýšení výkonu střední vrstvy aplikace při volání služby:</span><span class="sxs-lookup"><span data-stu-id="71802-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
- <span data-ttu-id="71802-110">Objekt klienta WCF do mezipaměti a použít pro pozdější volání, kde je to možné.</span><span class="sxs-lookup"><span data-stu-id="71802-110">Cache the WCF client object and reuse it for subsequent calls where possible.</span></span>  
  
- <span data-ttu-id="71802-111">Vytvoření <xref:System.ServiceModel.ChannelFactory%601> objektu a pak použít tento objekt k vytvoření nového klienta WCF objekty kanálu pro každé volání.</span><span class="sxs-lookup"><span data-stu-id="71802-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new WCF client channel objects for each call.</span></span>  
  
 <span data-ttu-id="71802-112">Problémy při použití těchto přístupů patří:</span><span class="sxs-lookup"><span data-stu-id="71802-112">Issues to consider when using these approaches include:</span></span>  
  
- <span data-ttu-id="71802-113">Pokud služba je zachování stavu specifické pro klienta pomocí relace, pak nelze znovu použít klienta WCF střední vrstvy s žádosti více klientská vrstva vzhledem k tomu, že stav služby je vázán na jazyku klienta střední vrstvy.</span><span class="sxs-lookup"><span data-stu-id="71802-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier WCF client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
- <span data-ttu-id="71802-114">Pokud služba musí provést ověření na jednotlivé klienty, musíte vytvořit nového klienta pro každého příchozího požadavku ve střední vrstvě. namísto opakovaného použití klienta WCF střední vrstvy (nebo objekt kanálu klienta WCF), protože pověření klienta střední vrstvy nelze změnit po klienta WCF (nebo <xref:System.ServiceModel.ChannelFactory%601>) byla vytvořena.</span><span class="sxs-lookup"><span data-stu-id="71802-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier WCF client (or WCF client channel object) because the client credentials of the middle tier cannot be modified after the WCF client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
- <span data-ttu-id="71802-115">Kanálů a kanály vytvořené klienty jsou bezpečné pro vlákna, se nemusí podporovat zápis více zpráv souběžně do přenosu.</span><span class="sxs-lookup"><span data-stu-id="71802-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="71802-116">Při odesílání velkých zpráv, zejména v případě, že datový proud, je operace odeslání může blokovat čekání na další odeslat k dokončení.</span><span class="sxs-lookup"><span data-stu-id="71802-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="71802-117">To způsobí, že dva druhy problémů: Nedostatečná souběžnost a možnost zablokování Pokud tok řízení vrátí do služby opětovné použití kanálu (to znamená, sdílené klient zavolá službu cesty kódu, jejichž výsledky ve zpětném volání do sdílené klienta).</span><span class="sxs-lookup"><span data-stu-id="71802-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="71802-118">To platí bez ohledu na typ klienta WCF, který je znovu použít.</span><span class="sxs-lookup"><span data-stu-id="71802-118">This is true regardless of the type of WCF client you reuse.</span></span>  
  
- <span data-ttu-id="71802-119">Je třeba ošetřit chybnou kanály bez ohledu na to, zda sdílet kanál.</span><span class="sxs-lookup"><span data-stu-id="71802-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="71802-120">Když kanály jsou opakovaně používat, ale můžete neškodné kanálu více než jeden žádostí čekajících na vyřízení nebo odeslat.</span><span class="sxs-lookup"><span data-stu-id="71802-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="71802-121">Příklad, který ukazuje osvědčené postupy pro opětovné použití klienta více žádostí, najdete v části [datové vazby v klientovi ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="71802-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="71802-122">Kromě toho můžete zvýšit výkon při spouštění pro tyto klienty, kteří používají datové typy, které jsou serializovatelné pomocí <xref:System.Xml.Serialization.XmlSerializer> generování a kompilaci kódu serializace pro typy dat za běhu, což může vést k pomalé spouštění výkonu.</span><span class="sxs-lookup"><span data-stu-id="71802-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="71802-123">[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) výkon lze zvýšit objem požadovaný při spuštění pro tyto aplikace generování kódu serializace nezbytné ze zkompilovaných sestavení pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="71802-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="71802-124">Další informace najdete v tématu [jak: Vylepšení spuštění čas z klientských aplikací WCF pomocí třídy XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="71802-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="71802-125">Viz také:</span><span class="sxs-lookup"><span data-stu-id="71802-125">See also</span></span>

- [<span data-ttu-id="71802-126">Přístup ke službám pomocí klienta WCF</span><span class="sxs-lookup"><span data-stu-id="71802-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
