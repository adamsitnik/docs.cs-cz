---
title: Deklarace a tokeny
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: 223b86310d90c877df15a99c90a0a72ea780734a
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61784277"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="f8fad-102">Deklarace a tokeny</span><span class="sxs-lookup"><span data-stu-id="f8fad-102">Claims and Tokens</span></span>
<span data-ttu-id="f8fad-103">Toto téma popisuje různé typy deklarací identity, které Windows Communication Foundation (WCF) vytvoří z výchozí tokeny, které podporuje.</span><span class="sxs-lookup"><span data-stu-id="f8fad-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>  
  
 <span data-ttu-id="f8fad-104">Deklarace identity pověření klienta můžete prozkoumat pomocí <xref:System.IdentityModel.Claims.ClaimSet> a <xref:System.IdentityModel.Claims.Claim> třídy.</span><span class="sxs-lookup"><span data-stu-id="f8fad-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="f8fad-105">`ClaimSet` Obsahuje kolekci `Claim` objekty.</span><span class="sxs-lookup"><span data-stu-id="f8fad-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="f8fad-106">Každý `Claim` má následující důležité členy:</span><span class="sxs-lookup"><span data-stu-id="f8fad-106">Each `Claim` has the following important members:</span></span>  
  
- <span data-ttu-id="f8fad-107"><xref:System.IdentityModel.Claims.Claim.ClaimType%2A> Vrátí vlastnost identifikátor URI (Uniform Resource), který určuje typ deklarace identity prováděné.</span><span class="sxs-lookup"><span data-stu-id="f8fad-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="f8fad-108">Typ deklarace identity může být například kryptografického otisku certifikátu, ve kterém je případ identifikátoru URI `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>  
  
- <span data-ttu-id="f8fad-109"><xref:System.IdentityModel.Claims.Claim.Right%2A> Vlastnost vrací identifikátor URI, který určuje vpravo od deklarace identity.</span><span class="sxs-lookup"><span data-stu-id="f8fad-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="f8fad-110">Předdefinovaná práva, které se nacházejí v <xref:System.IdentityModel.Claims.Rights> třídy (<xref:System.IdentityModel.Claims.Rights.Identity%2A>, <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span><span class="sxs-lookup"><span data-stu-id="f8fad-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>  
  
- <span data-ttu-id="f8fad-111"><xref:System.IdentityModel.Claims.Claim.Resource%2A> Vrátí vlastnost prostředku přidružený k deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f8fad-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>  
  
 <span data-ttu-id="f8fad-112">Každý <xref:System.IdentityModel.Claims.ClaimSet> má také <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> vlastnost, která představuje <xref:System.IdentityModel.Claims.ClaimSet> z `Issuer`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>  
  
## <a name="windows-accounts"></a><span data-ttu-id="f8fad-113">Účty Windows</span><span class="sxs-lookup"><span data-stu-id="f8fad-113">Windows Accounts</span></span>  
 <span data-ttu-id="f8fad-114">Pokud pověření klienta mapuje na uživatelský účet Windows, výsledná <xref:System.IdentityModel.Claims.ClaimSet> má následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="f8fad-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
- <span data-ttu-id="f8fad-115">`Issuer` Je hodnoty vrácené statickou vlastnost Windows <xref:System.IdentityModel.Claims.ClaimSet> třídy.</span><span class="sxs-lookup"><span data-stu-id="f8fad-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>  
  
- <span data-ttu-id="f8fad-116">Deklarace identity v kolekci jsou:</span><span class="sxs-lookup"><span data-stu-id="f8fad-116">The claims in the collection are:</span></span>  
  
    - <span data-ttu-id="f8fad-117">A <xref:System.IdentityModel.Claims.Claim> s <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> hodnota identifikátoru zabezpečení (SID), <xref:System.IdentityModel.Claims.Claim.Right%2A> hodnotou vlastnosti `Identity`a <xref:System.IdentityModel.Claims.Claim.Resource%2A> , který vrací aktuální hodnotu SID.</span><span class="sxs-lookup"><span data-stu-id="f8fad-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="f8fad-118">Identifikátor SID je jedinečná hodnota pro každého uživatele problémy s řadičem domény.</span><span class="sxs-lookup"><span data-stu-id="f8fad-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="f8fad-119">Identifikátor SID se používá k identifikaci uživatelů v interakce s zabezpečení Windows.</span><span class="sxs-lookup"><span data-stu-id="f8fad-119">The SID is used to identify the user in interactions with Windows security.</span></span>  
  
    - <span data-ttu-id="f8fad-120">A <xref:System.IdentityModel.Claims.Claim> s <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> hodnotou identifikátoru SID, <xref:System.IdentityModel.Claims.Claim.Right%2A> z `PossessProperty`a <xref:System.IdentityModel.Claims.Claim.Resource%2A> hodnoty SID.</span><span class="sxs-lookup"><span data-stu-id="f8fad-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>  
  
    - <span data-ttu-id="f8fad-121">A <xref:System.IdentityModel.Claims.Claim> s <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> z <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, <xref:System.IdentityModel.Claims.Claim.Right%2A> z `PossessProperty` a <xref:System.IdentityModel.Claims.Claim.Resource%2A> řetězce obsahující uživatelské jméno (například "MYMACHINE\Bob").</span><span class="sxs-lookup"><span data-stu-id="f8fad-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>  
  
    - <span data-ttu-id="f8fad-122">Deklarace identifikátoru SID další s <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> pro různé skupiny tento uživatel patří.</span><span class="sxs-lookup"><span data-stu-id="f8fad-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="f8fad-123">Certifikáty</span><span class="sxs-lookup"><span data-stu-id="f8fad-123">Certificates</span></span>  
 <span data-ttu-id="f8fad-124">Pokud pověření klienta je certifikát, výsledná <xref:System.IdentityModel.Claims.ClaimSet> má následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="f8fad-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
- <span data-ttu-id="f8fad-125">Samostatně vydané certifikáty `Issuer` je <xref:System.IdentityModel.Claims.ClaimSet> samotný.</span><span class="sxs-lookup"><span data-stu-id="f8fad-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="f8fad-126"><xref:System.IdentityModel.Claims.ClaimSet> Vrátí <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> z <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, <xref:System.IdentityModel.Claims.Claim.Right%2A> z `Identity`a <xref:System.IdentityModel.Claims.Claim.Resource%2A> hodnotu <xref:System.Byte> pole obsahující kryptografický otisk certifikátu.</span><span class="sxs-lookup"><span data-stu-id="f8fad-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>  
  
- <span data-ttu-id="f8fad-127">Pro certifikát vydaný certifikační autoritou, že vystavitel je `ClaimSet` představující certifikát certifikační autority.</span><span class="sxs-lookup"><span data-stu-id="f8fad-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>  
  
- <span data-ttu-id="f8fad-128">`Claims` v kolekci patří:</span><span class="sxs-lookup"><span data-stu-id="f8fad-128">The `Claims` in the collection include:</span></span>  
  
    - <span data-ttu-id="f8fad-129">A `Claim` s `ClaimType` otisk, `Right` z PossessProperty a `Resource` , který je bajtové pole obsahující kryptografický otisk certifikátu</span><span class="sxs-lookup"><span data-stu-id="f8fad-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>  
  
    - <span data-ttu-id="f8fad-130">Další deklarace identity PossessProperty různých typů, včetně X500DistinguishedName, Dns, název, hlavní název uživatele a Rsa, představují různé vlastnosti certifikátu.</span><span class="sxs-lookup"><span data-stu-id="f8fad-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="f8fad-131">Prostředek pro deklarace identity Rsa je veřejného klíče přidruženého k certifikátu. **Poznámka** kde typu pověření klienta je certifikát, který se mapuje Windows služby účtu, dva `ClaimSet` objekty jsou generovány.</span><span class="sxs-lookup"><span data-stu-id="f8fad-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="f8fad-132">První obsahuje všechny deklarace identity související s účtem Windows a druhý obsahuje všechny deklarace identity související s certifikátem.</span><span class="sxs-lookup"><span data-stu-id="f8fad-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>  
  
## <a name="user-namepassword"></a><span data-ttu-id="f8fad-133">Uživatelské jméno/heslo</span><span class="sxs-lookup"><span data-stu-id="f8fad-133">User Name/Password</span></span>  
 <span data-ttu-id="f8fad-134">Kde se přihlašovací údaje klienta jméno/heslo uživatele (nebo ekvivalentní), který nemapuje na účet Windows, výsledná `ClaimSet` vydává statické <xref:System.IdentityModel.Claims.ClaimSet.System%2A> vlastnost `ClaimSet` třídy.</span><span class="sxs-lookup"><span data-stu-id="f8fad-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="f8fad-135">`ClaimSet` Obsahuje `Identity` deklarace typu <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> jejichž prostředek je uživatelské jméno klienta poskytuje.</span><span class="sxs-lookup"><span data-stu-id="f8fad-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="f8fad-136">Má odpovídající deklarace identity `Right` z `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="rsa-keys"></a><span data-ttu-id="f8fad-137">Klíče RSA</span><span class="sxs-lookup"><span data-stu-id="f8fad-137">RSA Keys</span></span>  
 <span data-ttu-id="f8fad-138">Tam, kde se používá klíč RSA nesouvisí s certifikátem, výsledná `ClaimSet` svým vydání a obsahuje `Identity` deklarace typu <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> jejichž prostředek je klíče RSA.</span><span class="sxs-lookup"><span data-stu-id="f8fad-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="f8fad-139">Má odpovídající deklarace identity `Right` z `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="saml"></a><span data-ttu-id="f8fad-140">SAML</span><span class="sxs-lookup"><span data-stu-id="f8fad-140">SAML</span></span>  
 <span data-ttu-id="f8fad-141">Pokud klient se ověří pomocí tokenu zabezpečení kontrolní výrazy SAML (Markup Language), výsledná `ClaimSet` vystaví služba entity, který podepsal token SAML, často certifikát služby tokenů zabezpečení (STS), která vydala tokenu SAML.</span><span class="sxs-lookup"><span data-stu-id="f8fad-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="f8fad-142">`ClaimSet` Obsahuje různé deklarace identity, jak se nachází v tokenu SAML.</span><span class="sxs-lookup"><span data-stu-id="f8fad-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="f8fad-143">Pokud obsahuje SAML token `SamlSubject` s non -`null` název, pak `Identity` deklarace identity s typem <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> a typu prostředku <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> jsou vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="f8fad-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>  
  
## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="f8fad-144">Deklarace identity a ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="f8fad-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>  
 <span data-ttu-id="f8fad-145">Pokud žádná z `ClaimSet` objekty vyplývající z přihlašovacích údajů klienta obsahují deklaraci identity `Right` z `Identity,` pak bude <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> vrátí vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="f8fad-146">Pokud takové deklarace jsou k dispozici, `IsAnonymous` vrátí vlastnost `false`.</span><span class="sxs-lookup"><span data-stu-id="f8fad-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f8fad-147">Viz také:</span><span class="sxs-lookup"><span data-stu-id="f8fad-147">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="f8fad-148">Správa deklarací identity a autorizace pomocí modelu identit</span><span class="sxs-lookup"><span data-stu-id="f8fad-148">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
