---
title: Funkce zjednodušení WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: f4c5d1c0dc5aa9df92368de1266044db3a6c294a
ms.sourcegitcommit: 5137208fa414d9ca3c58cdfd2155ac81bc89e917
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2019
ms.locfileid: "57467178"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="efab8-102">Funkce zjednodušení WCF</span><span class="sxs-lookup"><span data-stu-id="efab8-102">WCF Simplification Features</span></span>

<span data-ttu-id="efab8-103">Toto téma popisuje nové funkce, které usnadňují zápis WCF aplikací jednodušší.</span><span class="sxs-lookup"><span data-stu-id="efab8-103">This topic discusses new features that make writing WCF applications simpler.</span></span>

## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="efab8-104">Zjednodušená generovaných konfiguračních souborů</span><span class="sxs-lookup"><span data-stu-id="efab8-104">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="efab8-105">Při přidání odkazu na službu v sadě Visual Studio nebo pomocí nástroje SvcUtil.exe je vygenerován soubor konfigurace klienta.</span><span class="sxs-lookup"><span data-stu-id="efab8-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="efab8-106">V předchozích verzích technologie WCF tyto konfigurační soubory obsahují hodnotu každé vlastnosti vazby i v případě, že její hodnota je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="efab8-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="efab8-107">Ve WCF 4.5 generovaných konfiguračních souborů obsahují pouze vlastnosti vazby, které jsou nastaveny na jiné než výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="efab8-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="efab8-108">Následuje příklad konfiguračního souboru generovaných WCF 3.0.</span><span class="sxs-lookup"><span data-stu-id="efab8-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false"
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"
                        maxArrayLength="16384" maxBytesPerRead="4096"
                        maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="efab8-109">Následuje příklad konfiguračního souboru stejné generovaných WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="efab8-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" />
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

## <a name="contract-first-development"></a><span data-ttu-id="efab8-110">Rozvoje prvního kontraktu</span><span class="sxs-lookup"><span data-stu-id="efab8-110">Contract-First Development</span></span>

<span data-ttu-id="efab8-111">WCF teď obsahují podporu pro rozvoje prvního kontraktu.</span><span class="sxs-lookup"><span data-stu-id="efab8-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="efab8-112">Nástroje svcutil.exe má /serviceContract přepínač, který vám umožní generovat kontrakty služby a dat z dokumentu WSDL.</span><span class="sxs-lookup"><span data-stu-id="efab8-112">The svcutil.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="efab8-113">Přidání odkazu na službu v přenosném dílčím projektu</span><span class="sxs-lookup"><span data-stu-id="efab8-113">Add Service Reference From a Portable Subset Project</span></span>

<span data-ttu-id="efab8-114">Přenosném dílčím projekty povolit programátorům sestavení .NET udržovat stromu jednoho zdrojového kódu a sestavovací systém. současně podporuje více implementací rozhraní .NET (desktop, Silverlight, Windows Phone a XBOX).</span><span class="sxs-lookup"><span data-stu-id="efab8-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and XBOX).</span></span> <span data-ttu-id="efab8-115">Projekty v přenosném dílčím odkazovat pouze na přenosné knihovny .NET, které jsou sestavení rozhraní .NET framework, který lze použít v jakékoli implementaci rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="efab8-115">Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET implementation.</span></span> <span data-ttu-id="efab8-116">Prostředí pro vývojáře je stejné jako přidávání odkazů na služby v rámci jakékoli jiné aplikace klienta WCF.</span><span class="sxs-lookup"><span data-stu-id="efab8-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="efab8-117">Další informace najdete v tématu [přidat odkaz na službu v projektu přenosná podmnožina](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="efab8-117">For more information, see [Add Service Reference in a Portable Subset Project](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span></span>

## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="efab8-118">Změnit výchozí režim kompatibility ASP.NET</span><span class="sxs-lookup"><span data-stu-id="efab8-118">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="efab8-119">WCF obsahuje režim kompatibility ASP.NET vývojáři udělit úplný přístup k funkcím v kanálu HTTP technologie ASP.NET při vytváření služeb WCF.</span><span class="sxs-lookup"><span data-stu-id="efab8-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="efab8-120">Pro použití tohoto režimu, je nutné nastavit `aspNetCompatibilityEnabled` atribut na hodnotu true [ \<serviceHostingEnvironment >](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) části souboru Web.config. Kromě toho musí mít všechny služby v této doméně appDomain `RequirementsMode` vlastnost na jeho <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> nastavena na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> nebo <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="efab8-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="efab8-121">Ve výchozím nastavení <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> je nyní nastaveno na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> a výchozí WCF služby aplikace šablony nastaví `aspNetCompatibilityEnabled` atribut `true`.</span><span class="sxs-lookup"><span data-stu-id="efab8-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="efab8-122">Další informace najdete v tématu [co je nového ve Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) a [služby WCF a ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="efab8-122">For more information, see [What's New in Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) and [WCF Services and ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="efab8-123">Vylepšení datových proudů</span><span class="sxs-lookup"><span data-stu-id="efab8-123">Streaming Improvements</span></span>

- <span data-ttu-id="efab8-124">Nová podpora asynchronního streamování se přidala do WCF.</span><span class="sxs-lookup"><span data-stu-id="efab8-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="efab8-125">Pokud chcete povolit, asynchronního streamování, přidejte <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> chování koncového bodu do hostitele služby a nastavte jeho <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="efab8-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span> <span data-ttu-id="efab8-126">To mohou využívat škálovatelnost, když služba odesílá proudu zpráv do více klientů, které čtou pomalu.</span><span class="sxs-lookup"><span data-stu-id="efab8-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="efab8-127">WCF neblokuje jedno vlákno na jeden klienta už a tím uvolnit vlákno pro službu jiného klienta.</span><span class="sxs-lookup"><span data-stu-id="efab8-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>

- <span data-ttu-id="efab8-128">Odebrání omezení vyrovnávací paměti zpráv, když je služba IIS hostované.</span><span class="sxs-lookup"><span data-stu-id="efab8-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="efab8-129">V předchozích verzích služby WCF při přijetí zprávy služby hostované v IIS, který používá streamování přenosu zpráv by ASP.NET buffer celé zprávy před odesláním do WCF.</span><span class="sxs-lookup"><span data-stu-id="efab8-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="efab8-130">To by způsobilo velké paměťové nároky.</span><span class="sxs-lookup"><span data-stu-id="efab8-130">This would cause large memory consumption.</span></span> <span data-ttu-id="efab8-131">Tato ukládání do vyrovnávací paměti byla odebrána v rozhraní .NET 4.5 a služby WCF hostované v IIS teď můžete začít zpracování příchozího datového proudu před celá zpráva byla přijata, a tím umožnit true streamování.</span><span class="sxs-lookup"><span data-stu-id="efab8-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="efab8-132">To umožňuje okamžitě reagovat na zprávy WCF a vylepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="efab8-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="efab8-133">Kromě toho již nebude muset zadat hodnotu `maxRequestLength`, omezení velikosti technologie ASP.NET pro příchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="efab8-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="efab8-134">Pokud je tato vlastnost nastavena, je ignorována.</span><span class="sxs-lookup"><span data-stu-id="efab8-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="efab8-135">Další informace o `maxRequestLength` naleznete v tématu [ \<httpRuntime > element konfigurace](https://go.microsoft.com/fwlink/?LinkId=223344).</span><span class="sxs-lookup"><span data-stu-id="efab8-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](https://go.microsoft.com/fwlink/?LinkId=223344).</span></span> <span data-ttu-id="efab8-136">Budete stále muset nakonfigurovat maxAllowedContentLength, další informace naleznete v tématu [omezení počtu požadavků služby IIS](https://go.microsoft.com/fwlink/?LinkId=225908).</span><span class="sxs-lookup"><span data-stu-id="efab8-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](https://go.microsoft.com/fwlink/?LinkId=225908).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="efab8-137">Nové výchozí hodnoty přenosu</span><span class="sxs-lookup"><span data-stu-id="efab8-137">New Transport Default Values</span></span>

<span data-ttu-id="efab8-138">Následující tabulka popisuje nastavení, které se změnily a kde najít další informace.</span><span class="sxs-lookup"><span data-stu-id="efab8-138">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="efab8-139">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="efab8-139">Property</span></span>|<span data-ttu-id="efab8-140">On</span><span class="sxs-lookup"><span data-stu-id="efab8-140">On</span></span>|<span data-ttu-id="efab8-141">Nová výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="efab8-141">New Default</span></span>|<span data-ttu-id="efab8-142">Další informace</span><span class="sxs-lookup"><span data-stu-id="efab8-142">More Information</span></span>|
|--------------|--------|-----------------|----------------------|
|<span data-ttu-id="efab8-143">třídě channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="efab8-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="efab8-144">30 sekund</span><span class="sxs-lookup"><span data-stu-id="efab8-144">30 seconds</span></span>|<span data-ttu-id="efab8-145">Tato vlastnost určuje, jak dlouho může trvat připojení TCP autentizaci pomocí .net Framing protokolu.</span><span class="sxs-lookup"><span data-stu-id="efab8-145">This property determines how long a TCP connection can take to authenticate itself using the .Net Framing protocol.</span></span> <span data-ttu-id="efab8-146">Klient potřebuje k odesílání nějaká počáteční data předtím, než má server dostatek informací k provedení ověřování.</span><span class="sxs-lookup"><span data-stu-id="efab8-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="efab8-147">Tento časový limit je záměrně provedli menší než ReceiveTimeout (10 minut) tak, aby škodlivé neověřené klienty nezachovat připojení vázané na serveru pro dlouho.</span><span class="sxs-lookup"><span data-stu-id="efab8-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="efab8-148">Výchozí hodnota je 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="efab8-148">The default value is 30 seconds.</span></span> <span data-ttu-id="efab8-149">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="efab8-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|
|<span data-ttu-id="efab8-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="efab8-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="efab8-151">16 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="efab8-151">16 \* number of processors</span></span>|<span data-ttu-id="efab8-152">Tato vlastnost úrovni soketu popisuje počet "čekající na přijmout" požadavky ve frontě.</span><span class="sxs-lookup"><span data-stu-id="efab8-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="efab8-153">Pokud nevyřízené položky fronty naslouchání zaplní, budou odmítnuty nové žádosti o soketu.</span><span class="sxs-lookup"><span data-stu-id="efab8-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="efab8-154">Další informace o <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="efab8-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|
|<span data-ttu-id="efab8-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="efab8-155">maxPendingAccepts</span></span>|<span data-ttu-id="efab8-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="efab8-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="efab8-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="efab8-157">SMSvcHost.exe</span></span>|<span data-ttu-id="efab8-158">2 \* počet procesorů pro přenos</span><span class="sxs-lookup"><span data-stu-id="efab8-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="efab8-159">4 \* počtu procesorů pro SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="efab8-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="efab8-160">Tato vlastnost omezuje počet kanálů, které serveru může být čekání na naslouchací proces.</span><span class="sxs-lookup"><span data-stu-id="efab8-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="efab8-161">Když MaxPendingAccepts je příliš nízké, bude existovat malý interval času, ve kterém všechny kanály čekání spustili údržby připojení, ale nové kanály, které jste začali naslouchání.</span><span class="sxs-lookup"><span data-stu-id="efab8-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="efab8-162">Připojení můžou přijít během tohoto intervalu a selže, protože nic čeká se na serveru.</span><span class="sxs-lookup"><span data-stu-id="efab8-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="efab8-163">Tuto vlastnost lze nastavit tak, že nastavíte <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> vlastnost většímu počtu.</span><span class="sxs-lookup"><span data-stu-id="efab8-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="efab8-164">Další informace najdete v tématu <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> a [konfigurace služby Sdílení portů Net.TCP](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="efab8-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="efab8-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="efab8-165">maxPendingConnections</span></span>|<span data-ttu-id="efab8-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="efab8-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="efab8-167">12 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="efab8-167">12 \* number of processors</span></span>|<span data-ttu-id="efab8-168">Tato vlastnost určuje, kolik připojení přenosu přijal, ale nebyly vyzvednou ServiceModel dispečera.</span><span class="sxs-lookup"><span data-stu-id="efab8-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="efab8-169">Chcete-li nastavit tuto hodnotu, použijte `MaxConnections` ve vazbě nebo `maxOutboundConnectionsPerEndpoint` v elementu vazby.</span><span class="sxs-lookup"><span data-stu-id="efab8-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="efab8-170">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="efab8-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|
|<span data-ttu-id="efab8-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="efab8-171">receiveTimeout</span></span>|<span data-ttu-id="efab8-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="efab8-172">SMSvcHost.exe</span></span>|<span data-ttu-id="efab8-173">30 sekund</span><span class="sxs-lookup"><span data-stu-id="efab8-173">30 seconds</span></span>|<span data-ttu-id="efab8-174">Tato vlastnost určuje časový limit pro vytváření datových rámců TCP a jejich odesílání z podkladové připojení.</span><span class="sxs-lookup"><span data-stu-id="efab8-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="efab8-175">To existuje umístí limitu množství času, které se ukládají SMSvcHost.exe služby znamenají angažovaní číst data preambule z příchozí připojení.</span><span class="sxs-lookup"><span data-stu-id="efab8-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="efab8-176">Další informace najdete v tématu [konfigurace služby Sdílení portů Net.TCP](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="efab8-176">For more information, see [Configuring the Net.TCP Port Sharing Service](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|

> [!NOTE]
> <span data-ttu-id="efab8-177">Tyto nové výchozí hodnoty se používají pouze v případě, že nasadíte služby WCF na počítači s rozhraním .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="efab8-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="efab8-178">Pokud provádíte nasazení stejnou službu na počítači pomocí rozhraní .NET Framework 4.0, jsou použity výchozí hodnoty rozhraní .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="efab8-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="efab8-179">V takových případech se doporučuje k nakonfigurování těchto nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="efab8-179">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="efab8-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="efab8-180">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="efab8-181"><xref:System.Xml.XmlDictionaryReaderQuotas> obsahuje hodnoty konfigurovatelné kvóty pro čtenáře slovníku XML, které omezují množství paměťových prostředků využívaných kodéru při vytváření zprávy.</span><span class="sxs-lookup"><span data-stu-id="efab8-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="efab8-182">Během těchto kvót je možné konfigurovat, výchozí hodnoty změnily snižovat, vývojář musí explicitně nastavena možnost.</span><span class="sxs-lookup"><span data-stu-id="efab8-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="efab8-183">`MaxReceivedMessageSize` kvóta nebylo změněno tak, aby ji stále může omezit spotřebu paměti brání nutnost řešit složité <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="efab8-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="efab8-184">V následující tabulce jsou uvedeny kvóty, nové výchozí hodnoty a stručné vysvětlení, co každá kvóta slouží.</span><span class="sxs-lookup"><span data-stu-id="efab8-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>

|<span data-ttu-id="efab8-185">Název kvóty</span><span class="sxs-lookup"><span data-stu-id="efab8-185">Quota Name</span></span>|<span data-ttu-id="efab8-186">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="efab8-186">Default Value</span></span>|<span data-ttu-id="efab8-187">Popis</span><span class="sxs-lookup"><span data-stu-id="efab8-187">Description</span></span>|
|----------------|-------------------|-----------------|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="efab8-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="efab8-188">Int32.MaxValue</span></span>|<span data-ttu-id="efab8-189">Získá nebo nastaví maximální povolené délky pole.</span><span class="sxs-lookup"><span data-stu-id="efab8-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="efab8-190">Tato kvóta omezuje maximální velikost pole primitivních elementů, které vrací čtecí funkce XML, včetně pole bajtů.</span><span class="sxs-lookup"><span data-stu-id="efab8-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="efab8-191">Tato kvóta neomezuje využití paměti v samotné čtecí funkce XML, ale v libovolné součásti, která používá čtecí modul.</span><span class="sxs-lookup"><span data-stu-id="efab8-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="efab8-192">Například, když <xref:System.Runtime.Serialization.DataContractSerializer> použije čtečku zabezpečený pomocí <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, není ji deserializovat bajtová pole větší než tuto kvótu.</span><span class="sxs-lookup"><span data-stu-id="efab8-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="efab8-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="efab8-193">Int32.MaxValue</span></span>|<span data-ttu-id="efab8-194">Získá nebo nastaví maximální povolené bajty vrácené pro každé čtení.</span><span class="sxs-lookup"><span data-stu-id="efab8-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="efab8-195">Tato kvóta omezuje počet bajtů, které jsou pro čtení v rámci jedné operace čtení při čtení elementu spuštění značku a její atributy.</span><span class="sxs-lookup"><span data-stu-id="efab8-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="efab8-196">(V případech,-datovým proudem, se nepočítá samotný název elementu proti kvótu).</span><span class="sxs-lookup"><span data-stu-id="efab8-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="efab8-197">Máte příliš mnoho atributů XML může použít nepřiměřené doba zpracování, protože názvy atributů musí být vráceny jedinečný.</span><span class="sxs-lookup"><span data-stu-id="efab8-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="efab8-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> omezuje tuto hrozbu.</span><span class="sxs-lookup"><span data-stu-id="efab8-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="efab8-199">hloubkové 128 uzlů</span><span class="sxs-lookup"><span data-stu-id="efab8-199">128 nodes deep</span></span>|<span data-ttu-id="efab8-200">Tato kvóta omezuje maximální hloubka vnoření elementů XML.</span><span class="sxs-lookup"><span data-stu-id="efab8-200">This quota limits the maximum nesting depth of XML elements.</span></span> <span data-ttu-id="efab8-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> komunikuje se službou <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: čtecí modul dat vždy udržuje v paměti pro aktuální element a všechny jeho předchůdce, tak maximální velikost paměti spotřeba čtečky je úměrný tato dvě nastavení.</span><span class="sxs-lookup"><span data-stu-id="efab8-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="efab8-202">Při deserializaci graf objektu nejhlouběji vnořená, deserializátor musí pro přístup k celý zásobník a vyvolat neodstranitelné <xref:System.StackOverflowException>.</span><span class="sxs-lookup"><span data-stu-id="efab8-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="efab8-203">Mezi XML vnoření a objekt vnoření pro obě existuje přímou spojitost s míněním <xref:System.Runtime.Serialization.DataContractSerializer> a <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="efab8-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="efab8-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> slouží ke zmírnění této hrozby.</span><span class="sxs-lookup"><span data-stu-id="efab8-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="efab8-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="efab8-205">Int32.MaxValue</span></span>|<span data-ttu-id="efab8-206">Tato kvóta omezuje maximální počet znaků povolených v tabulky názvů.</span><span class="sxs-lookup"><span data-stu-id="efab8-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="efab8-207">Tabulka obsahuje některé řetězce (například obory názvů a předpony), jež byly objeveny při zpracování dokumentu XML.</span><span class="sxs-lookup"><span data-stu-id="efab8-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="efab8-208">Protože tyto řetězce jsou ukládány do vyrovnávací paměti v paměti, tuto kvótu slouží aby se zabránilo nadměrnému ukládání do vyrovnávací paměti při streamování se očekává.</span><span class="sxs-lookup"><span data-stu-id="efab8-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="efab8-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="efab8-209">Int32.MaxValue</span></span>|<span data-ttu-id="efab8-210">Tato kvóta omezení maximální velikost řetězce, který vrací čtecí funkce XML.</span><span class="sxs-lookup"><span data-stu-id="efab8-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="efab8-211">Tato kvóta neomezuje využití paměti v samotné čtecí funkce XML, ale v komponentě, která používá čtecí modul.</span><span class="sxs-lookup"><span data-stu-id="efab8-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="efab8-212">Například, když <xref:System.Runtime.Serialization.DataContractSerializer> použije čtečku zabezpečený pomocí <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, to není deserializaci řetězců větší než tuto kvótu.</span><span class="sxs-lookup"><span data-stu-id="efab8-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="efab8-213">Odkazovat na "Pomocí XML bezpečně" v části [aspekty zabezpečení pro Data](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) pro další informace o zabezpečení vašich dat.</span><span class="sxs-lookup"><span data-stu-id="efab8-213">Refer to "Using XML Safely" under [Security Considerations for Data](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>

> [!NOTE]
> <span data-ttu-id="efab8-214">Tyto nové výchozí hodnoty se používají pouze v případě, že nasadíte služby WCF na počítači s rozhraním .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="efab8-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="efab8-215">Pokud provádíte nasazení stejnou službu na počítači pomocí rozhraní .NET Framework 4.0, jsou použity výchozí hodnoty rozhraní .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="efab8-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="efab8-216">V takových případech se doporučuje k nakonfigurování těchto nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="efab8-216">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="wcf-configuration-validation"></a><span data-ttu-id="efab8-217">Ověření konfigurace WCF</span><span class="sxs-lookup"><span data-stu-id="efab8-217">WCF Configuration Validation</span></span>

<span data-ttu-id="efab8-218">Jako součást procesu sestavení v sadě Visual Studio se teď ověřují konfiguračních souborů WCF.</span><span class="sxs-lookup"><span data-stu-id="efab8-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="efab8-219">Pokud se ověření nezdaří, zobrazí se seznam chyby nebo varování ověření v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="efab8-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>

## <a name="xml-editor-tooltips"></a><span data-ttu-id="efab8-220">Popisy tlačítek editoru XML</span><span class="sxs-lookup"><span data-stu-id="efab8-220">XML Editor Tooltips</span></span>

<span data-ttu-id="efab8-221">Aby pomohli se nové i stávající vývojáři služeb WCF ke konfiguraci jeho služeb, editoru XML pro Visual Studio nyní poskytuje popisky pro každý prvek konfigurace a její vlastnosti, které je součástí konfiguračního souboru služby.</span><span class="sxs-lookup"><span data-stu-id="efab8-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="basichttpbinding-improvements"></a><span data-ttu-id="efab8-222">Vylepšení BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="efab8-222">BasicHttpBinding Improvements</span></span>

1. <span data-ttu-id="efab8-223">Umožňuje jednom koncovém bodu WCF na ověřování pro různé režimy.</span><span class="sxs-lookup"><span data-stu-id="efab8-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>

2. <span data-ttu-id="efab8-224">Umožňuje řídit pomocí služby IIS nastavení zabezpečení služby WCF</span><span class="sxs-lookup"><span data-stu-id="efab8-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
