---
title: Řešení potíží s WCF – úvodní příručka
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], troubleshooting
- Windows Communication Foundation [WCF], troubleshooting
ms.assetid: a9ea7a53-f31a-46eb-806e-898e465a4992
ms.openlocfilehash: 4327e8bb07cb03a91f7384f7fe82bc2e47f6fcb9
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59319999"
---
# <a name="wcf-troubleshooting-quickstart"></a><span data-ttu-id="aa0d5-102">Řešení potíží s WCF – úvodní příručka</span><span class="sxs-lookup"><span data-stu-id="aa0d5-102">WCF Troubleshooting Quickstart</span></span>
<span data-ttu-id="aa0d5-103">Toto téma uvádí počet známé problémy, které mají zákazníci spouštět do při vývoji klientů WCF a služeb.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-103">This topic lists a number of known issues customers have run into while developing WCF clients and services.</span></span> <span data-ttu-id="aa0d5-104">Pokud se problém, který běží na není v tomto seznamu, doporučujeme že nakonfigurovat trasování pro vaši službu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-104">If the issue you are running into is not in this list, we recommend you configure tracing for your service.</span></span> <span data-ttu-id="aa0d5-105">Tím se vygeneruje soubor trasování, můžete zobrazit pomocí prohlížeče trasování souboru a získat podrobné informace o výjimkách, které může docházet v rámci služby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-105">This will generate a trace file that you can view with the trace file viewer and get detailed information about exceptions that may be occurring within the service.</span></span> <span data-ttu-id="aa0d5-106">Další informace o konfiguraci trasování naleznete v tématu: [Konfigurace trasování](../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-106">For more information on configuring tracing, see: [Configuring Tracing](../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md).</span></span> <span data-ttu-id="aa0d5-107">Další informace o souboru prohlížeče trasování naleznete v tématu: [Služba prohlížečem trasování (SvcTraceViewer.exe)](../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-107">For more information on the trace file viewer, see: [Service Trace Viewer Tool (SvcTraceViewer.exe)](../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span></span>  
  
1. [<span data-ttu-id="aa0d5-108">Po instalaci Windows 7 a IIS se při pokusu přejděte na službu WCF zobrazí následující chybová zpráva: Chyba protokolu HTTP 404.3 – nebyl nalezen</span><span class="sxs-lookup"><span data-stu-id="aa0d5-108">After installing Windows 7 and IIS, when I attempt to browse to a WCF service I get the following error message: HTTP Error 404.3 – Not Found</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#bkmk_0)  
  
     <span data-ttu-id="aa0d5-109">Chyba protokolu HTTP 404.3 – Not FoundThe stránky, pro který žádáte nelze zpracovat z důvodu konfigurace rozšíření.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-109">HTTP Error 404.3 – Not FoundThe page you are requesting cannot be served because of the extension configuration.</span></span> <span data-ttu-id="aa0d5-110">Pokud na stránce je skript, přidejte obslužnou rutinu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-110">If the page is a script, add a handler.</span></span> <span data-ttu-id="aa0d5-111">Pokud mají být stažené souboru, přidejte mapování MIME.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-111">If the file should be downloaded, add a MIME map.</span></span> <span data-ttu-id="aa0d5-112">Iisver InformationModule podrobné informace o chybě.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-112">Detailed Error InformationModule StaticFileModule.</span></span>  
  
2. [<span data-ttu-id="aa0d5-113">Někdy zobrazila messagesecurityexception – na druhou žádost, pokud klient je nečinný po nějakou dobu od prvního požadavku.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-113">Sometimes I receive a MessageSecurityException on the second request if my client is idle for a while after the first request.</span></span> <span data-ttu-id="aa0d5-114">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-114">What is happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q1)  
  
3. [<span data-ttu-id="aa0d5-115">Služba začne odmítnout nové klienty po přibližně 10 klientů jsou interakci s ní.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-115">My service starts to reject new clients after about 10 clients are interacting with it.</span></span> <span data-ttu-id="aa0d5-116">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-116">What is happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q2)  
  
4. [<span data-ttu-id="aa0d5-117">Můžete načíst konfiguraci služby z jinde, než konfigurační soubor WCF aplikace?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-117">Can I load my service configuration from somewhere other than the WCF application’s configuration file?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q3)  
  
5. [<span data-ttu-id="aa0d5-118">Služba a skvěle fungují klienta, ale nemůžu nelze získat pracovat nacházející se v jiném počítači?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-118">My service and client work great, but I can’t get them to work when the client is on another computer?</span></span> <span data-ttu-id="aa0d5-119">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-119">What’s happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q4)  
  
6. [<span data-ttu-id="aa0d5-120">Kdy můžu výjimku FaultException\<výjimky > tam, kde je typ výjimky, vždy zobrazila se obecným typem FaultException v klientském počítači a ne obecného typu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-120">When I throw a FaultException\<Exception> where the type is an exception, I always receive a general FaultException type on the client and not the generic type.</span></span> <span data-ttu-id="aa0d5-121">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-121">What’s happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q5)  
  
7. [<span data-ttu-id="aa0d5-122">To vypadá jako jsou jednosměrná a operace požadavek odpověď vracet rychlostí přibližně stejnou odpověď neobsahuje žádná data.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-122">It seems like one-way and request-reply operations return at roughly the same speed when the reply contains no data.</span></span> <span data-ttu-id="aa0d5-123">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-123">What's happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q6)  
  
8. [<span data-ttu-id="aa0d5-124">Používám certifikát X.509 pomocí svojí služby a získat System.Security.Cryptography.CryptographicException.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-124">I’m using an X.509 certificate with my service and I get a System.Security.Cryptography.CryptographicException.</span></span> <span data-ttu-id="aa0d5-125">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-125">What’s happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q77)  
  
9. [<span data-ttu-id="aa0d5-126">Můžu změnit první parametr operace z velkých písmen na malá písmena; Klient teď dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-126">I changed the first parameter of an operation from uppercase to lowercase; now my client throws an exception.</span></span> <span data-ttu-id="aa0d5-127">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-127">What's happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q88)  
  
10. [<span data-ttu-id="aa0d5-128">Používám jedním z nástrojů Moje trasování a získat endpointnotfoundexception –.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-128">I’m using one of my tracing tools and I get an EndpointNotFoundException.</span></span> <span data-ttu-id="aa0d5-129">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-129">What’s happening?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q99)  
  
11. [<span data-ttu-id="aa0d5-130">Při volání webových služeb HTTP WCF aplikace z aplikace WCF SOAP služba vrátí následující chybu: 405 Metoda není povolena</span><span class="sxs-lookup"><span data-stu-id="aa0d5-130">When calling a WCF Web HTTP application from a WCF SOAP application the service returns the following error: 405 Method Not Allowed</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BK_MK99)  
  
 [<span data-ttu-id="aa0d5-131">Co je základní adresa?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-131">What is the base address?</span></span> <span data-ttu-id="aa0d5-132">Jak to souvisí adresy koncového bodu?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-132">How does it relate to an endpoint address?</span></span>](../../../docs/framework/wcf/wcf-troubleshooting-quickstart.md#BKMK_q10)  
  
<a name="bkmk_0"></a>   
## <a name="after-installing-windows-7-and-iis-when-i-attempt-to-browse-to-a-wcf-service-i-get-the-following-error-message-http-error-4043--not-found"></a><span data-ttu-id="aa0d5-133">Po instalaci Windows 7 a IIS se při pokusu přejděte na službu WCF zobrazí následující chybová zpráva: Chyba protokolu HTTP 404.3 – nebyl nalezen</span><span class="sxs-lookup"><span data-stu-id="aa0d5-133">After installing Windows 7 and IIS, when I attempt to browse to a WCF service I get the following error message: HTTP Error 404.3 – Not Found</span></span>  
 <span data-ttu-id="aa0d5-134">Je úplné chybová zpráva:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-134">The full error message is:</span></span>  
  
 <span data-ttu-id="aa0d5-135">Chyba protokolu HTTP 404.3 – Not FoundThe stránky, pro který žádáte nelze zpracovat z důvodu konfigurace rozšíření.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-135">HTTP Error 404.3 – Not FoundThe page you are requesting cannot be served because of the extension configuration.</span></span> <span data-ttu-id="aa0d5-136">Pokud na stránce je skript, přidejte obslužnou rutinu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-136">If the page is a script, add a handler.</span></span> <span data-ttu-id="aa0d5-137">Pokud mají být stažené souboru, přidejte mapování MIME.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-137">If the file should be downloaded, add a MIME map.</span></span> <span data-ttu-id="aa0d5-138">Iisver InformationModule podrobné informace o chybě.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-138">Detailed Error InformationModule StaticFileModule.</span></span>  
  
 <span data-ttu-id="aa0d5-139">Této chybě dochází, když "Windows Communication Foundation HTTP aktivace" není explicitně nastavena v Ovládacích panelech.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-139">This error message occurs when "Windows Communication Foundation HTTP Activation" is not explicitly set in the Control Panel.</span></span> <span data-ttu-id="aa0d5-140">Pokud chcete nastavit přejděte do ovládacích panelů, klikněte na programy v dolním levém dolním rohu okna.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-140">To set this go to the Control Panel, click Programs in the lower left hand corner of the window.</span></span> <span data-ttu-id="aa0d5-141">Zapnutí nebo vypnutí, klikněte na zapnout Windows funkce.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-141">Click Turn Windows features on or off.</span></span> <span data-ttu-id="aa0d5-142">Rozhraní Microsoft .NET Framework 3.5.1 rozbalte a vyberte aktivace protokolu HTTP Windows Communication Foundation.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-142">Expand Microsoft .NET Framework 3.5.1 and select Windows Communication Foundation HTTP Activation.</span></span>  
  
<a name="BKMK_q1"></a>   
## <a name="sometimes-i-receive-a-messagesecurityexception-on-the-second-request-if-my-client-is-idle-for-a-while-after-the-first-request-what-is-happening"></a><span data-ttu-id="aa0d5-143">Někdy zobrazila messagesecurityexception – na druhou žádost, pokud klient je nečinný po nějakou dobu od prvního požadavku.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-143">Sometimes I receive a MessageSecurityException on the second request if my client is idle for a while after the first request.</span></span> <span data-ttu-id="aa0d5-144">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-144">What is happening?</span></span>  
 <span data-ttu-id="aa0d5-145">Druhou žádost může selhat primárně dvou důvodů: (1 vypršel časový limit relace) nebo (2) na webový server, který je hostitelem služby recykluje.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-145">The second request can fail primarily for two reasons: (1) the session has timed out or (2) the Web server that is hosting the service is recycled.</span></span> <span data-ttu-id="aa0d5-146">V prvním případě relace je platné, dokud služba vyprší časový limit. Když služba neobdrží žádost o z klienta v době, zadaná ve vazbě služby (<xref:System.ServiceModel.Channels.Binding.ReceiveTimeout%2A>), služba ukončuje relace zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-146">In the first case, the session is valid until the service times out. When the service does not receive a request from the client within the period of time specified in the service's binding (<xref:System.ServiceModel.Channels.Binding.ReceiveTimeout%2A>), the service terminates the security session.</span></span> <span data-ttu-id="aa0d5-147">Výsledkem zpráv následné klienta <xref:System.ServiceModel.Security.MessageSecurityException>.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-147">Subsequent client messages result in the <xref:System.ServiceModel.Security.MessageSecurityException>.</span></span> <span data-ttu-id="aa0d5-148">Klient musí znovu vytvořit relaci zabezpečení ve službě odeslat další zprávy nebo použít token kontextu zabezpečení stavové.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-148">The client must re-establish a secure session with the service to send future messages or use a stateful security context token.</span></span> <span data-ttu-id="aa0d5-149">Tokeny kontextu zabezpečení stavové umožňují zabezpečenou relaci nezbytné k překonání neumožňovala recyklaci, webový server.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-149">Stateful security context tokens also allow a secure session to survive a Web server being recycled.</span></span> <span data-ttu-id="aa0d5-150">Další informace o použití tokenů stavové zabezpečené kontextu v zabezpečené relaci v tématu [jak: Vytvoření kontextu zabezpečení pro zabezpečenou relaci Token](../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-150">For more information about using stateful secure context tokens in a secure session, see [How to: Create a Security Context Token for a Secure Session](../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).</span></span> <span data-ttu-id="aa0d5-151">Alternativně můžete zakázat zabezpečených relací.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-151">Alternatively, you can disable secure sessions.</span></span> <span data-ttu-id="aa0d5-152">Při použití [ \<wsHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md) vazby, můžete nastavit `establishSecurityContext` vlastnost `false` zakázání zabezpečených relací.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-152">When you use the [\<wsHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md) binding, you can set the `establishSecurityContext` property to `false` to disable secure sessions.</span></span> <span data-ttu-id="aa0d5-153">Zakázání zabezpečených relací u jiných vazeb, musíte vytvořit vlastní vazby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-153">To disable secure sessions for other bindings, you must create a custom binding.</span></span> <span data-ttu-id="aa0d5-154">Podrobnosti o vytvoření vlastní vazby najdete v tématu [jak: Vytvoření vlastní vazby pomocí elementu SecurityBindingElement](../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-154">For details about creating a custom binding, see [How to: Create a Custom Binding Using the SecurityBindingElement](../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span></span> <span data-ttu-id="aa0d5-155">Než použijete některý z těchto možností, musíte pochopit požadavky na zabezpečení vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-155">Before you apply any of these options, you must understand your application's security requirements.</span></span>  
  
<a name="BKMK_q2"></a>   
## <a name="my-service-starts-to-reject-new-clients-after-about-10-clients-are-interacting-with-it-what-is-happening"></a><span data-ttu-id="aa0d5-156">Služba začne odmítnout nové klienty po přibližně 10 klientů jsou interakci s ní.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-156">My service starts to reject new clients after about 10 clients are interacting with it.</span></span> <span data-ttu-id="aa0d5-157">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-157">What is happening?</span></span>  
 <span data-ttu-id="aa0d5-158">Ve výchozím nastavení služby může mít jenom 10 souběžných relací.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-158">By default, services can have only 10 concurrent sessions.</span></span> <span data-ttu-id="aa0d5-159">Proto pokud vazby služby použít relace, služba přijímá nová připojení klientů. dokud nebude dosaženo toto číslo, po jejímž uplynutí odmítne nová připojení klientů. dokud jeden z konců aktuální relace.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-159">Therefore, if the service bindings use sessions, the service accepts new client connections until it reaches that number, after which it refuses new client connections until one of the current sessions ends.</span></span> <span data-ttu-id="aa0d5-160">Může podporovat více klientů v několika způsoby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-160">You can support more clients in a number of ways.</span></span> <span data-ttu-id="aa0d5-161">Pokud vaše služba nevyžaduje žádné relace, nepoužívejte vazby s relacemi.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-161">If your service does not require sessions, do not use a sessionful binding.</span></span> <span data-ttu-id="aa0d5-162">(Další informace najdete v tématu [s využitím relací](../../../docs/framework/wcf/using-sessions.md).) Další možností je, aby zvýšil limit relace tak, že změníte hodnotu <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentSessions%2A> vlastnost na číslo, které jsou vhodné pro vaši situaci.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-162">(For more information, see [Using Sessions](../../../docs/framework/wcf/using-sessions.md).) Another option is to increase the session limit by changing the value of the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentSessions%2A> property to the number appropriate to your circumstance.</span></span>  
  
<a name="BKMK_q3"></a>   
## <a name="can-i-load-my-service-configuration-from-somewhere-other-than-the-wcf-applications-configuration-file"></a><span data-ttu-id="aa0d5-163">Můžete načíst konfiguraci služby z jinde, než konfigurační soubor WCF aplikace?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-163">Can I load my service configuration from somewhere other than the WCF application’s configuration file?</span></span>  
 <span data-ttu-id="aa0d5-164">Ano, ale je nutné vytvořit vlastní <xref:System.ServiceModel.ServiceHost> třídu, která přepíše <xref:System.ServiceModel.ServiceHostBase.ApplyConfiguration%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-164">Yes, however, you have to create a custom <xref:System.ServiceModel.ServiceHost> class that overrides the <xref:System.ServiceModel.ServiceHostBase.ApplyConfiguration%2A> method.</span></span> <span data-ttu-id="aa0d5-165">Uvnitř této metody lze volat základní nejdřív načíst konfiguraci (Pokud chcete načíst informace o konfiguraci standardní i), ale můžete nahradit také zcela konfiguraci načítání systému.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-165">Inside that method, you can call the base to load configuration first (if you want to load the standard configuration information as well) but you can also entirely replace the configuration loading system.</span></span> <span data-ttu-id="aa0d5-166">Všimněte si, že pokud chcete načíst konfiguraci z konfiguračního souboru, který se liší od konfiguračního souboru aplikace, musíte analyzovat konfigurační soubor a načíst konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-166">Note that if you want to load configuration from a configuration file that is different from the application configuration file, you must parse the configuration file yourself and load the configuration.</span></span>  
  
 <span data-ttu-id="aa0d5-167">Následující příklad kódu ukazuje, jak přepsat <xref:System.ServiceModel.ServiceHostBase.ApplyConfiguration%2A> metoda a přímo konfigurace koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-167">The following code example shows how to override the <xref:System.ServiceModel.ServiceHostBase.ApplyConfiguration%2A> method and directly configure an endpoint.</span></span>  
  
```csharp
public class MyServiceHost : ServiceHost  
{  
    public MyServiceHost(Type serviceType, params Uri[] baseAddresses)    
      : base(serviceType, baseAddresses)  
    {
        Console.WriteLine("MyServiceHost Constructor");
    }  
  
    protected override void ApplyConfiguration()  
    {  
        string straddress = GetAddress();  
        Uri address = new Uri(straddress);  
        Binding binding = GetBinding();  
        base.AddServiceEndpoint(typeof(IData), binding, address);  
    }  
  
    string GetAddress()  
    {
        return "http://MyMachine:7777/MyEndpointAddress/";
    }  
  
    Binding GetBinding()  
    {  
        WSHttpBinding binding = new WSHttpBinding();  
        binding.Security.Mode = SecurityMode.None;  
        return binding;  
    }  
}  
```  
  
<a name="BKMK_q4"></a>   
## <a name="my-service-and-client-work-great-but-i-cant-get-them-to-work-when-the-client-is-on-another-computer-whats-happening"></a><span data-ttu-id="aa0d5-168">Služba a skvěle fungují klienta, ale nemůžu nelze získat pracovat nacházející se v jiném počítači?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-168">My service and client work great, but I can’t get them to work when the client is on another computer?</span></span> <span data-ttu-id="aa0d5-169">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-169">What’s happening?</span></span>  
 <span data-ttu-id="aa0d5-170">V závislosti na výjimku, může existovat několik problémů:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-170">Depending upon the exception, there may be several issues:</span></span>  
  
-   <span data-ttu-id="aa0d5-171">Můžete potřebovat změnit adresy koncových bodů klienta na název hostitele a není "localhost".</span><span class="sxs-lookup"><span data-stu-id="aa0d5-171">You might need to change the client endpoint addresses to the host name and not "localhost".</span></span>  
  
-   <span data-ttu-id="aa0d5-172">Můžete potřebovat pro otevření portu pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-172">You might need to open the port to the application.</span></span> <span data-ttu-id="aa0d5-173">Podrobnosti najdete v tématu [pokyny k bráně Firewall](../../../docs/framework/wcf/samples/firewall-instructions.md) z ukázky SDK.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-173">For details, see [Firewall Instructions](../../../docs/framework/wcf/samples/firewall-instructions.md) from the SDK samples.</span></span>  
  
-   <span data-ttu-id="aa0d5-174">Další možné problémy, naleznete v tématu ukázky [spouštění ukázek Windows Communication Foundation](./samples/running-the-samples.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-174">For other possible issues, see the samples topic [Running the Windows Communication Foundation Samples](./samples/running-the-samples.md).</span></span>  
  
-   <span data-ttu-id="aa0d5-175">Pokud váš klient se pomocí přihlašovacích údajů Windows a je výjimka <xref:System.ServiceModel.Security.SecurityNegotiationException>, následujícím způsobem konfigurace protokolu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-175">If your client is using Windows credentials and the exception is a <xref:System.ServiceModel.Security.SecurityNegotiationException>, configure Kerberos as follows.</span></span>  
  
    1.  <span data-ttu-id="aa0d5-176">Přidáte přihlašovací údaje identity na element koncového bodu v souboru App.config pro klienta:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-176">Add the identity credentials to the endpoint element in the client’s App.config file:</span></span>  
  
        ```xml
        <endpoint   
          address="http://MyServer:8000/MyService/"   
          binding="wsHttpBinding"   
          bindingConfiguration="WSHttpBinding_IServiceExample"   
          contract="IServiceExample"   
          behaviorConfiguration="ClientCredBehavior"   
          name="WSHttpBinding_IServiceExample">  
          <identity>  
            <userPrincipalName value="name@corp.contoso.com"/>  
          </identity>  
        </endpoint>  
        ```  
  
    2.  <span data-ttu-id="aa0d5-177">Spusťte službu v místním prostředí pomocí účtu systému nebo NetworkService.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-177">Run the self-hosted service under the System or NetworkService account.</span></span> <span data-ttu-id="aa0d5-178">Můžete spustit tento příkaz vytvoří příkazové okno pod účtem systému:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-178">You can run this command to create a command window under the System account:</span></span>  
  
        ```console
        at 12:36 /interactive "cmd.exe"  
        ```  
  
    3.  <span data-ttu-id="aa0d5-179">Hostování služby v rámci formátu RTF (Internetová informační služba), která standardně používá účet (SPN) pro hlavní název služby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-179">Host the service under Internet Information Services (IIS), which, by default, uses the service principal name (SPN) account.</span></span>  
  
    4.  <span data-ttu-id="aa0d5-180">Nový název SPN zaregistrujte domény pomocí nástroje SetSPN.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-180">Register a new SPN with the domain using SetSPN.</span></span> <span data-ttu-id="aa0d5-181">Všimněte si, že musíte být správcem domény, pokud to chcete udělat.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-181">Note that you will need to be a domain administrator in order to do this.</span></span>  
  
 <span data-ttu-id="aa0d5-182">Další informace o protokolu Kerberos najdete v tématu [zabezpečení koncepty používané ve službě WCF](../../../docs/framework/wcf/feature-details/security-concepts-used-in-wcf.md) a:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-182">For more information about the Kerberos protocol, see [Security Concepts Used in WCF](../../../docs/framework/wcf/feature-details/security-concepts-used-in-wcf.md) and:</span></span>  
  
-   [<span data-ttu-id="aa0d5-183">Ladění chyb ověřování systému Windows</span><span class="sxs-lookup"><span data-stu-id="aa0d5-183">Debugging Windows Authentication Errors</span></span>](../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md)  
  
-   [<span data-ttu-id="aa0d5-184">Registrace pomocí Http.sys hlavní názvy služby protokolu Kerberos</span><span class="sxs-lookup"><span data-stu-id="aa0d5-184">Registering Kerberos Service Principal Names by Using Http.sys</span></span>](https://go.microsoft.com/fwlink/?LinkId=86943)  
  
-   [<span data-ttu-id="aa0d5-185">Vysvětlení protokolu Kerberos</span><span class="sxs-lookup"><span data-stu-id="aa0d5-185">Kerberos Explained</span></span>](https://go.microsoft.com/fwlink/?LinkId=86946)  
  
<a name="BKMK_q5"></a>   
## <a name="when-i-throw-a-faultexceptionexception-where-the-type-is-an-exception-i-always-receive-a-general-faultexception-type-on-the-client-and-not-the-generic-type-whats-happening"></a><span data-ttu-id="aa0d5-186">Kdy můžu výjimku FaultException\<výjimky > tam, kde je typ výjimky, vždy zobrazila se obecným typem FaultException v klientském počítači a ne obecného typu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-186">When I throw a FaultException\<Exception> where the type is an exception, I always receive a general FaultException type on the client and not the generic type.</span></span> <span data-ttu-id="aa0d5-187">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-187">What’s happening?</span></span>  
 <span data-ttu-id="aa0d5-188">Důrazně doporučujeme vytvořit vlastní vlastní chybové datový typ a deklarovat, že jako typ podrobností ve vaší smlouvě selhání.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-188">It is highly recommended that you create your own custom error data type and declare that as the detail type in your fault contract.</span></span> <span data-ttu-id="aa0d5-189">Důvodem je, že pomocí typy poskytované systémem výjimek:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-189">The reason is that using system-provided exception types:</span></span>  
  
-   <span data-ttu-id="aa0d5-190">Vytvoří závislost na typ, který odebere jeden z největších výhod aplikací orientovaných na služby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-190">Creates a type dependency that removes one of the biggest strengths of service-oriented applications.</span></span>  
  
-   <span data-ttu-id="aa0d5-191">Nemohou záviset na výjimky serializace standardním způsobem.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-191">Cannot depend upon exceptions serializing in a standard way.</span></span> <span data-ttu-id="aa0d5-192">Některé – například <xref:System.Security.SecurityException>– nemusí být vůbec serializovatelný.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-192">Some—like <xref:System.Security.SecurityException>—may not be serializable at all.</span></span>  
  
-   <span data-ttu-id="aa0d5-193">Poskytuje podrobnosti interní implementace klientům.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-193">Exposes internal implementation details to clients.</span></span> <span data-ttu-id="aa0d5-194">Další informace najdete v tématu [zadání a zpracování chyb v kontraktech a službách](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-194">For more information, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span>  
  
 <span data-ttu-id="aa0d5-195">Pokud ladíte aplikaci, ale může serializovat informace o výjimce a vrátí klientovi pomocí <xref:System.ServiceModel.Description.ServiceDebugBehavior> třídy.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-195">If you are debugging an application, however, you can serialize exception information and return it to the client by using the <xref:System.ServiceModel.Description.ServiceDebugBehavior> class.</span></span>  
  
<a name="BKMK_q6"></a>   
## <a name="it-seems-like-one-way-and-request-reply-operations-return-at-roughly-the-same-speed-when-the-reply-contains-no-data-whats-happening"></a><span data-ttu-id="aa0d5-196">To vypadá jako jsou jednosměrná a operace požadavek odpověď vracet rychlostí přibližně stejnou odpověď neobsahuje žádná data.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-196">It seems like one-way and request-reply operations return at roughly the same speed when the reply contains no data.</span></span> <span data-ttu-id="aa0d5-197">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-197">What's happening?</span></span>  
 <span data-ttu-id="aa0d5-198">Určení, že operace je jedním ze způsobů pouze znamená, že kontrakt přijímá vstupní zprávy a nevrací výstupní zprávu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-198">Specifying that an operation is one way means only that the operation contract accepts an input message and does not return an output message.</span></span> <span data-ttu-id="aa0d5-199">Ve službě WCF všechna volání klienta vrátí, pokud byl zapsán do přenosu odchozích dat nebo dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-199">In WCF, all client invocations return when the outbound data has been written to the wire or an exception is thrown.</span></span> <span data-ttu-id="aa0d5-200">Jednosměrná operace pracovat stejným způsobem a generují výjimku-li služba nemůže najít nebo blokovat, pokud služba není připraven pro příjem dat ze sítě.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-200">One-way operations work the same way, and they can throw if the service cannot be located or block if the service is not prepared to accept the data from the network.</span></span> <span data-ttu-id="aa0d5-201">Obvykle ve službě WCF, výsledkem je jednosměrná volání rychleji než požadavek odpověď, vrácením klientovi ale jakoukoli podmínku, která zpomaluje odesílání odchozích dat v síti, zpomalí jednocestné operace, jakož i operace požadavek odpověď.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-201">Typically in WCF, this results in one-way calls returning to the client more quickly than request-reply; but any condition that slows the sending of the outbound data over the network slows one-way operations as well as request-reply operations.</span></span> <span data-ttu-id="aa0d5-202">Další informace najdete v tématu [One-Way služby](../../../docs/framework/wcf/feature-details/one-way-services.md) a [přístup ke službám pomocí klienta WCF](../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-202">For more information, see [One-Way Services](../../../docs/framework/wcf/feature-details/one-way-services.md) and [Accessing Services Using a WCF Client](../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md).</span></span>  
  
<a name="BKMK_q77"></a>   
## <a name="im-using-an-x509-certificate-with-my-service-and-i-get-a-systemsecuritycryptographycryptographicexception-whats-happening"></a><span data-ttu-id="aa0d5-203">Používám certifikát X.509 pomocí svojí služby a získat System.Security.Cryptography.CryptographicException.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-203">I’m using an X.509 certificate with my service and I get a System.Security.Cryptography.CryptographicException.</span></span> <span data-ttu-id="aa0d5-204">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-204">What’s happening?</span></span>  
 <span data-ttu-id="aa0d5-205">K tomu běžně dochází po změně uživatelský účet, pod kterým pracovní proces služby IIS běží.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-205">This commonly occurs after changing the user account under which the IIS worker process runs.</span></span> <span data-ttu-id="aa0d5-206">Například v [!INCLUDE[wxp](../../../includes/wxp-md.md)], pokud změníte výchozí uživatelský účet, který Aspnet_wp.exe běží pod z ASPNET vlastní uživatelský účet, může se zobrazit tato chyba.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-206">For example, in [!INCLUDE[wxp](../../../includes/wxp-md.md)], if you change the default user account that the Aspnet_wp.exe runs under from ASPNET to a custom user account, you may see this error.</span></span> <span data-ttu-id="aa0d5-207">Pokud používáte privátní klíč, proces, který používá ho bude muset mít oprávnění pro přístup k souboru uložení tohoto klíče.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-207">If using a private key, the process that uses it will need to have permissions to access the file storing that key.</span></span>  
  
 <span data-ttu-id="aa0d5-208">Pokud je to tento případ, je potřeba předat čtení přístupová oprávnění procesu účtu pro soubor, který obsahuje privátní klíč.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-208">If this is the case, you must give read access privileges to the process's account for the file containing the private key.</span></span> <span data-ttu-id="aa0d5-209">Například pokud pracovní proces služby IIS běží pod účtem Bob, pak je potřeba poskytnout oprávnění ke čtení Bob k souboru, který obsahuje privátní klíč.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-209">For example, if the IIS worker process is running under the Bob account, then you will need to give Bob read access to the file containing the private key.</span></span>  
  
 <span data-ttu-id="aa0d5-210">Další informace o tom, jak poskytnout přístup k účtu uživatele správný soubor, který obsahuje privátní klíč pro konkrétní certifikát X.509, naleznete v tématu [jak: Zpřístupnění certifikátů X.509 pro WCF](../../../docs/framework/wcf/feature-details/how-to-make-x-509-certificates-accessible-to-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="aa0d5-210">For more information about how to give the correct user account access to the file that contains the private key for a specific X.509 certificate, see [How to: Make X.509 Certificates Accessible to WCF](../../../docs/framework/wcf/feature-details/how-to-make-x-509-certificates-accessible-to-wcf.md).</span></span>  
  
<a name="BKMK_q88"></a>   
## <a name="i-changed-the-first-parameter-of-an-operation-from-uppercase-to-lowercase-now-my-client-throws-an-exception-whats-happening"></a><span data-ttu-id="aa0d5-211">Můžu změnit první parametr operace z velkých písmen na malá písmena; Klient teď dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-211">I changed the first parameter of an operation from uppercase to lowercase; now my client throws an exception.</span></span> <span data-ttu-id="aa0d5-212">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-212">What's happening?</span></span>  
 <span data-ttu-id="aa0d5-213">Hodnota názvy parametrů v signatuře operace jsou součástí kontraktu a jsou malá a velká písmena.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-213">The value of the parameter names in the operation signature are part of the contract and are case-sensitive.</span></span> <span data-ttu-id="aa0d5-214">Použití <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType> atribut, pokud je potřeba rozlišovat mezi místní parametr name a metadat, který popisuje operace, která pro klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-214">Use the <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType> attribute when you need to distinguish between the local parameter name and the metadata that describes the operation for client applications.</span></span>  
  
<a name="BKMK_q99"></a>   
## <a name="im-using-one-of-my-tracing-tools-and-i-get-an-endpointnotfoundexception-whats-happening"></a><span data-ttu-id="aa0d5-215">Používám jedním z nástrojů Moje trasování a získat endpointnotfoundexception –.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-215">I’m using one of my tracing tools and I get an EndpointNotFoundException.</span></span> <span data-ttu-id="aa0d5-216">Co se děje?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-216">What’s happening?</span></span>  
 <span data-ttu-id="aa0d5-217">Pokud používáte nástroj pro sledování, které nejsou poskytované systémem mechanismus trasování WCF a zobrazí se <xref:System.ServiceModel.EndpointNotFoundException> , která označuje, že došlo neshodě filtr adresy, budete muset použít <xref:System.ServiceModel.Description.ClientViaBehavior> třídy ke směrování zpráv do nástroj trasování a mají nástroje těchto zpráv přesměrování na adresu služby.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-217">If you are using a tracing tool that is not the system-provided WCF tracing mechanism and you receive an <xref:System.ServiceModel.EndpointNotFoundException> that indicates that there was an address filter mismatch, you need to use the <xref:System.ServiceModel.Description.ClientViaBehavior> class to direct the messages to the tracing utility and have the utility redirect those messages to the service address.</span></span> <span data-ttu-id="aa0d5-218"><xref:System.ServiceModel.Description.ClientViaBehavior> Třídy mění `Via` indikován adresování záhlaví, chcete-li určit další síťová adresa odděleně od ultimate příjemce `To` adresování záhlaví.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-218">The <xref:System.ServiceModel.Description.ClientViaBehavior> class alters the `Via` addressing header to specify the next network address separately from the ultimate receiver, indicated by the `To` addressing header.</span></span> <span data-ttu-id="aa0d5-219">Při tomto postupu, ale neměňte adresu koncového bodu, který se používá k navázání `To` hodnotu.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-219">When doing this, however, do not change the endpoint address, which is used to establish the `To` value.</span></span>  
  
 <span data-ttu-id="aa0d5-220">Následující příklad kódu ukazuje klientem příklad konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-220">The following code example shows an example client configuration file.</span></span>  
  
```xml
<endpoint   
  address="http://localhost:8000/MyServer/"  
  binding="wsHttpBinding"  
  bindingConfiguration="WSHttpBinding_IMyContract"  
  behaviorConfiguration="MyClient"   
  contract="IMyContract"   
  name="WSHttpBinding_IMyContract">  
</endpoint>  
<behaviors>  
  <endpointBehaviors>  
    <behavior name="MyClient">  
      <clientVia viaUri="http://localhost:8001/MyServer/"/>  
    </behavior>  
  </endpointBehaviors>  
</behaviors>  
```  
  
<a name="BKMK_q10"></a>   
## <a name="what-is-the-base-address-how-does-it-relate-to-an-endpoint-address"></a><span data-ttu-id="aa0d5-221">Co je základní adresa?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-221">What is the base address?</span></span> <span data-ttu-id="aa0d5-222">Jak to souvisí adresy koncového bodu?</span><span class="sxs-lookup"><span data-stu-id="aa0d5-222">How does it relate to an endpoint address?</span></span>  
 <span data-ttu-id="aa0d5-223">Základní adresa je adresa kořenové <xref:System.ServiceModel.ServiceHost> třídy.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-223">A base address is the root address for a <xref:System.ServiceModel.ServiceHost> class.</span></span> <span data-ttu-id="aa0d5-224">Ve výchozím nastavení, pokud chcete přidat <xref:System.ServiceModel.Description.ServiceMetadataBehavior> třídy do konfigurace služby, webové služby WSDL (Description Language) pro hostitele publikuje všechny koncové body jsou načteny z základní adresu HTTP, a navíc všechny relativní adresa zadaná metadata chování plus "? wsdl".</span><span class="sxs-lookup"><span data-stu-id="aa0d5-224">By default, if you add a <xref:System.ServiceModel.Description.ServiceMetadataBehavior> class into your service configuration, the Web Services Description Language (WSDL) for all endpoints the host publishes are retrieved from the HTTP base address, plus any relative address provided to the metadata behavior, plus "?wsdl".</span></span> <span data-ttu-id="aa0d5-225">Pokud jste se seznámili s [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] a služby IIS, základní adresa je ekvivalentní k virtuálnímu adresáři.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-225">If you are familiar with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] and IIS, the base address is equivalent to the virtual directory.</span></span>  
  
## <a name="sharing-a-port-between-a-service-endpoint-and-a-mex-endpoint-using-the-nettcpbinding"></a><span data-ttu-id="aa0d5-226">Sdílení portů mezi koncového bodu služby a koncového bodu mex pomocí NetTcpBinding</span><span class="sxs-lookup"><span data-stu-id="aa0d5-226">Sharing a port between a service endpoint and a mex endpoint using the NetTcpBinding</span></span>  
 <span data-ttu-id="aa0d5-227">Pokud zadáte základní adresu pro službu jako net.tcp://MyServer: 8080/Moje_služba a přidat následující koncové body:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-227">If you specify the base address for a service as net.tcp://MyServer:8080/MyService and add the following endpoints:</span></span>  
  
```xml  
<services>  
  <service name="Microsoft.Samples.NetTcp.CalculatorService">  
    <endpoint address="calcsvc" binding ="netTcpBinding" contract="Microsoft.Samples.NetTcp.ICalculator"/>  
    <endpoint address="mex" binding="mexTcpBinding" contract="IMetadataExchange" />  
  </service>  
</services>  
```  
  
 <span data-ttu-id="aa0d5-228">A pokud změníte některé z nastavení NetTcpBinding jak je znázorněno v následujícím fragmentu kódu konfigurace:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-228">And if you modify one of the NetTcpBinding settings as shown in the following configuration snippet:</span></span>  
  
```xml  
<bindings>  
  <netTcpBinding>  
    <binding closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00" transactionFlow="false" transferMode="Buffered" transactionProtocol="OleTransactions" hostNameComparisonMode="StrongWildcard" listenBacklog="10" maxBufferPoolSize="524288" maxBufferSize="65536" maxConnections="11" maxReceivedMessageSize="65536">  
      <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384"/>  
      <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false"/>  
      <security mode="Transport">  
        <transport clientCredentialType="Windows" protectionLevel="EncryptAndSign"/>  
      </security>  
    </binding>  
  </netTcpBinding>  
</bindings>  
```  
  
 <span data-ttu-id="aa0d5-229">Zobrazí se chyba vypadat asi takto: Neošetřená výjimka: System.ServiceModel.AddressAlreadyInUseException: Na již běží naslouchací proces IP 0.0.0.0:9000 koncový bod, který tuto chybu můžete vyřešit tak, že zadáte plně kvalifikovanou adresu URL s jiným portem koncového bodu MEX, jak je znázorněno v následujícím fragmentu kódu konfigurace:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-229">You will see an error like the following: Unhandled Exception: System.ServiceModel.AddressAlreadyInUseException: There is already a listener on IP endpoint 0.0.0.0:9000 You can work around this error by specifying a fully qualified URL with a different port for the MEX endpoint as shown in the following configuration snippet:</span></span>  
  
```xml
<services>  
  <service name="Microsoft.Samples.NetTcp.CalculatorService">  
    <endpoint address="calcsvc" binding ="netTcpBinding" contract="Microsoft.Samples.NetTcp.ICalculator"/>  
    <endpoint address="net.tcp://localhost:9001/servicemodelsamples/mex" binding="mexTcpBinding" contract="IMetadataExchange" />  
  </service>  
</services>  
```  
  
<a name="BK_MK99"></a>   
## <a name="when-calling-a-wcf-web-http-application-from-a-wcf-soap-application-the-service-returns-the-following-error-405-method-not-allowed"></a><span data-ttu-id="aa0d5-230">Při volání webových služeb HTTP WCF aplikace z aplikace WCF SOAP služba vrátí následující chybu: 405 Metoda není povolena</span><span class="sxs-lookup"><span data-stu-id="aa0d5-230">When calling a WCF Web HTTP application from a WCF SOAP application the service returns the following error: 405 Method Not Allowed</span></span>  
 <span data-ttu-id="aa0d5-231">Volání aplikace webových služeb HTTP WCF (služba, která se používá <xref:System.ServiceModel.WebHttpBinding> a <xref:System.ServiceModel.Description.WebHttpBehavior>) z WCF service může generovat následující výjimku: `Unhandled Exception: System.ServiceModel.FaultException`1[System.ServiceModel.ExceptionDetail]: Vzdálený server vrátil neočekávanou odpověď: (405) metoda není povoleno. "touto výjimkou způsobeno WCF přepíše odchozích dat <xref:System.ServiceModel.OperationContext> s příchozí <xref:System.ServiceModel.OperationContext>.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-231">Calling a WCF Web HTTP application (a service that uses the <xref:System.ServiceModel.WebHttpBinding> and <xref:System.ServiceModel.Description.WebHttpBehavior>) from a WCF service may generate the following exception: `Unhandled Exception: System.ServiceModel.FaultException`1[System.ServiceModel.ExceptionDetail]: The remote server returned an unexpected response: (405) Method Not Allowed.\` This exception occurs because WCF overwrites the outgoing <xref:System.ServiceModel.OperationContext> with the incoming <xref:System.ServiceModel.OperationContext>.</span></span> <span data-ttu-id="aa0d5-232">Chcete-li vyřešit tento problém vytvořit <xref:System.ServiceModel.OperationContextScope> v rámci operace služby webových služeb HTTP WCF.</span><span class="sxs-lookup"><span data-stu-id="aa0d5-232">To solve this problem create an <xref:System.ServiceModel.OperationContextScope> within the WCF Web HTTP service operation.</span></span> <span data-ttu-id="aa0d5-233">Příklad:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-233">For example:</span></span>  
  
```csharp
public string Echo(string input)  
{  
    using (new OperationContextScope(this.InnerChannel))  
    {  
        return base.Channel.Echo(input);  
    }  
}  
```  
  
## <a name="see-also"></a><span data-ttu-id="aa0d5-234">Viz také:</span><span class="sxs-lookup"><span data-stu-id="aa0d5-234">See also</span></span>

- [<span data-ttu-id="aa0d5-235">Ladění chyb ověřování systému Windows</span><span class="sxs-lookup"><span data-stu-id="aa0d5-235">Debugging Windows Authentication Errors</span></span>](../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md)
