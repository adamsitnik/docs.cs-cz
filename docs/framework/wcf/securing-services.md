---
title: Zabezpečení služeb
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: b2ee61d6bad457918f1bd5006dfd7eaa27e46caa
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/22/2019
ms.locfileid: "69964173"
---
# <a name="securing-services"></a><span data-ttu-id="7701c-102">Zabezpečení služeb</span><span class="sxs-lookup"><span data-stu-id="7701c-102">Securing Services</span></span>
<span data-ttu-id="7701c-103">Zabezpečení služby Windows Communication Foundation (WCF) se skládá ze dvou hlavních požadavků: přenos zabezpečení a autorizace.</span><span class="sxs-lookup"><span data-stu-id="7701c-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="7701c-104">(Třetí požadavek na auditování událostí zabezpečení je popsaný v tématu [auditování](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) V krátkém případě přenos zabezpečení zahrnuje ověřování (ověřování identity služby i klienta), důvěrnost (šifrování zpráv) a integritu (digitální podepisování pro detekci manipulace).</span><span class="sxs-lookup"><span data-stu-id="7701c-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="7701c-105">Autorizace je řízení přístupu k prostředkům, například umožnění čtení souboru pouze privilegovaným uživatelům.</span><span class="sxs-lookup"><span data-stu-id="7701c-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="7701c-106">Pomocí funkcí služby WCF jsou tyto dva primární požadavky snadno implementovány.</span><span class="sxs-lookup"><span data-stu-id="7701c-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="7701c-107">S výjimkou <xref:System.ServiceModel.BasicHttpBinding> třídy ( [ \<nebo prvku basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) v konfiguraci) je zabezpečení přenosu povoleno ve výchozím nastavení pro všechny předdefinované vazby.</span><span class="sxs-lookup"><span data-stu-id="7701c-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="7701c-108">Témata v této části se týkají dvou základních scénářů: implementace přenosu zabezpečení a autorizace na intranetové službě hostované na Internetová informační služba (IIS) a implementace zabezpečení a autorizace přenosu v rámci služby hostované službou IIS.</span><span class="sxs-lookup"><span data-stu-id="7701c-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7701c-109">Systém Windows XP Home nepodporuje ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="7701c-110">Proto byste neměli v tomto systému spouštět službu.</span><span class="sxs-lookup"><span data-stu-id="7701c-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="7701c-111">Základy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="7701c-111">Security Basics</span></span>  
 <span data-ttu-id="7701c-112">Zabezpečení spoléhá na *přihlašovací údaje*.</span><span class="sxs-lookup"><span data-stu-id="7701c-112">Security relies on *credentials*.</span></span> <span data-ttu-id="7701c-113">Přihlašovací údaj prokáže, že entita je na ni deklarace identity.</span><span class="sxs-lookup"><span data-stu-id="7701c-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="7701c-114">( *Entita* může být osoba, softwarový proces, společnost nebo cokoli, co může být autorizováno.) Například klient služby provede deklaraci *identity*a přihlašovací údaje tuto deklaraci identity prokáže.</span><span class="sxs-lookup"><span data-stu-id="7701c-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="7701c-115">V typickém scénáři dojde k výměně přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="7701c-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="7701c-116">Nejprve služba vytvoří deklaraci identity a prokáže klientovi s přihlašovacími údaji.</span><span class="sxs-lookup"><span data-stu-id="7701c-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="7701c-117">Naopak klient provede deklaraci identity a prezentuje přihlašovací údaje službě.</span><span class="sxs-lookup"><span data-stu-id="7701c-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="7701c-118">Pokud obě strany důvěřují ostatním přihlašovacím údajům, může se zřídit *zabezpečený kontext* , ve kterém se všechny zprávy vyměňují v důvěrnosti, a všechny zprávy jsou podepsané k ochraně své integrity.</span><span class="sxs-lookup"><span data-stu-id="7701c-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="7701c-119">Poté, co služba vytvoří identitu klienta, může následně přiřadit deklarace identity v přihlašovacích údajích k *roli* nebo *členství* ve skupině.</span><span class="sxs-lookup"><span data-stu-id="7701c-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="7701c-120">V obou případech pomocí role nebo skupiny, ke které klient patří, autorizuje služba klienta, aby provedl omezené sady operací na základě oprávnění role nebo skupiny.</span><span class="sxs-lookup"><span data-stu-id="7701c-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="7701c-121">Mechanismy zabezpečení systému Windows</span><span class="sxs-lookup"><span data-stu-id="7701c-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="7701c-122">Pokud klient a počítač služby jsou v doméně systému Windows, která vyžaduje, aby se k síti přihlásili, přihlašovací údaje poskytuje infrastruktura systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="7701c-123">V takovém případě se přihlašovací údaje vytvoří, když se uživatel počítače přihlásí k síti.</span><span class="sxs-lookup"><span data-stu-id="7701c-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="7701c-124">Každý uživatel a každý počítač v síti musí být ověřen jako patřící k důvěryhodné sadě uživatelů a počítačů.</span><span class="sxs-lookup"><span data-stu-id="7701c-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="7701c-125">V systému Windows se každý takový uživatel a počítač označuje také jako *objekt zabezpečení*.</span><span class="sxs-lookup"><span data-stu-id="7701c-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="7701c-126">V doméně systému Windows řízené řadičem *protokolu Kerberos* používá řadič Kerberos schéma založené na udělení lístků každému objektu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7701c-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="7701c-127">Lístky, které kontroler uděluje, jsou pro ostatní udělení lístků v systému důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="7701c-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="7701c-128">Pokaždé, když se entita pokusí provést určitou operaci nebo získat přístup k *prostředku* (například k souboru nebo adresáři v počítači), je vyhodnocena platnost lístku a v případě, že je předán, je objektu zabezpečení udělen jiný lístek pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="7701c-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="7701c-129">Tato metoda udělování lístků je efektivnější než alternativa při pokusu o ověření objektu zabezpečení pro každou operaci.</span><span class="sxs-lookup"><span data-stu-id="7701c-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="7701c-130">Starší a méně zabezpečený mechanismus, který se používá v doménách Windows, je NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="7701c-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="7701c-131">V případech, kdy nelze použít protokol Kerberos (obvykle mimo doménu systému Windows, například v pracovní skupině), lze protokol NTLM použít jako alternativu.</span><span class="sxs-lookup"><span data-stu-id="7701c-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="7701c-132">Protokol NTLM je také k dispozici jako možnost zabezpečení služby IIS.</span><span class="sxs-lookup"><span data-stu-id="7701c-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="7701c-133">V systému Windows autorizace funguje tak, že přiřazuje každému počítači a uživateli sadu rolí a skupin.</span><span class="sxs-lookup"><span data-stu-id="7701c-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="7701c-134">Například každý počítač se systémem Windows musí být nastaven a kontrolován uživatelem (nebo skupinou lidí) v roli *správce*.</span><span class="sxs-lookup"><span data-stu-id="7701c-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="7701c-135">Jinou rolí je *uživatel*, který má mnohem více omezené sady oprávnění.</span><span class="sxs-lookup"><span data-stu-id="7701c-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="7701c-136">Kromě role jsou uživatelé přiřazeni do skupin.</span><span class="sxs-lookup"><span data-stu-id="7701c-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="7701c-137">Skupina umožňuje více uživatelům provádět stejnou roli.</span><span class="sxs-lookup"><span data-stu-id="7701c-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="7701c-138">V praxi je proto počítač se systémem Windows spravován pomocí přiřazování uživatelů do skupin.</span><span class="sxs-lookup"><span data-stu-id="7701c-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="7701c-139">Například několik uživatelů může být přiřazeno skupině uživatelů počítače a mnohem více omezených skupin uživatelů je možné přiřadit skupině správců.</span><span class="sxs-lookup"><span data-stu-id="7701c-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="7701c-140">V místním počítači může správce také vytvořit nové skupiny a přiřadit jiným uživatelům (nebo i jiným skupinám) skupinu.</span><span class="sxs-lookup"><span data-stu-id="7701c-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="7701c-141">V počítači se systémem Windows je možné chránit všechny složky v adresáři.</span><span class="sxs-lookup"><span data-stu-id="7701c-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="7701c-142">To znamená, že můžete vybrat složku a ovládací prvek, který bude mít přístup k souborům, a určit, jestli se může soubor kopírovat, nebo (v případě nejprivilegovaného případu) změnit soubor, odstranit soubor nebo přidat soubory do složky.</span><span class="sxs-lookup"><span data-stu-id="7701c-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="7701c-143">Tento postup se označuje jako řízení přístupu a mechanismus pro něj je známý jako seznam řízení přístupu (ACL).</span><span class="sxs-lookup"><span data-stu-id="7701c-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="7701c-144">Při vytváření seznamu ACL můžete přiřadit přístupová oprávnění k libovolné skupině nebo skupinám i jednotlivým členům domény.</span><span class="sxs-lookup"><span data-stu-id="7701c-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="7701c-145">Infrastruktura WCF je navržená tak, aby používala tyto mechanismy zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="7701c-146">Proto pokud vytváříte službu, která je nasazena v intranetu a jejíž klienti jsou omezeni na členy domény systému Windows, zabezpečení je snadno implementováno.</span><span class="sxs-lookup"><span data-stu-id="7701c-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="7701c-147">K doméně se můžou přihlásit jenom platní uživatelé.</span><span class="sxs-lookup"><span data-stu-id="7701c-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="7701c-148">Po přihlášení uživatelů řadič protokolu Kerberos umožní každému uživateli vytvořit zabezpečené kontexty s jakýmkoli jiným počítačem nebo aplikací.</span><span class="sxs-lookup"><span data-stu-id="7701c-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="7701c-149">V místním počítači lze snadno vytvořit skupiny a při ochraně určitých složek je možné tyto skupiny použít k přiřazení přístupových oprávnění k počítači.</span><span class="sxs-lookup"><span data-stu-id="7701c-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="7701c-150">Implementace zabezpečení Windows na intranetové služby</span><span class="sxs-lookup"><span data-stu-id="7701c-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="7701c-151">K zabezpečení aplikace, která běží výhradně v doméně systému Windows, můžete použít výchozí nastavení <xref:System.ServiceModel.WSHttpBinding> zabezpečení <xref:System.ServiceModel.NetTcpBinding> nebo vazby.</span><span class="sxs-lookup"><span data-stu-id="7701c-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="7701c-152">Ve výchozím nastavení má kdokoli na stejné doméně Windows přístup ke službám WCF.</span><span class="sxs-lookup"><span data-stu-id="7701c-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="7701c-153">Vzhledem k tomu, že se tito uživatelé přihlásili k síti, jsou důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="7701c-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="7701c-154">Zprávy mezi službou a klientem jsou zašifrované pro zajištění důvěrnosti a podepsání pro integritu.</span><span class="sxs-lookup"><span data-stu-id="7701c-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="7701c-155">Další informace o tom, jak vytvořit službu, která používá zabezpečení systému Windows, [naleznete v tématu How to: Zabezpečte službu pomocí pověření](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="7701c-156">Autorizace pomocí třídy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="7701c-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="7701c-157">Pokud potřebujete omezit přístup k prostředkům v počítači, nejjednodušší způsob je použití <xref:System.Security.Permissions.PrincipalPermissionAttribute> třídy.</span><span class="sxs-lookup"><span data-stu-id="7701c-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="7701c-158">Tento atribut umožňuje omezit vyvolání operací služby tím, že je potřeba, aby uživatel byl v zadané skupině nebo roli systému Windows nebo aby byl konkrétní uživatel.</span><span class="sxs-lookup"><span data-stu-id="7701c-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="7701c-159">Další informace najdete v tématu [jak: Omezte přístup pomocí třídy](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)PrincipalPermissionAttribute.</span><span class="sxs-lookup"><span data-stu-id="7701c-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="7701c-160">Zosobnění</span><span class="sxs-lookup"><span data-stu-id="7701c-160">Impersonation</span></span>  
 <span data-ttu-id="7701c-161">Zosobnění je jiný mechanismus, který můžete použít k řízení přístupu k prostředkům.</span><span class="sxs-lookup"><span data-stu-id="7701c-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="7701c-162">Ve výchozím nastavení bude služba hostovaná službou IIS běžet pod identitou účtu ASPNET.</span><span class="sxs-lookup"><span data-stu-id="7701c-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="7701c-163">Účet ASPNET má přístup pouze k prostředkům, ke kterým má oprávnění.</span><span class="sxs-lookup"><span data-stu-id="7701c-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="7701c-164">Je ale možné nastavit seznam ACL pro složku, aby vyloučí účet služby ASPNET, ale povolil určitým jiným identitám přístup ke složce.</span><span class="sxs-lookup"><span data-stu-id="7701c-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="7701c-165">Otázka pak povede k tomu, aby měli uživatelé přístup ke složce, pokud není to účet ASPNET povolený.</span><span class="sxs-lookup"><span data-stu-id="7701c-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="7701c-166">Odpovědí je použití zosobnění, kdy může služba používat přihlašovací údaje klienta pro přístup k určitému prostředku.</span><span class="sxs-lookup"><span data-stu-id="7701c-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="7701c-167">Dalším příkladem je přístup k databázi SQL Server, ke které mají oprávnění pouze někteří uživatelé.</span><span class="sxs-lookup"><span data-stu-id="7701c-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="7701c-168">Další informace o použití zosobnění naleznete v tématu [How to: Zosobnit klienta na službě](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) a [delegování a zosobnění](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="7701c-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="7701c-169">Zabezpečení na internetu</span><span class="sxs-lookup"><span data-stu-id="7701c-169">Security on the Internet</span></span>  
 <span data-ttu-id="7701c-170">Zabezpečení Internetu se skládá ze stejných požadavků jako zabezpečení na intranetu.</span><span class="sxs-lookup"><span data-stu-id="7701c-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="7701c-171">Služba potřebuje přihlašovací údaje k prokázání jejího pravosti a klienti musí prokázat svoji identitu službě.</span><span class="sxs-lookup"><span data-stu-id="7701c-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="7701c-172">Po prověření identity klienta může služba řídit, kolik přístupu má klient k prostředkům.</span><span class="sxs-lookup"><span data-stu-id="7701c-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="7701c-173">V důsledku heterogenní povahy Internetu se však uvedená pověření liší od těch, které se použily v doméně systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="7701c-174">Vzhledem k tomu, že kontroler protokolu Kerberos zpracovává ověřování uživatelů v doméně pomocí lístků pro přihlašovací údaje, na internetu se služby a klienti spoléhají na některý z několika různých způsobů, jak přihlašovací údaje prezentovat.</span><span class="sxs-lookup"><span data-stu-id="7701c-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="7701c-175">Cílem tohoto tématu je však poskytnout společný přístup, který umožňuje vytvořit službu WCF, která je přístupná na internetu.</span><span class="sxs-lookup"><span data-stu-id="7701c-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="7701c-176">Používání služby IIS a ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7701c-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="7701c-177">Požadavky na zabezpečení Internetu a mechanismy, jak tyto problémy vyřešit, nejsou nové.</span><span class="sxs-lookup"><span data-stu-id="7701c-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="7701c-178">Služba IIS je webový server společnosti Microsoft pro Internet a má mnoho funkcí zabezpečení, které řeší tyto problémy. Kromě toho ASP.NET zahrnuje funkce zabezpečení, které mohou služby WCF používat.</span><span class="sxs-lookup"><span data-stu-id="7701c-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="7701c-179">Chcete-li využít tyto funkce zabezpečení, je nutné hostovat službu WCF ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="7701c-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="7701c-180">Používání ASP.NET členství a zprostředkovatelů rolí</span><span class="sxs-lookup"><span data-stu-id="7701c-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="7701c-181">ASP.NET zahrnuje členství a poskytovatele rolí.</span><span class="sxs-lookup"><span data-stu-id="7701c-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="7701c-182">Poskytovatel je databáze párů uživatelského jména a hesla pro ověřování volajících, která také umožňují určit přístupová oprávnění každého volajícího.</span><span class="sxs-lookup"><span data-stu-id="7701c-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="7701c-183">Pomocí WCF můžete snadno použít stávajícího členství a poskytovatele rolí prostřednictvím konfigurace.</span><span class="sxs-lookup"><span data-stu-id="7701c-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="7701c-184">Ukázkovou aplikaci, která to demonstruje, najdete v ukázce pro [členství a poskytovatele rolí](../../../docs/framework/wcf/samples/membership-and-role-provider.md) .</span><span class="sxs-lookup"><span data-stu-id="7701c-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="7701c-185">Přihlašovací údaje používané službou IIS</span><span class="sxs-lookup"><span data-stu-id="7701c-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="7701c-186">Na rozdíl od domény Windows zajištěné řadičem protokolu Kerberos je Internet prostředím bez jediného kontroleru pro správu milionů uživatelů přihlašování kdykoli.</span><span class="sxs-lookup"><span data-stu-id="7701c-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="7701c-187">Místo toho jsou přihlašovací údaje na internetu nejčastěji ve formě certifikátů X. 509 (označovaných také jako SSL (Secure Sockets Layer) nebo SSL, certifikáty).</span><span class="sxs-lookup"><span data-stu-id="7701c-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="7701c-188">Tyto certifikáty jsou obvykle vydávány *certifikační autoritou*, což může být společnost třetí strany, která ručí za certifikát pravosti certifikátu a osobu, pro kterou byla vydána.</span><span class="sxs-lookup"><span data-stu-id="7701c-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="7701c-189">K vystavení služby na internetu musíte také k ověření vaší služby uvést takový důvěryhodný certifikát.</span><span class="sxs-lookup"><span data-stu-id="7701c-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="7701c-190">K otázce dojde v tomto okamžiku, jak získáte takový certifikát?</span><span class="sxs-lookup"><span data-stu-id="7701c-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="7701c-191">Jedním z přístupů k certifikační autoritě třetí strany, jako je Authenticode nebo VeriSign, až budete připraveni nasadit službu a koupit certifikát pro vaši službu.</span><span class="sxs-lookup"><span data-stu-id="7701c-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="7701c-192">Pokud jste však ve fázi vývoje v rámci služby WCF a ještě nejste připraveni k nákupu certifikátu, nástroje a techniky existují pro vytváření certifikátů X. 509, které můžete použít k simulaci produkčního nasazení.</span><span class="sxs-lookup"><span data-stu-id="7701c-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="7701c-193">Další informace najdete v tématu [práce s certifikáty](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="7701c-193">For more information, see [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="7701c-194">Režimy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="7701c-194">Security Modes</span></span>  
 <span data-ttu-id="7701c-195">Programování zabezpečení WCF zahrnuje několik kritických rozhodovacích bodů.</span><span class="sxs-lookup"><span data-stu-id="7701c-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="7701c-196">Jedním z nejzákladnější je výběr *režimu zabezpečení*.</span><span class="sxs-lookup"><span data-stu-id="7701c-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="7701c-197">Dva hlavní režimy zabezpečení jsou *Transportní režim* a *režim zpráv*.</span><span class="sxs-lookup"><span data-stu-id="7701c-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="7701c-198">Třetí režim, který kombinuje sémantiku hlavních režimů, je *přenos s režimem přihlašovacích údajů zprávy*.</span><span class="sxs-lookup"><span data-stu-id="7701c-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="7701c-199">Režim zabezpečení určuje, jak jsou zprávy zabezpečeny, a každá z možností má výhody a nevýhody, jak je vysvětleno níže.</span><span class="sxs-lookup"><span data-stu-id="7701c-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="7701c-200">Další informace o nastavení režimu zabezpečení naleznete v tématu [How to: Nastavte režim](../../../docs/framework/wcf/how-to-set-the-security-mode.md)zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7701c-200">For more information about setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="7701c-201">Režim přenosu</span><span class="sxs-lookup"><span data-stu-id="7701c-201">Transport Mode</span></span>  
 <span data-ttu-id="7701c-202">Mezi sítí a aplikací je několik vrstev.</span><span class="sxs-lookup"><span data-stu-id="7701c-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="7701c-203">Jedním z nich je *přenosová* vrstva *,* která spravuje přenos zpráv mezi koncovými body.</span><span class="sxs-lookup"><span data-stu-id="7701c-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="7701c-204">Pro účely současného účelu je potřeba, abyste pochopili, že WCF používá několik přenosových protokolů, z nichž každá může zabezpečit přenos zpráv.</span><span class="sxs-lookup"><span data-stu-id="7701c-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="7701c-205">(Další informace o přenosech najdete v tématu [přenosy](../../../docs/framework/wcf/feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="7701c-205">(For more information about transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="7701c-206">Běžně používaný protokol je HTTP; Další je TCP.</span><span class="sxs-lookup"><span data-stu-id="7701c-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="7701c-207">Každý z těchto protokolů může zabezpečit přenos zpráv mechanismem (nebo mechanismy), které jsou specifické pro daný protokol.</span><span class="sxs-lookup"><span data-stu-id="7701c-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="7701c-208">Například protokol HTTP je zabezpečený pomocí protokolu SSL přes protokol HTTP, obvykle se zkracuje jako HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7701c-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="7701c-209">Proto když vyberete transportní režim pro zabezpečení, rozhodli jste se použít mechanismus vydaný protokolem.</span><span class="sxs-lookup"><span data-stu-id="7701c-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="7701c-210">Pokud například vyberete <xref:System.ServiceModel.WSHttpBinding> třídu a nastavíte její režim zabezpečení na transport, vybíráte jako bezpečnostní mechanismus protokol SSL (https) prostřednictvím protokolu HTTP (https).</span><span class="sxs-lookup"><span data-stu-id="7701c-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="7701c-211">Výhodou transportního režimu je, že je efektivnější než režim zprávy, protože zabezpečení je integrované na relativně nízké úrovni.</span><span class="sxs-lookup"><span data-stu-id="7701c-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="7701c-212">Při použití transportního režimu musí být mechanismus zabezpečení implementovaný podle specifikace pro přenos, takže zprávy mohou být zabezpečeny pouze z Point-to-Point přes přenos.</span><span class="sxs-lookup"><span data-stu-id="7701c-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="7701c-213">Režim zprávy</span><span class="sxs-lookup"><span data-stu-id="7701c-213">Message Mode</span></span>  
 <span data-ttu-id="7701c-214">Naproti tomu režim zpráv poskytuje zabezpečení tím, že zahrnuje data zabezpečení jako součást každé zprávy.</span><span class="sxs-lookup"><span data-stu-id="7701c-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="7701c-215">Pomocí hlaviček zabezpečení XML a SOAP jsou do každé zprávy zahrnuty přihlašovací údaje a další data potřebná k zajištění integrity a důvěrnosti zprávy.</span><span class="sxs-lookup"><span data-stu-id="7701c-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="7701c-216">Každá zpráva obsahuje data zabezpečení, takže má za následek záruku na výkon, protože každá zpráva musí být zpracována individuálně.</span><span class="sxs-lookup"><span data-stu-id="7701c-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="7701c-217">(V transportním režimu platí, že jakmile je přenosová vrstva zabezpečená, všechny zprávy budou mít volný tok.) Zabezpečení zpráv má ale jednu výhodu oproti zabezpečení přenosu: je flexibilnější.</span><span class="sxs-lookup"><span data-stu-id="7701c-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="7701c-218">To znamená, že požadavky na zabezpečení nejsou určeny pro přenos.</span><span class="sxs-lookup"><span data-stu-id="7701c-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="7701c-219">K zabezpečení zprávy můžete použít libovolný typ přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="7701c-220">(V přenosovém režimu určuje transportní protokol typ přihlašovacích údajů klienta, které můžete použít.)</span><span class="sxs-lookup"><span data-stu-id="7701c-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="7701c-221">Přenos s přihlašovacími údaji zprávy</span><span class="sxs-lookup"><span data-stu-id="7701c-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="7701c-222">Třetí režim kombinuje nejlepší přenos i zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="7701c-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="7701c-223">V tomto režimu se zabezpečení přenosu používá k efektivnímu zajištění důvěrnosti a integrity každé zprávy.</span><span class="sxs-lookup"><span data-stu-id="7701c-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="7701c-224">Každá zpráva zároveň obsahuje data přihlašovacích údajů, která umožňují ověření zprávy.</span><span class="sxs-lookup"><span data-stu-id="7701c-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="7701c-225">Pomocí ověřování lze také implementovat autorizaci.</span><span class="sxs-lookup"><span data-stu-id="7701c-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="7701c-226">Při ověřování odesílatele je možné přístup k prostředkům udělit (nebo odepřít) podle identity odesilatele.</span><span class="sxs-lookup"><span data-stu-id="7701c-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="7701c-227">Zadání typu přihlašovacích údajů klienta a hodnoty přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="7701c-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="7701c-228">Po výběru režimu zabezpečení můžete zadat také typ přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="7701c-229">Typ přihlašovacích údajů klienta Určuje typ, který klient musí použít k ověření na serveru.</span><span class="sxs-lookup"><span data-stu-id="7701c-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="7701c-230">Ne všechny scénáře vyžadují typ přihlašovacích údajů klienta, ale.</span><span class="sxs-lookup"><span data-stu-id="7701c-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="7701c-231">Pomocí protokolu SSL přes protokol HTTP (HTTPS) se služba sama ověřuje pro klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="7701c-232">V rámci tohoto ověřování se certifikát služby pošle klientovi v procesu s názvem *vyjednávání*.</span><span class="sxs-lookup"><span data-stu-id="7701c-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="7701c-233">Přenos zabezpečený protokolem SSL zajišťuje důvěrnost všech zpráv.</span><span class="sxs-lookup"><span data-stu-id="7701c-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="7701c-234">Pokud vytváříte službu, která vyžaduje ověření klienta, volba typu pověření klienta závisí na vybraném přenosu a režimu.</span><span class="sxs-lookup"><span data-stu-id="7701c-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="7701c-235">Například použití přenosu HTTP a výběr režimu přenosu nabízí několik možností, jako jsou například Basic, Digest a další.</span><span class="sxs-lookup"><span data-stu-id="7701c-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="7701c-236">(Další informace o těchto typech přihlašovacích údajů najdete v tématu [Principy ověřování http](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span><span class="sxs-lookup"><span data-stu-id="7701c-236">(For more information about these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="7701c-237">Pokud vytváříte službu v doméně systému Windows, která bude k dispozici pouze pro jiné uživatele sítě, nejjednodušší je použít typ přihlašovacích údajů klienta systému Windows.</span><span class="sxs-lookup"><span data-stu-id="7701c-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="7701c-238">Je ale možné, že budete muset zadat službu s certifikátem.</span><span class="sxs-lookup"><span data-stu-id="7701c-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="7701c-239">To je znázorněno [v tématu Postupy: Zadejte hodnoty](../../../docs/framework/wcf/how-to-specify-client-credential-values.md)přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="7701c-240">Hodnoty přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="7701c-240">Credential Values</span></span>  
 <span data-ttu-id="7701c-241">*Hodnota přihlašovacích údajů* je skutečné pověření, které služba používá.</span><span class="sxs-lookup"><span data-stu-id="7701c-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="7701c-242">Po zadání typu přihlašovacích údajů možná budete muset službu nakonfigurovat se skutečnými přihlašovacími údaji.</span><span class="sxs-lookup"><span data-stu-id="7701c-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="7701c-243">Pokud jste vybrali Windows (a služba se spustí v doméně Windows), nezadáte skutečnou hodnotu přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="7701c-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="7701c-244">Identita</span><span class="sxs-lookup"><span data-stu-id="7701c-244">Identity</span></span>  
 <span data-ttu-id="7701c-245">V rámci WCF má pojem *identity* různé významy pro server a klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="7701c-246">V krátké době se při spuštění služby k kontextu zabezpečení po ověření přiřadí identita.</span><span class="sxs-lookup"><span data-stu-id="7701c-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="7701c-247">Chcete-li zobrazit skutečnou identitu, zkontrolujte <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> vlastnosti <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> <xref:System.ServiceModel.ServiceSecurityContext> a třídy.</span><span class="sxs-lookup"><span data-stu-id="7701c-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="7701c-248">Další informace najdete v tématu [jak: Projděte si kontext](../../../docs/framework/wcf/how-to-examine-the-security-context.md)zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7701c-248">For more information, see [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="7701c-249">Naproti tomu na straně klienta identity slouží k ověření služby.</span><span class="sxs-lookup"><span data-stu-id="7701c-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="7701c-250">V době návrhu může vývojář klienta nastavit [ \<identitu >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) elementu na hodnotu získanou ze služby.</span><span class="sxs-lookup"><span data-stu-id="7701c-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="7701c-251">V době běhu klient kontroluje hodnotu elementu oproti skutečné identitě služby.</span><span class="sxs-lookup"><span data-stu-id="7701c-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="7701c-252">Pokud se ověření nepovede, klient tuto komunikaci ukončí.</span><span class="sxs-lookup"><span data-stu-id="7701c-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="7701c-253">Hodnota může být hlavní název uživatele (UPN), pokud služba běží v rámci identity konkrétního uživatele nebo hlavního názvu služby (SPN), pokud se služba spouští pod účtem počítače.</span><span class="sxs-lookup"><span data-stu-id="7701c-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="7701c-254">Další informace najdete v tématu [Identita a ověřování služby](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7701c-254">For more information, see [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="7701c-255">Přihlašovací údaje můžou být taky certifikát nebo pole, které se našlo v certifikátu, který identifikuje certifikát.</span><span class="sxs-lookup"><span data-stu-id="7701c-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="7701c-256">Úrovně ochrany</span><span class="sxs-lookup"><span data-stu-id="7701c-256">Protection Levels</span></span>  
 <span data-ttu-id="7701c-257">Vlastnost `ProtectionLevel` se vyskytuje u několika tříd atributů (jako jsou <xref:System.ServiceModel.ServiceContractAttribute> <xref:System.ServiceModel.OperationContractAttribute> třídy a).</span><span class="sxs-lookup"><span data-stu-id="7701c-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="7701c-258">Úroveň ochrany je hodnota, která určuje, zda jsou zprávy (nebo části zpráv), které podporují službu, podepsané, podepsané a šifrované nebo odesílané bez signatur nebo šifrování.</span><span class="sxs-lookup"><span data-stu-id="7701c-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="7701c-259">Další informace o této vlastnosti naleznete v tématu [Principy úrovně ochrany](../../../docs/framework/wcf/understanding-protection-level.md)a pro programování příkladů najdete v tématu [How to: Nastavte vlastnost](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)ProtectionLevel.</span><span class="sxs-lookup"><span data-stu-id="7701c-259">For more information about the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="7701c-260">Další informace o návrhu kontraktu služby s `ProtectionLevel` kontextem najdete v tématu [Navrhování kontraktů služby](../../../docs/framework/wcf/designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="7701c-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7701c-261">Viz také:</span><span class="sxs-lookup"><span data-stu-id="7701c-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="7701c-262">Identita a ověřování služby</span><span class="sxs-lookup"><span data-stu-id="7701c-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="7701c-263">Princip úrovně ochrany</span><span class="sxs-lookup"><span data-stu-id="7701c-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)
- [<span data-ttu-id="7701c-264">Delegace a zosobnění</span><span class="sxs-lookup"><span data-stu-id="7701c-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="7701c-265">Navrhování kontraktů služby</span><span class="sxs-lookup"><span data-stu-id="7701c-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)
- [<span data-ttu-id="7701c-266">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="7701c-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)
- [<span data-ttu-id="7701c-267">Přehled zabezpečení</span><span class="sxs-lookup"><span data-stu-id="7701c-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)
- [<span data-ttu-id="7701c-268">Postupy: Nastavení vlastnosti ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="7701c-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="7701c-269">Postupy: Zabezpečení služby pomocí pověření systému Windows</span><span class="sxs-lookup"><span data-stu-id="7701c-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="7701c-270">Postupy: Nastavení režimu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="7701c-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)
- [<span data-ttu-id="7701c-271">Postupy: Zadejte typ přihlašovacích údajů klienta.</span><span class="sxs-lookup"><span data-stu-id="7701c-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="7701c-272">Postupy: Omezení přístupu pomocí třídy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="7701c-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="7701c-273">Postupy: Zosobnění klienta ve službě</span><span class="sxs-lookup"><span data-stu-id="7701c-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="7701c-274">Postupy: Projděte si kontext zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7701c-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)
