---
title: Navrhování kontraktů služby
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- service contracts [WCF]
ms.assetid: 8e89cbb9-ac84-4f0d-85ef-0eb6be0022fd
ms.openlocfilehash: 37639bfc71918dd92a2334f4076dc2b4d6ff9698
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54583191"
---
# <a name="designing-service-contracts"></a><span data-ttu-id="9f6a6-102">Navrhování kontraktů služby</span><span class="sxs-lookup"><span data-stu-id="9f6a6-102">Designing Service Contracts</span></span>
<span data-ttu-id="9f6a6-103">Toto téma popisuje, jakou servisní smlouvy se, jak jsou definovány, jaké operace jsou k dispozici (a důsledky pro základní výměny zpráv), jaké typy dat jsou používané a dalších problémů, které vám pomůžou navrhnout operace, které splňují požadavky na váš scénář.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-103">This topic describes what service contracts are, how they are defined, what operations are available (and the implications for the underlying message exchanges), what data types are used, and other issues that help you design operations that satisfy the requirements of your scenario.</span></span>  
  
## <a name="creating-a-service-contract"></a><span data-ttu-id="9f6a6-104">Vytvoření kontraktu služby</span><span class="sxs-lookup"><span data-stu-id="9f6a6-104">Creating a Service Contract</span></span>  
 <span data-ttu-id="9f6a6-105">Služby vystavují počet operací.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-105">Services expose a number of operations.</span></span> <span data-ttu-id="9f6a6-106">V aplikacích Windows Communication Foundation (WCF), definují operace tak, že vytvoření metody a označit ji atributem <xref:System.ServiceModel.OperationContractAttribute> atribut.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-106">In Windows Communication Foundation (WCF) applications, define the operations by creating a method and marking it with the <xref:System.ServiceModel.OperationContractAttribute> attribute.</span></span> <span data-ttu-id="9f6a6-107">Potom vytvořte smlouvy o poskytování služeb, seskupit dohromady vaše operace, buď deklarací v rámci rozhraní označené <xref:System.ServiceModel.ServiceContractAttribute> atribut, nebo je podle definice ve třídě s atributem stejné.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-107">Then, to create a service contract, group together your operations, either by declaring them within an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute> attribute, or by defining them in a class marked with the same attribute.</span></span> <span data-ttu-id="9f6a6-108">(Základní příklad naleznete v tématu [jak: Definování kontraktu služby](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).)</span><span class="sxs-lookup"><span data-stu-id="9f6a6-108">(For a basic example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).)</span></span>  
  
 <span data-ttu-id="9f6a6-109">Všechny metody, které nemají <xref:System.ServiceModel.OperationContractAttribute> atributu nejsou operace služby a nejsou přístupné služby WCF services.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-109">Any methods that do not have a <xref:System.ServiceModel.OperationContractAttribute> attribute are not service operations and are not exposed by WCF services.</span></span>  
  
 <span data-ttu-id="9f6a6-110">Toto téma popisuje následující body rozhodnutí při navrhování kontraktu služby:</span><span class="sxs-lookup"><span data-stu-id="9f6a6-110">This topic describes the following decision points when designing a service contract:</span></span>  
  
-   <span data-ttu-id="9f6a6-111">Určuje, zda použít třídy nebo rozhraní.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-111">Whether to use classes or interfaces.</span></span>  
  
-   <span data-ttu-id="9f6a6-112">Jak určit typy dat, které chcete k exchangi.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-112">How to specify the data types you want to exchange.</span></span>  
  
-   <span data-ttu-id="9f6a6-113">Typy exchange vzory, které můžete použít.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-113">The types of exchange patterns you can use.</span></span>  
  
-   <span data-ttu-id="9f6a6-114">Určuje, zda můžete provést explicitní zabezpečení požadavky součástí kontraktu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-114">Whether you can make explicit security requirements part of the contract.</span></span>  
  
-   <span data-ttu-id="9f6a6-115">Omezení pro operace vstupy a výstupy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-115">The restrictions for operation inputs and outputs.</span></span>  
  
## <a name="classes-or-interfaces"></a><span data-ttu-id="9f6a6-116">Třídy nebo rozhraní</span><span class="sxs-lookup"><span data-stu-id="9f6a6-116">Classes or Interfaces</span></span>  
 <span data-ttu-id="9f6a6-117">Třídy a rozhraní představují seskupení funkce, a proto i slouží k definování kontraktu služby WCF.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-117">Both classes and interfaces represent a grouping of functionality and, therefore, both can be used to define a WCF service contract.</span></span> <span data-ttu-id="9f6a6-118">Doporučujeme však použít rozhraní, protože kontraktů služby modelují přímo.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-118">However, it is recommended that you use interfaces because they directly model service contracts.</span></span> <span data-ttu-id="9f6a6-119">Bez implementace rozhraní definovat více než seskupení s určitým podpisy metod.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-119">Without an implementation, interfaces do no more than define a grouping of methods with certain signatures.</span></span> <span data-ttu-id="9f6a6-120">Implementovat rozhraní kontraktu služby a implementovali služby WCF.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-120">Implement a service contract interface and you have implemented a WCF service.</span></span>  
  
 <span data-ttu-id="9f6a6-121">Všechny výhody spravovaných rozhraních aplikována na rozhraní kontraktu služby:</span><span class="sxs-lookup"><span data-stu-id="9f6a6-121">All the benefits of managed interfaces apply to service contract interfaces:</span></span>  
  
-   <span data-ttu-id="9f6a6-122">Rozhraní kontraktu služby můžete rozšířit libovolný počet dalších rozhraní kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-122">Service contract interfaces can extend any number of other service contract interfaces.</span></span>  
  
-   <span data-ttu-id="9f6a6-123">Jeden třída může implementovat libovolný počet kontrakty služeb díky implementaci těchto rozhraní kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-123">A single class can implement any number of service contracts by implementing those service contract interfaces.</span></span>  
  
-   <span data-ttu-id="9f6a6-124">Implementace kontraktu služby můžete upravit tak, že změníte implementace rozhraní, zatímco kontrakt služby zůstává stejná.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-124">You can modify the implementation of a service contract by changing the interface implementation, while the service contract remains the same.</span></span>  
  
-   <span data-ttu-id="9f6a6-125">Verze můžete prostřednictvím implementace rozhraní staré a nové služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-125">You can version your service by implementing the old interface and the new one.</span></span> <span data-ttu-id="9f6a6-126">Staré klienti připojovat k původní verzi, zatímco novějších klientů může připojit k novější verzi.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-126">Old clients connect to the original version, while newer clients can connect to the newer version.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9f6a6-127">Při dědění z jiných rozhraní kontraktu služby, nelze přepsat vlastnosti operace, jako je název nebo obor názvů.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-127">When inheriting from other service contract interfaces, you cannot override operation properties, such as the name or namespace.</span></span> <span data-ttu-id="9f6a6-128">Pokud se pokusíte k tomu, vytvoříte novou operaci v aktuální kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-128">If you attempt to do so, you create a new operation in the current service contract.</span></span>  
  
 <span data-ttu-id="9f6a6-129">Příklad použití rozhraní pro vytvoření kontraktu a služby, najdete v části [jak: Vytvoření služby pomocí rozhraní kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-service-with-a-contract-interface.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-129">For an example of using an interface to create a service contract, see [How to: Create a Service with a Contract Interface](../../../docs/framework/wcf/feature-details/how-to-create-a-service-with-a-contract-interface.md).</span></span>  
  
 <span data-ttu-id="9f6a6-130">Ale můžete třídu a definování kontraktu služby ve stejnou dobu implementace tohoto kontraktu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-130">You can, however, use a class to define a service contract and implement that contract at the same time.</span></span> <span data-ttu-id="9f6a6-131">Výhoda vytváření vašich služeb s použitím <xref:System.ServiceModel.ServiceContractAttribute> a <xref:System.ServiceModel.OperationContractAttribute> přímo třídy a metody ve třídě, je rychlosti a jednoduchost.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-131">The advantage of creating your services by applying <xref:System.ServiceModel.ServiceContractAttribute> and <xref:System.ServiceModel.OperationContractAttribute> directly to the class and the methods on the class, respectively, is speed and simplicity.</span></span> <span data-ttu-id="9f6a6-132">Nevýhodou je, že spravované třídy nepodporují vícenásobnou dědičnost a díky tomu mohou pouze implementovat jeden kontrakt služby najednou.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-132">The disadvantages are that managed classes do not support multiple inheritance, and as a result they can only implement one service contract at a time.</span></span> <span data-ttu-id="9f6a6-133">Kromě toho všechny změny třídy nebo metody podpisy upraví veřejný kontrakt pro tuto službu, která bez úprav klientům zabránit používání služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-133">In addition, any modification to the class or method signatures modifies the public contract for that service, which can prevent unmodified clients from using your service.</span></span> <span data-ttu-id="9f6a6-134">Další informace najdete v tématu [implementace kontraktů služeb](../../../docs/framework/wcf/implementing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-134">For more information, see [Implementing Service Contracts](../../../docs/framework/wcf/implementing-service-contracts.md).</span></span>  
  
 <span data-ttu-id="9f6a6-135">Příklad, který používá třída pro vytvoření kontraktu služby a implementuje ve stejnou dobu, naleznete v tématu [jak: Vytvoření služby s třídou kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-135">For an example that uses a class to create a service contract and implements it at the same time, see [How to: Create a Service with a Contract Class](../../../docs/framework/wcf/feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span></span>  
  
 <span data-ttu-id="9f6a6-136">V tomto okamžiku by měla pochopit rozdíl mezi definování vašich kontrakt služby s použitím rozhraní a pomocí třídy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-136">At this point, you should understand the difference between defining your service contract by using an interface and by using a class.</span></span> <span data-ttu-id="9f6a6-137">Dalším krokem je rozhodování o tom, jaká data lze předat vpřed a zpět mezi službou a klienty.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-137">The next step is deciding what data can be passed back and forth between a service and its clients.</span></span>  
  
## <a name="parameters-and-return-values"></a><span data-ttu-id="9f6a6-138">Parametry a návratové hodnoty</span><span class="sxs-lookup"><span data-stu-id="9f6a6-138">Parameters and Return Values</span></span>  
 <span data-ttu-id="9f6a6-139">Každá operace má návratovou hodnotu a parametr, i v případě, že jde o `void`.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-139">Each operation has a return value and a parameter, even if these are `void`.</span></span> <span data-ttu-id="9f6a6-140">Ale na rozdíl od místní metody, ve kterém můžete předat odkazy na objekty z jednoho objektu do druhého, servisní operace nepředávejte odkazy na objekty.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-140">However, unlike a local method, in which you can pass references to objects from one object to another, service operations do not pass references to objects.</span></span> <span data-ttu-id="9f6a6-141">Místo toho předat kopie objekty.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-141">Instead, they pass copies of the objects.</span></span>  
  
 <span data-ttu-id="9f6a6-142">To je důležité, protože každý typ použit jako parametr nebo návratové hodnoty musí být serializovatelný; To znamená musí být možné převést objekt daného typu do datového proudu bajtů a z datového proudu bajtů do objektu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-142">This is significant because each type used in a parameter or return value must be serializable; that is, it must be possible to convert an object of that type into a stream of bytes and from a stream of bytes into an object.</span></span>  
  
 <span data-ttu-id="9f6a6-143">Primitivní typy jsou serializovatelné ve výchozím nastavení, jako jsou mnoho typů v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-143">Primitive types are serializable by default, as are many types in the .NET Framework.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9f6a6-144">Hodnota názvy parametrů v signatuře operace jsou součástí kontraktu a jsou malá a velká písmena.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-144">The value of the parameter names in the operation signature are part of the contract and are case sensitive.</span></span> <span data-ttu-id="9f6a6-145">Pokud chcete používat stejný název parametru místně, ale změňte název v publikovaných metadat, najdete v článku <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-145">If you want to use the same parameter name locally but modify the name in the published metadata, see the <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span></span>  
  
#### <a name="data-contracts"></a><span data-ttu-id="9f6a6-146">Kontrakty dat</span><span class="sxs-lookup"><span data-stu-id="9f6a6-146">Data Contracts</span></span>  
 <span data-ttu-id="9f6a6-147">Aplikace orientované na služby, jako je Windows Communication Foundation (WCF) aplikace jsou navržené pro spolupráci s nejširší počet klientských aplikací na Microsoft a jiné platformy než Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-147">Service-oriented applications like Windows Communication Foundation (WCF) applications are designed to interoperate with the widest possible number of client applications on both Microsoft and non-Microsoft platforms.</span></span> <span data-ttu-id="9f6a6-148">Pro nejširší možné spolupráci se doporučuje, abyste označili typů s <xref:System.Runtime.Serialization.DataContractAttribute> a <xref:System.Runtime.Serialization.DataMemberAttribute> atributy k vytvoření kontraktu dat, které je uvedeno v kontraktu služby, který popisuje data, která servisní operace. Exchange.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-148">For the widest possible interoperability, it is recommended that you mark your types with the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create a data contract, which is the portion of the service contract that describes the data that your service operations exchange.</span></span>  
  
 <span data-ttu-id="9f6a6-149">Kontrakty dat jsou smlouvy vyjádřit výslovný souhlas styl: Pokud výslovně atribut kontraktu dat bez typu nebo datový člen serializován.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-149">Data contracts are opt-in style contracts: No type or data member is serialized unless you explicitly apply the data contract attribute.</span></span> <span data-ttu-id="9f6a6-150">Kontrakty dat nesouvisí s obor přístupu spravovaného kódu: Privátní členy dat lze serializovat a odeslané jinde veřejně přístupná.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-150">Data contracts are unrelated to the access scope of the managed code: Private data members can be serialized and sent elsewhere to be accessed publicly.</span></span> <span data-ttu-id="9f6a6-151">(Příklad základní kontrakt dat, naleznete v tématu [jak: Vytvoření základního kontraktu dat pro třídu nebo strukturu](../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md).) WCF zpracovává definici základní zprávy protokolu SOAP, které umožňují funkce operace, jakož i serializace typů dat do a z těla zprávy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-151">(For a basic example of a data contract, see [How to: Create a Basic Data Contract for a Class or Structure](../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md).) WCF handles the definition of the underlying SOAP messages that enable the operation's functionality as well as the serialization of your data types into and out of the body of the messages.</span></span> <span data-ttu-id="9f6a6-152">Datové typy jsou serializovatelné, není potřeba uvažovat o základní infrastruktury serveru exchange zprávu při navrhování operací.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-152">As long as your data types are serializable, you do not need to think about the underlying message exchange infrastructure when designing your operations.</span></span>  
  
 <span data-ttu-id="9f6a6-153">I když používá Typická aplikace WCF <xref:System.Runtime.Serialization.DataContractAttribute> a <xref:System.Runtime.Serialization.DataMemberAttribute> atributy k vytvoření kontraktů dat pro operace, můžete použít další mechanismy serializace.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-153">Although the typical WCF application uses the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create data contracts for operations, you can use other serialization mechanisms.</span></span> <span data-ttu-id="9f6a6-154">Standardní <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> a <xref:System.Xml.Serialization.IXmlSerializable> mechanismy všechny fungují pro zpracování serializace datové typy do základní zprávy protokolu SOAP, které zajišťují z jedné aplikace do jiného.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-154">The standard <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> and <xref:System.Xml.Serialization.IXmlSerializable> mechanisms all work to handle the serialization of your data types into the underlying SOAP messages that carry them from one application to another.</span></span> <span data-ttu-id="9f6a6-155">Pokud vaše typy dat vyžadují speciální podporu, můžete použít další strategie serializace.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-155">You can employ more serialization strategies if your data types require special support.</span></span> <span data-ttu-id="9f6a6-156">Další informace o možnostech pro serializaci datových typů aplikací služby WCF, naleznete v tématu [zadání přenosu dat v kontraktech služeb](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-156">For more information about the choices for serialization of data types in WCF applications, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span></span>  
  
#### <a name="mapping-parameters-and-return-values-to-message-exchanges"></a><span data-ttu-id="9f6a6-157">Mapování parametrů a návratové hodnoty pro výměny zpráv</span><span class="sxs-lookup"><span data-stu-id="9f6a6-157">Mapping Parameters and Return Values to Message Exchanges</span></span>  
 <span data-ttu-id="9f6a6-158">Operací služby podporuje základní výměny zpráv SOAP, které přenášejí data aplikací vpřed a zpět, kromě dat vyžadované aplikací pro podporu určitých standard zabezpečení, transakce a funkcím souvisejícím s relace.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-158">Service operations are supported by an underlying exchange of SOAP messages that transfer application data back and forth, in addition to the data required by the application to support certain standard security, transaction, and session-related features.</span></span> <span data-ttu-id="9f6a6-159">Protože je to tento případ, Určuje podpis operace služby na určité základní *vzoru výměny zpráv* (MEP), které podporují přenos dat a funkce operace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-159">Because this is the case, the signature of a service operation dictates a certain underlying *message exchange pattern* (MEP) that can support the data transfer and the features an operation requires.</span></span> <span data-ttu-id="9f6a6-160">Můžete určit tři vzory v programovacího modelu WCF: požadavek nebo odpověď, jednosměrné a vzory duplexní zprávy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-160">You can specify three patterns in the WCF programming model: request/reply, one-way, and duplex message patterns.</span></span>  
  
##### <a name="requestreply"></a><span data-ttu-id="9f6a6-161">Žádost odpověď</span><span class="sxs-lookup"><span data-stu-id="9f6a6-161">Request/Reply</span></span>  
 <span data-ttu-id="9f6a6-162">Vzor požadavek nebo odpověď je jedním ve kterém odesílatel požadavku (klientská aplikace) obdrží odpověď, které jsou korelována žádost.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-162">A request/reply pattern is one in which a request sender (a client application) receives a reply with which the request is correlated.</span></span> <span data-ttu-id="9f6a6-163">Toto je výchozí MEP, protože podporuje operace, ve kterém jeden nebo více parametrů jsou předány operaci a návratová hodnota se předá zpět do volajícího.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-163">This is the default MEP because it supports an operation in which one or more parameters are passed to the operation and a return value is passed back to the caller.</span></span> <span data-ttu-id="9f6a6-164">Například následující C# příklad kódu ukazuje operaci služby na úrovni basic, která přijímá jeden řetězec a vrátí hodnotu typu string.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-164">For example, the following C# code example shows a basic service operation that takes one string and returns a string.</span></span>  
  
```csharp  
[OperationContractAttribute]  
string Hello(string greeting);  
```  
  
 <span data-ttu-id="9f6a6-165">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-165">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Function Hello (ByVal greeting As String) As String  
```  
  
 <span data-ttu-id="9f6a6-166">Tento podpis operace přikazuje formuláři základní výměně zpráv.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-166">This operation signature dictates the form of underlying message exchange.</span></span> <span data-ttu-id="9f6a6-167">Pokud žádná korelace, WCF nelze určit pro operaci, která je určená návratovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-167">If no correlation existed, WCF cannot determine for which operation the return value is intended.</span></span>  
  
 <span data-ttu-id="9f6a6-168">Všimněte si, že pokud zadáte jiný základní vzor zprávu, dokonce i operace služby, které vracejí `void` (`Nothing` v jazyce Visual Basic) jsou výměny zpráv žádost odpověď.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-168">Note that unless you specify a different underlying message pattern, even service operations that return `void` (`Nothing` in Visual Basic) are request/reply message exchanges.</span></span> <span data-ttu-id="9f6a6-169">Výsledek pro operaci je, že pokud klient asynchronně vyvolá operaci, klient se zastaví zpracovávání, dokud návratovou zprávu přijmout, i když se tato zpráva je prázdná v případě normální.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-169">The result for your operation is that unless a client invokes the operation asynchronously, the client stops processing until the return message is received, even though that message is empty in the normal case.</span></span> <span data-ttu-id="9f6a6-170">Následující C# příklad kódu ukazuje operaci, která nevrací, dokud klient přijal zprávu prázdnou odpověď.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-170">The following C# code example shows an operation that does not return until the client has received an empty message in response.</span></span>  
  
```csharp  
[OperationContractAttribute]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="9f6a6-171">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-171">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="9f6a6-172">V předchozím příkladu může zpomalit výkon klienta a rychlost odezvy, pokud operace trvá dlouhou dobu provádění, ale existují výhody operace požadavku/odpovědi dokonce i když se vrátí `void`.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-172">The preceding example can slow client performance and responsiveness if the operation takes a long time to perform, but there are advantages to request/reply operations even when they return `void`.</span></span> <span data-ttu-id="9f6a6-173">Nejobvyklejšími je, že mohou být chyb SOAP vrácena ve zprávě s odpovědí, který označuje, že nějaké chyby související se službou došlo v komunikaci nebo zpracování.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-173">The most obvious one is that SOAP faults can be returned in the response message, which indicates that some service-related error condition has occurred, whether in communication or processing.</span></span> <span data-ttu-id="9f6a6-174">Klientská aplikace, jako jsou předány chyb SOAP, které jsou uvedeny v servisní smlouvě <xref:System.ServiceModel.FaultException%601> objekt, kde parametr typu je typ zadaný v kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-174">SOAP faults that are specified in a service contract are passed to the client application as a <xref:System.ServiceModel.FaultException%601> object, where the type parameter is the type specified in the service contract.</span></span> <span data-ttu-id="9f6a6-175">To usnadňuje oznamující klientů o chybové stavy ve službách WCF.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-175">This makes notifying clients about error conditions in WCF services easy.</span></span> <span data-ttu-id="9f6a6-176">Další informace o výjimkách, chyby protokolu SOAP a zpracování chyb, naleznete v tématu [zadání a zpracování chyb v kontraktech a službách](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-176">For more information about exceptions, SOAP faults, and error handling, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span> <span data-ttu-id="9f6a6-177">Příklad požadavku/odpovědi služby a klienta najdete v tématu [jak: Vytvoření kontraktu požadavku a odpovědi](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-177">To see an example of a request/reply service and client, see [How to: Create a Request-Reply Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md).</span></span> <span data-ttu-id="9f6a6-178">Další informace o problémech se vzorem požadavek odpověď, naleznete v tématu [služby požadavku a odpovědi](../../../docs/framework/wcf/feature-details/request-reply-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-178">For more information about issues with the request-reply pattern, see [Request-Reply Services](../../../docs/framework/wcf/feature-details/request-reply-services.md).</span></span>  
  
##### <a name="one-way"></a><span data-ttu-id="9f6a6-179">Jednosměrná</span><span class="sxs-lookup"><span data-stu-id="9f6a6-179">One-way</span></span>  
 <span data-ttu-id="9f6a6-180">Pokud klienta aplikace služby WCF nesmí čekat na dokončení operace a nezpracovává chyb SOAP, operaci můžete zadat vzor jednosměrná zpráva.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-180">If the client of a WCF service application should not wait for the operation to complete and does not process SOAP faults, the operation can specify a one-way message pattern.</span></span> <span data-ttu-id="9f6a6-181">Jednosměrná operace je jednou ve kterém klienta vyvolá operaci a bude pokračovat zpracování po WCF zapisuje zprávu do sítě.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-181">A one-way operation is one in which a client invokes an operation and continues processing after WCF writes the message to the network.</span></span> <span data-ttu-id="9f6a6-182">Obvykle to znamená, že pokud je velmi velkých dat odesílaných v odchozí zprávě klient pokračuje v téměř okamžité spuštění (Pokud dojde k chybě odesílání dat).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-182">Typically this means that unless the data being sent in the outbound message is extremely large the client continues running almost immediately (unless there is an error sending the data).</span></span> <span data-ttu-id="9f6a6-183">Tento typ vzoru výměny zpráv podporuje chování podobných událostí z klienta aplikace služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-183">This type of message exchange pattern supports event-like behavior from a client to a service application.</span></span>  
  
 <span data-ttu-id="9f6a6-184">Výměna zpráv, ve které jedna zpráva se odešlou a žádný nemůže podporovat operaci služby, která určuje návratovou hodnotu jiné než `void`; v tomto případě <xref:System.InvalidOperationException> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-184">A message exchange in which one message is sent and none are received cannot support a service operation that specifies a return value other than `void`; in this case an <xref:System.InvalidOperationException> exception is thrown.</span></span>  
  
 <span data-ttu-id="9f6a6-185">Žádná vrácená zpráva také znamená, že může být žádné nastala chyba protokolu SOAP vrácena k označení chyby ve zpracování nebo komunikaci.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-185">No return message also means that there can be no SOAP fault returned to indicate any errors in processing or communication.</span></span> <span data-ttu-id="9f6a6-186">(Vzoru výměny zpráv duplexní komunikaci informace o chybě, když operace jsou Jednosměrná operace vyžaduje.)</span><span class="sxs-lookup"><span data-stu-id="9f6a6-186">(Communicating error information when operations are one-way operations requires a duplex message exchange pattern.)</span></span>  
  
 <span data-ttu-id="9f6a6-187">Chcete-li určit exchange jednosměrná zpráva pro operaci, která vrátí `void`, nastavte <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> vlastnost `true`, jako v následující C# příklad kódu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-187">To specify a one-way message exchange for an operation that returns `void`, set the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true`, as in the following C# code example.</span></span>  
  
```csharp  
[OperationContractAttribute(IsOneWay=true)]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="9f6a6-188">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-188">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute(IsOneWay := True)>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="9f6a6-189">Tato metoda je stejný jako předchozí příklad požadavku/odpovědi ale nastavení <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> vlastnost `true` znamená, že i když je metoda stejné, operace služby neodesílá návratovou zprávu a klienti se vrátí okamžitě jednou do vrstvy kanálu byl předán odchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-189">This method is identical to the preceding request/reply example, but setting the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true` means that although the method is identical, the service operation does not send a return message and clients return immediately once the outbound message has been handed to the channel layer.</span></span> <span data-ttu-id="9f6a6-190">Příklad najdete v tématu [jak: Vytvoření jednosměrného kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-190">For an example, see [How to: Create a One-Way Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md).</span></span> <span data-ttu-id="9f6a6-191">Další informace o vzoru jednosměrné, naleznete v tématu [One-Way služby](../../../docs/framework/wcf/feature-details/one-way-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-191">For more information about the one-way pattern, see [One-Way Services](../../../docs/framework/wcf/feature-details/one-way-services.md).</span></span>  
  
##### <a name="duplex"></a><span data-ttu-id="9f6a6-192">Duplex</span><span class="sxs-lookup"><span data-stu-id="9f6a6-192">Duplex</span></span>  
 <span data-ttu-id="9f6a6-193">Duplexní vzor charakterizován schopnost služby a klient pro odesílání zpráv k sobě navzájem nezávislé ať už pomocí jednosměrné nebo zasílání zpráv žádost odpověď.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-193">A duplex pattern is characterized by the ability of both the service and the client to send messages to each other independently whether using one-way or request/reply messaging.</span></span> <span data-ttu-id="9f6a6-194">Tato forma obousměrná komunikace je užitečné pro služby, které musí komunikovat přímo do klienta nebo pro asynchronní prostředí po obou stranách výměně zpráv, včetně podobně jako události.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-194">This form of two-way communication is useful for services that must communicate directly to the client or for providing an asynchronous experience to either side of a message exchange, including event-like behavior.</span></span>  
  
 <span data-ttu-id="9f6a6-195">Duplexní vzor je o něco složitější než požadavek/odpověď nebo jednosměrné vzorů z důvodu další mechanismus pro komunikaci s klientem.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-195">The duplex pattern is slightly more complex than the request/reply or one-way patterns because of the additional mechanism for communicating with the client.</span></span>  
  
 <span data-ttu-id="9f6a6-196">Navrhnout duplexního kontraktu, musí také navrhnout kontrakt zpětného volání a přiřazení typu tohoto kontraktu zpětného volání pro <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> vlastnost <xref:System.ServiceModel.ServiceContractAttribute> atribut, který označuje váš kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-196">To design a duplex contract, you must also design a callback contract and assign the type of that callback contract to the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> property of the <xref:System.ServiceModel.ServiceContractAttribute> attribute that marks your service contract.</span></span>  
  
 <span data-ttu-id="9f6a6-197">K implementaci vzoru duplexní, musíte vytvořit druhý rozhraní obsahující deklarace metody, které jsou volány v klientském počítači.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-197">To implement a duplex pattern, you must create a second interface that contains the method declarations that are called on the client.</span></span>  
  
 <span data-ttu-id="9f6a6-198">Příklad vytvoření služby a klienta, který přistupuje k této službě najdete v tématu [jak: Vytvoření duplexního kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md) a [jak: Přístup ke službám pomocí duplexního kontraktu](../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-198">For an example of creating a service, and a client that accesses that service, see [How to: Create a Duplex Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md) and [How to: Access Services with a Duplex Contract](../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span></span> <span data-ttu-id="9f6a6-199">Pracovní ukázku najdete v tématu [duplexní](../../../docs/framework/wcf/samples/duplex.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-199">For a working sample, see [Duplex](../../../docs/framework/wcf/samples/duplex.md).</span></span> <span data-ttu-id="9f6a6-200">Další informace o problémech s využitím duplexní kontrakty najdete v tématu [duplexní služby](../../../docs/framework/wcf/feature-details/duplex-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-200">For more information about issues using duplex contracts, see [Duplex Services](../../../docs/framework/wcf/feature-details/duplex-services.md).</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="9f6a6-201">Když služba obdrží zprávu duplexní, dohlíží na `ReplyTo` elementu v této příchozí zprávy k určení, kam chcete odeslat odpověď.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-201">When a service receives a duplex message, it looks at the `ReplyTo` element in that incoming message to determine where to send the reply.</span></span> <span data-ttu-id="9f6a6-202">Pokud není zabezpečený kanál, který se používá pro příjem zprávy, pak nedůvěryhodného klienta může odeslat škodlivý zprávu s cílový počítač `ReplyTo`, vedoucí k odepření služby (DOS) tento cílový počítač.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-202">If the channel that is used to receive the message is not secured, then an untrusted client could send a malicious message with a target machine's `ReplyTo`, leading to a denial of service (DOS) of that target machine.</span></span>  
  
##### <a name="out-and-ref-parameters"></a><span data-ttu-id="9f6a6-203">Parametry Ref a Out</span><span class="sxs-lookup"><span data-stu-id="9f6a6-203">Out and Ref Parameters</span></span>  
 <span data-ttu-id="9f6a6-204">Ve většině případů můžete použít `in` parametry (`ByVal` v jazyce Visual Basic) a `out` a `ref` parametry (`ByRef` v jazyce Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-204">In most cases, you can use `in` parameters (`ByVal` in Visual Basic) and `out` and `ref` parameters (`ByRef` in Visual Basic).</span></span> <span data-ttu-id="9f6a6-205">Protože obě `out` a `ref` parametrů označuje, že data jsou vrácena z operace, podpis operace, jako je například následující Určuje, že operace požadavku/odpovědi je vyžadována, i když se podpis operace vrátí `void`.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-205">Because both `out` and `ref` parameters indicate that data is returned from an operation, an operation signature such as the following specifies that a request/reply operation is required even though the operation signature returns `void`.</span></span>  
  
```csharp  
[ServiceContractAttribute]  
public interface IMyContract  
{  
  [OperationContractAttribute]  
  public void PopulateData(ref CustomDataType data);  
}  
```  
  
 <span data-ttu-id="9f6a6-206">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-206">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface IMyContract  
  <OperationContractAttribute()> _  
  Public Sub PopulateData(ByRef data As CustomDataType)  
End Interface  
```  
  
 <span data-ttu-id="9f6a6-207">Jedinou výjimkou jsou případy, ve kterých má svůj podpis danou strukturu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-207">The only exceptions are those cases in which your signature has a particular structure.</span></span> <span data-ttu-id="9f6a6-208">Například můžete použít <xref:System.ServiceModel.NetMsmqBinding> vazby ke komunikaci s klienty pouze tehdy, pokud metoda používá k deklaraci operace vrátí `void`; může existovat žádné výstupní hodnota, zda je návratová hodnota `ref`, nebo `out` parametru.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-208">For example, you can use the <xref:System.ServiceModel.NetMsmqBinding> binding to communicate with clients only if the method used to declare an operation returns `void`; there can be no output value, whether it is a return value, `ref`, or `out` parameter.</span></span>  
  
 <span data-ttu-id="9f6a6-209">Kromě toho pomocí `out` nebo `ref` parametry vyžaduje, aby operace měly základní odpověď zpět provádět změněný objekt.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-209">In addition, using `out` or `ref` parameters requires that the operation have an underlying response message to carry back the modified object.</span></span> <span data-ttu-id="9f6a6-210">Pokud vaše operace je jednosměrná operace <xref:System.InvalidOperationException> je vyvolána výjimka za běhu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-210">If your operation is a one-way operation, an <xref:System.InvalidOperationException> exception is thrown at runtime.</span></span>  
  
### <a name="specify-message-protection-level-on-the-contract"></a><span data-ttu-id="9f6a6-211">Zadejte úroveň ochrany zprávy kontraktu</span><span class="sxs-lookup"><span data-stu-id="9f6a6-211">Specify Message Protection Level on the Contract</span></span>  
 <span data-ttu-id="9f6a6-212">Při navrhování vaší smlouvy, musíte se rovněž rozhodnout úroveň ochrany zprávy služeb, které implementují vaše smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-212">When designing your contract, you must also decide the message protection level of services that implement your contract.</span></span> <span data-ttu-id="9f6a6-213">To je nezbytné pouze v případě, že zabezpečení zprávy se použije pro vazbu v koncovém bodě této smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-213">This is necessary only if message security is applied to the binding in the contract's endpoint.</span></span> <span data-ttu-id="9f6a6-214">Pokud vazba má zabezpečení vypnuto (tj. Pokud vazeb poskytovaných systémem nastaví <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> na hodnotu <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>) a není nutné při rozhodování o úroveň ochrany zprávy pro kontrakt.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-214">If the binding has security turned off (that is, if the system-provided binding sets the <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> to the value <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>) then you do not have to decide on the message protection level for the contract.</span></span> <span data-ttu-id="9f6a6-215">Ve většině případů vazeb poskytovaných systémem pomocí zabezpečení na úrovni zprávy použít poskytnout dostatečnou úroveň ochrany a není nutné vzít v úvahu úrovně ochrany pro každou operaci nebo pro každou zprávu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-215">In most cases, system-provided bindings with message-level security applied provide a sufficient protection level and you do not have to consider the protection level for each operation or for each message.</span></span>  
  
 <span data-ttu-id="9f6a6-216">Úroveň ochrany je hodnota, která určuje, zda zprávy (nebo částí zprávy), které podporují službu jsou podepsané, podepsaný a zašifrovaný nebo odeslán bez informace o podpisy nebo šifrování.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-216">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="9f6a6-217">Úroveň ochrany lze nastavit v různých oborech: Na úrovni služby pro konkrétní operace, zprávy v rámci této operace nebo část zprávy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-217">The protection level can be set at various scopes: At the service level, for a particular operation, for a message within that operation, or a message part.</span></span> <span data-ttu-id="9f6a6-218">Pokud explicitně přepisuje se stanou hodnoty nastavené na jeden obor výchozí hodnota pro menší obory.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-218">Values set at one scope become the default value for smaller scopes unless explicitly overridden.</span></span> <span data-ttu-id="9f6a6-219">Pokud konfiguraci vazby nelze zadat úroveň ochrany vyžaduje minimální pro kontrakt, je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-219">If a binding configuration cannot provide the required minimum protection level for the contract, an exception is thrown.</span></span> <span data-ttu-id="9f6a6-220">A když žádné hodnoty pro úroveň ochrany jsou explicitně nastavené ve smlouvě, konfigurace vazby řídí úroveň ochrany pro všechny zprávy, pokud vazby zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-220">And when no protection level values are explicitly set on the contract, the binding configuration controls the protection level for all messages if the binding has message security.</span></span> <span data-ttu-id="9f6a6-221">Toto je výchozí chování.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-221">This is the default behavior.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9f6a6-222">Rozhodování o tom, zda chcete explicitně nastavit různé obory kontraktu na nižší než úroveň plná ochrana <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> je obecně rozhodnutí, které obchoduje určitý stupeň zabezpečení pro zajištění zvýšeného výkonu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-222">Deciding whether to explicitly set various scopes of a contract to less than the full protection level of <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> is generally a decision that trades some degree of security for increased performance.</span></span> <span data-ttu-id="9f6a6-223">V těchto případech musí vaše rozhodnutí točí kolem operací a hodnota data, která si vyměňují.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-223">In these cases, your decisions must revolve around your operations and the value of the data they exchange.</span></span> <span data-ttu-id="9f6a6-224">Další informace najdete v tématu [zabezpečení služby](../../../docs/framework/wcf/securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-224">For more information, see [Securing Services](../../../docs/framework/wcf/securing-services.md).</span></span>  
  
 <span data-ttu-id="9f6a6-225">Například následující příklad kódu nemá nastaven buď <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> nebo <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> vlastnost kontraktu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-225">For example, the following code example does not set either the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> or the <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> property on the contract.</span></span>  
  
```csharp  
[ServiceContract]  
public interface ISampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute]  
  public int GetInt();    
}  
```  
  
 <span data-ttu-id="9f6a6-226">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-226">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface ISampleService  
  
  <OperationContractAttribute()> _  
  Public Function GetString()As String  
  
  <OperationContractAttribute()> _  
  Public Function GetData() As Integer  
  
End Interface  
```  
  
 <span data-ttu-id="9f6a6-227">Při interakci s `ISampleService` implementace v koncovém bodu s výchozím <xref:System.ServiceModel.WSHttpBinding> (výchozí hodnota <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, což je <xref:System.ServiceModel.SecurityMode.Message>), všechny zprávy jsou zašifrované a podepsán, protože to je výchozí úroveň ochrany.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-227">When interacting with an `ISampleService` implementation in an endpoint with a default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>), all messages are encrypted and signed because this is the default protection level.</span></span> <span data-ttu-id="9f6a6-228">Ale, když `ISampleService` služba se používá s výchozím <xref:System.ServiceModel.BasicHttpBinding> (výchozí hodnota <xref:System.ServiceModel.SecurityMode>, což je <xref:System.ServiceModel.SecurityMode.None>), všechny zprávy se odesílají jako text, protože není žádné zabezpečení pro tuto vazbu, a proto ignorovány úroveň ochrany (to znamená, zprávy jsou šifrovaná, ani podepsané).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-228">However, when an `ISampleService` service is used with a default <xref:System.ServiceModel.BasicHttpBinding> (the default <xref:System.ServiceModel.SecurityMode>, which is <xref:System.ServiceModel.SecurityMode.None>), all messages are sent as text because there is no security for this binding and so the protection level is ignored (that is, the messages are neither encrypted nor signed).</span></span> <span data-ttu-id="9f6a6-229">Pokud <xref:System.ServiceModel.SecurityMode> byl změněn na <xref:System.ServiceModel.SecurityMode.Message>, pak by se tyto zprávy zašifrovaná a podepsaná (protože teď, který bude vazby výchozí úroveň ochrany).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-229">If the <xref:System.ServiceModel.SecurityMode> was changed to <xref:System.ServiceModel.SecurityMode.Message>, then these messages would be encrypted and signed (because that would now be the binding's default protection level).</span></span>  
  
 <span data-ttu-id="9f6a6-230">Pokud chcete explicitně zadat nebo upravit požadavky na ochranu pro vaše smlouvy, nastavte <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> vlastnost (nebo některý z `ProtectionLevel` vlastnosti na menší rozsah) na úrovni vyžaduje váš kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-230">If you want to explicitly specify or adjust the protection requirements for your contract, set the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> property (or any of the `ProtectionLevel` properties at a smaller scope) to the level your service contract requires.</span></span> <span data-ttu-id="9f6a6-231">V takovém případě pomocí explicitní nastavení vyžaduje, aby připojení pro podporu tohoto nastavení minimálně pro obor použít.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-231">In this case, using an explicit setting requires the binding to support that setting at a minimum for the scope used.</span></span> <span data-ttu-id="9f6a6-232">Například následující příklad kódu určuje jeden <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> hodnotu explicitně, pro `GetGuid` operace.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-232">For example, the following code example specifies one <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> value explicitly, for the `GetGuid` operation.</span></span>  
  
```csharp  
[ServiceContract]  
public interface IExplicitProtectionLevelSampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.None)]  
  public int GetInt();    
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.EncryptAndSign)]  
  public int GetGuid();    
}  
```  
  
 <span data-ttu-id="9f6a6-233">Níže je ekvivalentní kódu jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-233">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContract()> _   
Public Interface IExplicitProtectionLevelSampleService   
    <OperationContract()> _   
    Public Function GetString() As String   
    End Function   
  
    <OperationContract(ProtectionLevel := ProtectionLevel.None)> _   
    Public Function GetInt() As Integer   
    End Function   
  
    <OperationContractAttribute(ProtectionLevel := ProtectionLevel.EncryptAndSign)> _   
    Public Function GetGuid() As Integer   
    End Function   
  
End Interface  
```  
  
 <span data-ttu-id="9f6a6-234">Služba, která implementuje to `IExplicitProtectionLevelSampleService` smlouvy a má koncový bod, který používá výchozí <xref:System.ServiceModel.WSHttpBinding> (výchozí hodnota <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, což je <xref:System.ServiceModel.SecurityMode.Message>) má následující chování:</span><span class="sxs-lookup"><span data-stu-id="9f6a6-234">A service that implements this `IExplicitProtectionLevelSampleService` contract and has an endpoint that uses the default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>) has the following behavior:</span></span>  
  
-   <span data-ttu-id="9f6a6-235">`GetString` Operace zprávy jsou zašifrovaná a podepsaná.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-235">The `GetString` operation messages are encrypted and signed.</span></span>  
  
-   <span data-ttu-id="9f6a6-236">`GetInt` Operace zprávy jsou odeslány jako nešifrovaný a bez znaménka (to znamená, plain) text.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-236">The `GetInt` operation messages are sent as unencrypted and unsigned (that is, plain) text.</span></span>  
  
-   <span data-ttu-id="9f6a6-237">`GetGuid` Operace <xref:System.Guid?displayProperty=nameWithType> se vrátí ve zprávě, která je zašifrovaná a podepsaná.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-237">The `GetGuid` operation <xref:System.Guid?displayProperty=nameWithType> is returned in a message that is encrypted and signed.</span></span>  
  
 <span data-ttu-id="9f6a6-238">Další informace o úrovních ochrany a způsob jejich použití naleznete v tématu [úroveň ochrany Principy](../../../docs/framework/wcf/understanding-protection-level.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-238">For more information about protection levels and how to use them, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md).</span></span> <span data-ttu-id="9f6a6-239">Další informace o zabezpečení najdete v tématu [zabezpečení služby](../../../docs/framework/wcf/securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-239">For more information about security, see [Securing Services](../../../docs/framework/wcf/securing-services.md).</span></span>  
  
##### <a name="other-operation-signature-requirements"></a><span data-ttu-id="9f6a6-240">Další požadavky podpis operace</span><span class="sxs-lookup"><span data-stu-id="9f6a6-240">Other Operation Signature Requirements</span></span>  
 <span data-ttu-id="9f6a6-241">Některé funkce aplikace vyžadují konkrétní druh operace podpisu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-241">Some application features require a particular kind of operation signature.</span></span> <span data-ttu-id="9f6a6-242">Například <xref:System.ServiceModel.NetMsmqBinding> vazba podporuje odolných služeb a klientů, ve kterých můžete aplikaci restartujte uprostřed komunikace a pokračovat tam, kde skončila bez chybí nějaké zprávy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-242">For example, the <xref:System.ServiceModel.NetMsmqBinding> binding supports durable services and clients, in which an application can restart in the middle of communication and pick up where it left off without missing any messages.</span></span> <span data-ttu-id="9f6a6-243">(Další informace najdete v tématu [fronty ve WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).) Trvalý operace ale přijme jenom jeden `in` parametr a nemají žádnou návratovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-243">(For more information, see [Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).) However, durable operations must take only one `in` parameter and have no return value.</span></span>  
  
 <span data-ttu-id="9f6a6-244">Dalším příkladem je použití <xref:System.IO.Stream> typů v operacích.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-244">Another example is the use of <xref:System.IO.Stream> types in operations.</span></span> <span data-ttu-id="9f6a6-245">Protože <xref:System.IO.Stream> parametr zahrnuje obsah celé zprávy, pokud vstup nebo výstup (to znamená, `ref` parametr, `out` parametr nebo návratovou hodnotu) je typu <xref:System.IO.Stream>, pak musí být pouze vstupní nebo výstupní zadané v vaší operace.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-245">Because the <xref:System.IO.Stream> parameter includes the entire message body, if an input or an output (that is, `ref` parameter, `out` parameter, or return value) is of type <xref:System.IO.Stream>, then it must be the only input or output specified in your operation.</span></span> <span data-ttu-id="9f6a6-246">Kromě toho, parametr nebo návratový typ musí být buď <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType>, nebo <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-246">In addition, the parameter or return type must be either <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType>, or <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span></span> <span data-ttu-id="9f6a6-247">Další informace o datových proudů, naleznete v tématu [velkých objemů dat a datových proudů](../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="9f6a6-247">For more information about streams, see [Large Data and Streaming](../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span></span>  
  
##### <a name="names-namespaces-and-obfuscation"></a><span data-ttu-id="9f6a6-248">Názvy oborů názvů a obfuskace</span><span class="sxs-lookup"><span data-stu-id="9f6a6-248">Names, Namespaces, and Obfuscation</span></span>  
 <span data-ttu-id="9f6a6-249">Názvy a obory názvů typů .NET v definici smluv a operace jsou významné po smluv se převedou na WSDL a pokud se vytváří a odesílají zprávy kontraktu.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-249">The names and namespaces of the .NET types in the definition of contracts and operations are significant when contracts are converted into WSDL and when contract messages are created and sent.</span></span> <span data-ttu-id="9f6a6-250">Proto důrazně doporučujeme, že názvy kontraktu služby a obory názvů jsou explicitně nastavené pomocí `Name` a `Namespace` vlastnosti všechny podpůrné smlouvy atributy, jako <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>,  <xref:System.Runtime.Serialization.DataMemberAttribute>a další atributy smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-250">Therefore, it is strongly recommended that service contract names and namespaces are explicitly set using the `Name` and `Namespace` properties of all supporting contract attributes such as the <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>,  <xref:System.Runtime.Serialization.DataMemberAttribute>, and other contract attributes.</span></span>  
  
 <span data-ttu-id="9f6a6-251">Jeden výsledek tohoto je, že pokud nejsou explicitně nastavit názvy a obory názvů, použití IL obfuskace sestavení mění názvy typů kontraktu a obory názvů a upravené WSDL a výměny při přenosu, které obvykle za následek.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-251">One result of this is that if the names and namespaces are not explicitly set, the use of IL obfuscation on the assembly alters the contract type names and namespaces and results in modified WSDL and wire exchanges that typically fail.</span></span> <span data-ttu-id="9f6a6-252">Pokud není nastaveno smlouvy názvy a obory názvů explicitně, ale v úmyslu použít obfuskace, použijte <xref:System.Reflection.ObfuscationAttribute> a <xref:System.Reflection.ObfuscateAssemblyAttribute> atributů, které mají-li zabránit úpravy kontrakt zadejte názvy a obory názvů.</span><span class="sxs-lookup"><span data-stu-id="9f6a6-252">If you do not set the contract names and namespaces explicitly but do intend to use obfuscation, use the <xref:System.Reflection.ObfuscationAttribute> and <xref:System.Reflection.ObfuscateAssemblyAttribute> attributes to prevent the modification of the contract type names and namespaces.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9f6a6-253">Viz také:</span><span class="sxs-lookup"><span data-stu-id="9f6a6-253">See also</span></span>
- [<span data-ttu-id="9f6a6-254">Postupy: Vytvoření kontraktu požadavku a odpovědi</span><span class="sxs-lookup"><span data-stu-id="9f6a6-254">How to: Create a Request-Reply Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md)
- [<span data-ttu-id="9f6a6-255">Postupy: Vytvoření jednosměrného kontraktu</span><span class="sxs-lookup"><span data-stu-id="9f6a6-255">How to: Create a One-Way Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md)
- [<span data-ttu-id="9f6a6-256">Postupy: Vytvoření duplexního kontraktu</span><span class="sxs-lookup"><span data-stu-id="9f6a6-256">How to: Create a Duplex Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md)
- [<span data-ttu-id="9f6a6-257">Určování přenosu dat v kontraktech služby</span><span class="sxs-lookup"><span data-stu-id="9f6a6-257">Specifying Data Transfer in Service Contracts</span></span>](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)
- [<span data-ttu-id="9f6a6-258">Určování a zpracování chyb v kontraktech a službách</span><span class="sxs-lookup"><span data-stu-id="9f6a6-258">Specifying and Handling Faults in Contracts and Services</span></span>](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)
- [<span data-ttu-id="9f6a6-259">Použití relací</span><span class="sxs-lookup"><span data-stu-id="9f6a6-259">Using Sessions</span></span>](../../../docs/framework/wcf/using-sessions.md)
- [<span data-ttu-id="9f6a6-260">Synchronní a asynchronní operace</span><span class="sxs-lookup"><span data-stu-id="9f6a6-260">Synchronous and Asynchronous Operations</span></span>](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)
- [<span data-ttu-id="9f6a6-261">Spolehlivé služby</span><span class="sxs-lookup"><span data-stu-id="9f6a6-261">Reliable Services</span></span>](../../../docs/framework/wcf/reliable-services.md)
- [<span data-ttu-id="9f6a6-262">Služby a transakce</span><span class="sxs-lookup"><span data-stu-id="9f6a6-262">Services and Transactions</span></span>](../../../docs/framework/wcf/services-and-transactions.md)
