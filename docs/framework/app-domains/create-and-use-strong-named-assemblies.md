---
title: Vytváření a používání sestavení se silným názvem
ms.date: 08/01/2017
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET Framework], signing
- strong-named assemblies, scenarios
- assemblies [.NET Framework], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 479307a0bdee162103f798e5f852cd20f259811e
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64607685"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="66661-102">Vytváření a používání sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="66661-102">Create and use strong-named assemblies</span></span>

<span data-ttu-id="66661-103">Silný název se skládá z identity sestavení – jeho jednoduchý textový název, číslo verze a informace o jazykové verzi (Pokud je poskytnuta) – plus veřejného klíče a digitální podpis.</span><span class="sxs-lookup"><span data-stu-id="66661-103">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="66661-104">Je vygenerován ze souboru sestavení pomocí odpovídajícího soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="66661-104">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="66661-105">(Tento soubor sestavení obsahuje manifest sestavení, který obsahuje názvy a hash hodnoty všech souborů, které tvoří sestavení).</span><span class="sxs-lookup"><span data-stu-id="66661-105">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="66661-106">Nespoléhejte na silných názvů pro zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="66661-106">Do not rely on strong names for security.</span></span> <span data-ttu-id="66661-107">Poskytují jedinečné identity.</span><span class="sxs-lookup"><span data-stu-id="66661-107">They provide a unique identity only.</span></span>

<span data-ttu-id="66661-108">Sestavení se silným názvem lze použít pouze typy z jiných sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-108">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="66661-109">V opačném případě by dojít k ohrožení integrity sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-109">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="66661-110">Scénář silným názvem</span><span class="sxs-lookup"><span data-stu-id="66661-110">Strong name scenario</span></span>

<span data-ttu-id="66661-111">Následující scénář popisuje proces podepisování sestavení silným názvem a pozdější odkazování s tímto názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-111">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="66661-112">Sestavení A vytvoření se silným názvem pomocí jedné z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="66661-112">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="66661-113">Použití vývojového prostředí, které podporuje vytváření silných názvů, jako je Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="66661-113">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="66661-114">Vytvoření páru kryptografických klíčů pomocí [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) a přiřazení páru klíčů pro sestavení pomocí kompilátoru příkazového řádku nebo [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="66661-114">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="66661-115">Windows Software Development Kit (SDK) poskytuje Sn.exe a Al.exe.</span><span class="sxs-lookup"><span data-stu-id="66661-115">The Windows Software Development Kit (SDK) provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="66661-116">Vývojové prostředí nebo nástroj podepíše hodnota hash souboru, který obsahuje manifest sestavení s privátním klíčem pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="66661-116">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="66661-117">Tento digitální podpis je uložen v přenosné spustitelné (PE) souboru, který obsahuje manifest sestavení A.</span><span class="sxs-lookup"><span data-stu-id="66661-117">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="66661-118">Sestavení B je příjemce sestavení A. Referenční části manifestu sestavení Assembly B obsahuje token, který představuje sestavení A veřejný klíč.</span><span class="sxs-lookup"><span data-stu-id="66661-118">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="66661-119">Token je část veřejného klíče a používá místo vlastního klíče pro úsporu místa.</span><span class="sxs-lookup"><span data-stu-id="66661-119">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="66661-120">Modul common language runtime ověří podpis silného názvu, když sestavení je umístěn v globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="66661-120">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="66661-121">Při vytváření vazby pomocí silného názvu v době běhu, modul common language runtime porovná s klíčem uloženým v manifestu sestavení B s klíč používaný ke generování silného názvu pro sestavení A. Pokud jsou splněné zabezpečení rozhraní .NET Framework a vazba úspěšná, sestavení Assembly B obsahuje záruku, že bylo neoprávněně manipulováno s bity sestavení a, že tyto bity skutečně pocházejí od vývojářů jazyka sestavení A.</span><span class="sxs-lookup"><span data-stu-id="66661-121">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET Framework security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="66661-122">Tento scénář nezabývá problémy s důvěryhodností.</span><span class="sxs-lookup"><span data-stu-id="66661-122">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="66661-123">Sestavení mohou obsahovat úplnou signatur Microsoft Authenticode kromě silným názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-123">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="66661-124">Podpisů Authenticode selhalo zahrnout certifikát, který vytváří vztah důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="66661-124">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="66661-125">Je důležité si uvědomit, že silné názvy nevyžadují kód tímto způsobem podepsat.</span><span class="sxs-lookup"><span data-stu-id="66661-125">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="66661-126">Silné názvy poskytují jenom jedinečné identity.</span><span class="sxs-lookup"><span data-stu-id="66661-126">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="66661-127">Obejít ověřování podpisů důvěryhodných sestavení</span><span class="sxs-lookup"><span data-stu-id="66661-127">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="66661-128">Počínaje [!INCLUDE[net_v35SP1_long](../../../includes/net-v35sp1-long-md.md)], podpisy se silným názvem nejsou ověřovány, pokud je sestavení načteno do domény úplného vztahu důvěryhodnosti aplikace, jako je například výchozí domény aplikace pro `MyComputer` zóny.</span><span class="sxs-lookup"><span data-stu-id="66661-128">Starting with the [!INCLUDE[net_v35SP1_long](../../../includes/net-v35sp1-long-md.md)], strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="66661-129">To se označuje jako silného názvu obejít funkce.</span><span class="sxs-lookup"><span data-stu-id="66661-129">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="66661-130">V prostředí úplného vztahu důvěryhodnosti vyžaduje pro <xref:System.Security.Permissions.StrongNameIdentityPermission> vždy úspěšné pro podepsané sestavení úplného vztahu důvěryhodnosti, bez ohledu na jejich podpisu.</span><span class="sxs-lookup"><span data-stu-id="66661-130">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="66661-131">Funkce obejití silného názvu se vyhnete zbytečnou režii ověření podpisu se silným názvem sestavení úplného vztahu důvěryhodnosti v takovém případě umožňuje sestavení, které chcete načíst rychleji.</span><span class="sxs-lookup"><span data-stu-id="66661-131">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="66661-132">Funkce obejití vztahuje na všechny sestavení je podepsáno silným názvem a, který má následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="66661-132">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="66661-133">Plně důvěryhodné bez <xref:System.Security.Policy.StrongName> důkazy (třeba `MyComputer` legitimace zóny).</span><span class="sxs-lookup"><span data-stu-id="66661-133">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="66661-134">Načíst do plně důvěryhodné <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="66661-134">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="66661-135">Načtené z umístění pod <xref:System.AppDomainSetup.ApplicationBase%2A> vlastnost, která <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="66661-135">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="66661-136">Není zpožděním.</span><span class="sxs-lookup"><span data-stu-id="66661-136">Not delay-signed.</span></span>

<span data-ttu-id="66661-137">Tuto funkci můžete zakázat pro jednotlivé aplikace nebo pro počítač.</span><span class="sxs-lookup"><span data-stu-id="66661-137">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="66661-138">Zobrazit [jak: Zákaz funkce obejití silného názvu](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md).</span><span class="sxs-lookup"><span data-stu-id="66661-138">See [How to: Disable the Strong-Name Bypass Feature](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="66661-139">Související témata</span><span class="sxs-lookup"><span data-stu-id="66661-139">Related topics</span></span>

|<span data-ttu-id="66661-140">Název</span><span class="sxs-lookup"><span data-stu-id="66661-140">Title</span></span>|<span data-ttu-id="66661-141">Popis</span><span class="sxs-lookup"><span data-stu-id="66661-141">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="66661-142">Postupy: Vytvoření páru veřejného a privátního klíče</span><span class="sxs-lookup"><span data-stu-id="66661-142">How to: Create a Public-Private Key Pair</span></span>](../../../docs/framework/app-domains/how-to-create-a-public-private-key-pair.md)|<span data-ttu-id="66661-143">Popisuje postup vytvoření páru kryptografických klíčů pro podepsání sestavení.</span><span class="sxs-lookup"><span data-stu-id="66661-143">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="66661-144">Postupy: Podepsání sestavení silným názvem</span><span class="sxs-lookup"><span data-stu-id="66661-144">How to: Sign an Assembly with a Strong Name</span></span>](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md)|<span data-ttu-id="66661-145">Popisuje, jak vytvořit sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-145">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="66661-146">Vylepšené silné názvy</span><span class="sxs-lookup"><span data-stu-id="66661-146">Enhanced Strong Naming</span></span>](../../../docs/framework/app-domains/enhanced-strong-naming.md)|<span data-ttu-id="66661-147">Popisuje vylepšení silných názvů v [!INCLUDE[net_v45](../../../includes/net-v45-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66661-147">Describes enhancements to strong-names in the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)].</span></span>|
|[<span data-ttu-id="66661-148">Postupy: Odkazování na sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="66661-148">How to: Reference a Strong-Named Assembly</span></span>](../../../docs/framework/app-domains/how-to-reference-a-strong-named-assembly.md)|<span data-ttu-id="66661-149">Popisuje, jak odkazovat na typy a prostředky v sestavení se silným názvem v době kompilace nebo běhu.</span><span class="sxs-lookup"><span data-stu-id="66661-149">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="66661-150">Postupy: Zákaz funkce obejití silného názvu</span><span class="sxs-lookup"><span data-stu-id="66661-150">How to: Disable the Strong-Name Bypass Feature</span></span>](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md)|<span data-ttu-id="66661-151">Popisuje, jak zakázat funkci obchází ověření podpisy se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="66661-151">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="66661-152">Tuto funkci můžete zakázat pro všechny nebo pro určité aplikace.</span><span class="sxs-lookup"><span data-stu-id="66661-152">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="66661-153">Vytváření sestavení</span><span class="sxs-lookup"><span data-stu-id="66661-153">Creating Assemblies</span></span>](../../../docs/framework/app-domains/create-assemblies.md)|<span data-ttu-id="66661-154">Poskytuje přehled o jeden soubor a vícesouborové sestavení.</span><span class="sxs-lookup"><span data-stu-id="66661-154">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="66661-155">Jak zpoždění podepsání sestavení v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="66661-155">How to Delay Sign an Assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="66661-156">Vysvětluje, jak podepsat sestavení silným názvem po sestavení.</span><span class="sxs-lookup"><span data-stu-id="66661-156">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="66661-157">Sn.exe (nástroj pro silný název)</span><span class="sxs-lookup"><span data-stu-id="66661-157">Sn.exe (Strong Name Tool)</span></span>](../../../docs/framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="66661-158">Popisuje nástroje, které jsou zahrnuty v rozhraní .NET Framework, která vám pomůže vytvořit sestavení se silnými názvy.</span><span class="sxs-lookup"><span data-stu-id="66661-158">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="66661-159">Tento nástroj poskytuje možnosti pro správu klíčů, generování podpisů a ověřování podpisů.</span><span class="sxs-lookup"><span data-stu-id="66661-159">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="66661-160">Al.exe (linker sestavení)</span><span class="sxs-lookup"><span data-stu-id="66661-160">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="66661-161">Popisuje nástroj zahrnuty v rozhraní .NET Framework, která se vytvoří soubor obsahující manifest sestavení z modulů nebo zdrojových souborů.</span><span class="sxs-lookup"><span data-stu-id="66661-161">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
