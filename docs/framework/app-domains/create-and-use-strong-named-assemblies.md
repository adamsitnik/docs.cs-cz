---
title: Vytváření a používání sestavení se silným názvem
ms.date: 08/01/2017
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET Framework], signing
- strong-named assemblies, scenarios
- assemblies [.NET Framework], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 5dcdf6a88b12d12e67056657fd532dfa28c40299
ms.sourcegitcommit: 29a9b29d8b7d07b9c59d46628da754a8bff57fa4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566813"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="abcb0-102">Vytváření a používání sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="abcb0-102">Create and use strong-named assemblies</span></span>

<span data-ttu-id="abcb0-103">Silný název se skládá z identity sestavení – jednoduchý textový název, číslo verze a informace o jazykové verzi (Pokud je k dispozici) – plus veřejný klíč a digitální podpis.</span><span class="sxs-lookup"><span data-stu-id="abcb0-103">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="abcb0-104">Je vygenerován ze souboru sestavení pomocí odpovídajícího privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="abcb0-104">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="abcb0-105">(Soubor sestavení obsahuje manifest sestavení, který obsahuje názvy a hodnoty hash všech souborů, které tvoří sestavení.)</span><span class="sxs-lookup"><span data-stu-id="abcb0-105">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="abcb0-106">Nespoléhá se na silné názvy zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="abcb0-106">Do not rely on strong names for security.</span></span> <span data-ttu-id="abcb0-107">Poskytují pouze jedinečnou identitu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-107">They provide a unique identity only.</span></span>

<span data-ttu-id="abcb0-108">Sestavení se silným názvem může používat pouze typy z jiných sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-108">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="abcb0-109">V opačném případě by došlo k ohrožení integrity sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-109">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="abcb0-110">Scénář se silným názvem</span><span class="sxs-lookup"><span data-stu-id="abcb0-110">Strong name scenario</span></span>

<span data-ttu-id="abcb0-111">Následující scénář popisuje proces podepisování sestavení silným názvem a pozdějšího odkazování na něj tímto názvem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-111">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="abcb0-112">Sestavení A je vytvořeno se silným názvem pomocí jedné z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="abcb0-112">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="abcb0-113">Použití vývojového prostředí, které podporuje vytváření silných názvů, jako je například Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="abcb0-113">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="abcb0-114">Vytvoření páru kryptografických klíčů pomocí [nástroje Strong Name (Sn. exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) a přiřazení páru klíčů k sestavení pomocí kompilátoru příkazového řádku nebo [linkeru sestavení (Al. exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="abcb0-114">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="abcb0-115">Windows SDK poskytuje sn. exe i Al. exe.</span><span class="sxs-lookup"><span data-stu-id="abcb0-115">The Windows SDK provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="abcb0-116">Vývojové prostředí nebo nástroj podepíše hodnotu hash souboru obsahujícího manifest sestavení pomocí privátního klíče vývojáře.</span><span class="sxs-lookup"><span data-stu-id="abcb0-116">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="abcb0-117">Tento digitální podpis je uložen v přenositelném spustitelném souboru (PE), který obsahuje manifest sestavení A.</span><span class="sxs-lookup"><span data-stu-id="abcb0-117">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="abcb0-118">Sestavení B je příjemcem sestavení A. Referenční oddíl manifestu sestavení B obsahuje token, který představuje veřejný klíč sestavení A.</span><span class="sxs-lookup"><span data-stu-id="abcb0-118">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="abcb0-119">Token je část úplného veřejného klíče a používá se místo toho, aby ušetřil místo samotný klíč.</span><span class="sxs-lookup"><span data-stu-id="abcb0-119">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="abcb0-120">Modul CLR ověří podpis silného názvu, pokud je sestavení umístěno v globální mezipaměti sestavení (GAC).</span><span class="sxs-lookup"><span data-stu-id="abcb0-120">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="abcb0-121">Při vytváření vazby pomocí silného názvu za běhu porovná modul common language runtime klíč uložený v manifestu sestavení B s klíčem použitým k vygenerování silného názvu pro sestavení A. Pokud jsou kontroly zabezpečení .NET Framework úspěšné a vazba je úspěšná, sestavení B zaručí, že bity sestavení A nebyly úmyslně manipulovány a že tyto bity skutečně pochází od vývojářů sestavení A.</span><span class="sxs-lookup"><span data-stu-id="abcb0-121">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET Framework security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="abcb0-122">Tento scénář neřeší problémy důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="abcb0-122">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="abcb0-123">Sestavení mohou mít kromě silného názvu také úplné signatury technologie Microsoft Authenticode.</span><span class="sxs-lookup"><span data-stu-id="abcb0-123">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="abcb0-124">Podpisy Authenticode obsahují certifikát, který vytváří vztah důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="abcb0-124">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="abcb0-125">Je důležité si uvědomit, že silné názvy nevyžadují, aby byl kód podepsán tímto způsobem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-125">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="abcb0-126">Silné názvy poskytují pouze jedinečnou identitu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-126">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="abcb0-127">Obejít ověření podpisu důvěryhodných sestavení</span><span class="sxs-lookup"><span data-stu-id="abcb0-127">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="abcb0-128">Počínaje verzí .NET Framework 3,5 Service Pack 1 nejsou signatury se silným názvem ověřovány, když je sestavení načteno do domény aplikace s plnou důvěryhodností, jako je například výchozí aplikační doména pro `MyComputer` zónu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-128">Starting with the .NET Framework 3.5 Service Pack 1, strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="abcb0-129">To se označuje jako funkce obcházení silného názvu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-129">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="abcb0-130">V prostředí s úplným vztahem důvěryhodnosti požadavky <xref:System.Security.Permissions.StrongNameIdentityPermission> vždy úspěšné pro podepsaná, plně důvěryhodná sestavení, bez ohledu na jejich podpis.</span><span class="sxs-lookup"><span data-stu-id="abcb0-130">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="abcb0-131">Funkce obcházení silného názvu brání zbytečné režii při ověřování signatury silného názvu v plně důvěryhodném sestavení v této situaci, což umožňuje rychlejší načítání sestavení.</span><span class="sxs-lookup"><span data-stu-id="abcb0-131">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="abcb0-132">Funkce obcházení se vztahuje na jakékoli sestavení, které je podepsáno silným názvem a které má následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="abcb0-132">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="abcb0-133">Plně důvěryhodné bez <xref:System.Security.Policy.StrongName> legitimace (například má `MyComputer` legitimaci zóny).</span><span class="sxs-lookup"><span data-stu-id="abcb0-133">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="abcb0-134">Načteno do plně důvěryhodného <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="abcb0-134">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="abcb0-135">Načteno z umístění pod <xref:System.AppDomainSetup.ApplicationBase%2A> vlastností. <xref:System.AppDomain></span><span class="sxs-lookup"><span data-stu-id="abcb0-135">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="abcb0-136">Nepodepsaná se zpožděním.</span><span class="sxs-lookup"><span data-stu-id="abcb0-136">Not delay-signed.</span></span>

<span data-ttu-id="abcb0-137">Tato funkce se dá zakázat pro jednotlivé aplikace nebo pro počítač.</span><span class="sxs-lookup"><span data-stu-id="abcb0-137">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="abcb0-138">Viz [jak: Zakažte funkci](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md)obcházení silného názvu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-138">See [How to: Disable the Strong-Name Bypass Feature](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="abcb0-139">Související témata</span><span class="sxs-lookup"><span data-stu-id="abcb0-139">Related topics</span></span>

|<span data-ttu-id="abcb0-140">Název</span><span class="sxs-lookup"><span data-stu-id="abcb0-140">Title</span></span>|<span data-ttu-id="abcb0-141">Popis</span><span class="sxs-lookup"><span data-stu-id="abcb0-141">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="abcb0-142">Postupy: Vytvoření páru klíčů veřejného a soukromého</span><span class="sxs-lookup"><span data-stu-id="abcb0-142">How to: Create a Public-Private Key Pair</span></span>](../../../docs/framework/app-domains/how-to-create-a-public-private-key-pair.md)|<span data-ttu-id="abcb0-143">Popisuje, jak vytvořit pár kryptografických klíčů pro podepsání sestavení.</span><span class="sxs-lookup"><span data-stu-id="abcb0-143">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="abcb0-144">Postupy: Podepsat sestavení silným názvem</span><span class="sxs-lookup"><span data-stu-id="abcb0-144">How to: Sign an Assembly with a Strong Name</span></span>](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md)|<span data-ttu-id="abcb0-145">Popisuje, jak vytvořit sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-145">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="abcb0-146">Vylepšené silné názvy</span><span class="sxs-lookup"><span data-stu-id="abcb0-146">Enhanced Strong Naming</span></span>](../../../docs/framework/app-domains/enhanced-strong-naming.md)|<span data-ttu-id="abcb0-147">Popisuje vylepšení pro silné názvy v .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="abcb0-147">Describes enhancements to strong-names in the .NET Framework 4.5.</span></span>|
|[<span data-ttu-id="abcb0-148">Postupy: Odkazování na sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="abcb0-148">How to: Reference a Strong-Named Assembly</span></span>](../../../docs/framework/app-domains/how-to-reference-a-strong-named-assembly.md)|<span data-ttu-id="abcb0-149">Popisuje, jak odkazovat na typy nebo prostředky v sestavení se silným názvem v době kompilace nebo v době běhu.</span><span class="sxs-lookup"><span data-stu-id="abcb0-149">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="abcb0-150">Postupy: Zakázat funkci obcházení silného názvu</span><span class="sxs-lookup"><span data-stu-id="abcb0-150">How to: Disable the Strong-Name Bypass Feature</span></span>](../../../docs/framework/app-domains/how-to-disable-the-strong-name-bypass-feature.md)|<span data-ttu-id="abcb0-151">Popisuje, jak zakázat funkci, která obchází ověřování podpisů se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="abcb0-151">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="abcb0-152">Tuto funkci je možné zakázat pro všechny nebo pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="abcb0-152">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="abcb0-153">Vytváření sestavení</span><span class="sxs-lookup"><span data-stu-id="abcb0-153">Creating Assemblies</span></span>](../../../docs/framework/app-domains/create-assemblies.md)|<span data-ttu-id="abcb0-154">Poskytuje přehled o jednom souboru a vícesouborové sestavení.</span><span class="sxs-lookup"><span data-stu-id="abcb0-154">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="abcb0-155">Jak zpozdit podepsání sestavení v aplikaci Visual Studio</span><span class="sxs-lookup"><span data-stu-id="abcb0-155">How to Delay Sign an Assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="abcb0-156">Vysvětluje, jak podepsat sestavení se silným názvem poté, co bylo sestavení vytvořeno.</span><span class="sxs-lookup"><span data-stu-id="abcb0-156">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="abcb0-157">Sn.exe (nástroj pro silný název)</span><span class="sxs-lookup"><span data-stu-id="abcb0-157">Sn.exe (Strong Name Tool)</span></span>](../../../docs/framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="abcb0-158">Popisuje nástroj, který je součástí .NET Framework, který pomáhá vytvářet sestavení se silnými názvy.</span><span class="sxs-lookup"><span data-stu-id="abcb0-158">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="abcb0-159">Tento nástroj poskytuje možnosti pro správu klíčů, generování podpisů a ověřování podpisů.</span><span class="sxs-lookup"><span data-stu-id="abcb0-159">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="abcb0-160">Al.exe (linker sestavení)</span><span class="sxs-lookup"><span data-stu-id="abcb0-160">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="abcb0-161">Popisuje nástroj, který je součástí .NET Framework, který generuje soubor s manifestem sestavení z modulů nebo souborů prostředků.</span><span class="sxs-lookup"><span data-stu-id="abcb0-161">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
