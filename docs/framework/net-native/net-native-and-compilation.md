---
title: .NET Native a kompilace
ms.date: 03/30/2017
ms.assetid: e38ae4f3-3e3d-42c3-a4b8-db1aa9d84f85
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 023759ea3d1401dbc166873d14d2c51502a1a96c
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54744138"
---
# <a name="net-native-and-compilation"></a><span data-ttu-id="5d63c-102">.NET Native a kompilace</span><span class="sxs-lookup"><span data-stu-id="5d63c-102">.NET Native and Compilation</span></span>
<span data-ttu-id="5d63c-103">Aplikace Windows 8.1 a Windows desktopových aplikací, které jsou cíleny na rozhraní.NET Framework jsou napsané v konkrétním programovacím jazykem a zkompilovány do (IL intermediate language).</span><span class="sxs-lookup"><span data-stu-id="5d63c-103">Windows 8.1 applications and Windows Desktop applications that target the.NET Framework are written in a particular programming language and compiled into intermediate language (IL).</span></span> <span data-ttu-id="5d63c-104">Za běhu kompilátor just-in-time (JIT) zodpovídá za kompilace IL do nativního kódu pro místní počítač, těsně před prvním je metoda spuštěna.</span><span class="sxs-lookup"><span data-stu-id="5d63c-104">At runtime, a just-in-time (JIT) compiler is responsible for compiling the IL into native code for the local machine just before a method is executed for the first time.</span></span> <span data-ttu-id="5d63c-105">Naproti tomu .NET Native řetězce nástrojů převede zdrojový kód do nativního kódu v době kompilace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-105">In contrast, the .NET Native tool chain converts source code to native code at compile time.</span></span> <span data-ttu-id="5d63c-106">Toto téma porovnává .NET Native s jinými technologiemi kompilace k dispozici pro aplikace rozhraní .NET Framework a také poskytuje praktické přehled jak .NET Native vytváří nativní kód, který vám pomůžou pochopit, proč výjimky, ke kterým dochází v kód zkompilovaný s .NET Nativní nedojde v kód zkompilovaný kompilátorem JIT.</span><span class="sxs-lookup"><span data-stu-id="5d63c-106">This topic compares .NET Native with other compilation technologies available for .NET Framework apps, and also provides a practical overview of how .NET Native produces native code that can help you understand why exceptions that occur in code compiled with .NET Native do not occur in JIT-compiled code.</span></span>  
  
## <a name="net-native-generating-native-binaries"></a><span data-ttu-id="5d63c-107">.NET native: Generuje se nativní binární soubory</span><span class="sxs-lookup"><span data-stu-id="5d63c-107">.NET Native: Generating native binaries</span></span>  
 <span data-ttu-id="5d63c-108">Aplikace, že zaměřené na rozhraní .NET Framework a není zkompilován s použitím .NET Native řetězce nástrojů se skládá z sestavení aplikace, která zahrnuje následující:</span><span class="sxs-lookup"><span data-stu-id="5d63c-108">An application that targets the .NET Framework and that is not compiled by using the .NET Native tool chain consists of your application assembly, which includes the following:</span></span>  
  
-   <span data-ttu-id="5d63c-109">[Metadata](../../../docs/standard/metadata-and-self-describing-components.md) , který popisuje sestavení, jeho závislostí, obsahuje typy a jejich členy.</span><span class="sxs-lookup"><span data-stu-id="5d63c-109">[Metadata](../../../docs/standard/metadata-and-self-describing-components.md) that describes the assembly, its dependencies, the types it contains, and their members.</span></span> <span data-ttu-id="5d63c-110">Metadata používá reflexi a přístup s pozdní vazbou a v některých případech kompilátor a nástroje sestavení také.</span><span class="sxs-lookup"><span data-stu-id="5d63c-110">The metadata is used for reflection and late-bound access, and in some cases by compiler and build tools as well.</span></span>  
  
-   <span data-ttu-id="5d63c-111">Implementační kód.</span><span class="sxs-lookup"><span data-stu-id="5d63c-111">Implementation code.</span></span> <span data-ttu-id="5d63c-112">To se skládá z operační kódy (IL intermediate language).</span><span class="sxs-lookup"><span data-stu-id="5d63c-112">This consists of intermediate language (IL) opcodes.</span></span> <span data-ttu-id="5d63c-113">Za běhu kompilátor just-in-time (JIT) přeloží ho do nativního kódu pro cílovou platformu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-113">At runtime, the just-in-time (JIT) compiler translates it into native code for the target platform.</span></span>  
  
 <span data-ttu-id="5d63c-114">Kromě sestavení hlavní aplikace aplikace vyžaduje, aby následující k dispozici:</span><span class="sxs-lookup"><span data-stu-id="5d63c-114">In addition to your main application assembly, an app requires that the following be present:</span></span>  
  
-   <span data-ttu-id="5d63c-115">Další knihovny tříd nebo sestavení třetích stran, které jsou vyžadované vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-115">Any additional class libraries or third-party assemblies that are required by your app.</span></span> <span data-ttu-id="5d63c-116">Mezi tato sestavení podobně patří metadata, která popisují sestavení, jeho typy a jejich členy, jakož i IL, který implementuje všechny členy typu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-116">These assemblies similarly include metadata that describes the assembly, its types, and their members, as well as the IL that implements all type members.</span></span>  
  
-   <span data-ttu-id="5d63c-117">Knihovna tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-117">The .NET Framework Class Library.</span></span> <span data-ttu-id="5d63c-118">To je soubor sestavení, který je nainstalován v místním systému s instalací rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-118">This is a collection of assemblies that is installed on the local system with the .NET Framework installation.</span></span> <span data-ttu-id="5d63c-119">Sestavení součástí knihovny tříd rozhraní .NET Framework obsahují kompletní sadu metadat a implementace kódu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-119">The assemblies included in the .NET Framework Class Library include a complete set of metadata and implementation code.</span></span>  
  
-   <span data-ttu-id="5d63c-120">Modul common language runtime.</span><span class="sxs-lookup"><span data-stu-id="5d63c-120">The common language runtime.</span></span> <span data-ttu-id="5d63c-121">Toto je kolekce dynamické knihovny, které provádějí tyto služby jako načítání sestavení, správy a uvolňování paměti kolekce paměti, zpracování výjimek, kompilace just-in-time, vzdálené komunikace a spolupráce.</span><span class="sxs-lookup"><span data-stu-id="5d63c-121">This is a collection of dynamic link libraries that perform such services as assembly loading, memory management and garbage collection, exception handling, just-in-time compilation, remoting, and interop.</span></span> <span data-ttu-id="5d63c-122">Stejně jako knihovna tříd je nainstalován modul runtime v místním systému jako součást instalace rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-122">Like the class library, the runtime is installed on the local system as part of the .NET Framework installation.</span></span>  
  
 <span data-ttu-id="5d63c-123">Všimněte si, že celý modul common language runtime, jakož i metadata a IL pro všechny typy v sestavení specifická pro aplikaci, sestavení třetích stran a systémová sestavení musí být k dispozici pro aplikaci úspěšně vykonat.</span><span class="sxs-lookup"><span data-stu-id="5d63c-123">Note that the entire common language runtime, as well as metadata and IL for all types in application-specific assemblies, third-party assemblies, and system assemblies must be present for the app to execute successfully.</span></span>  
  
## <a name="net-native-and-just-in-time-compilation"></a><span data-ttu-id="5d63c-124">Kompilace .NET native a just-in-time</span><span class="sxs-lookup"><span data-stu-id="5d63c-124">.NET Native and just-in-time compilation</span></span>  
 <span data-ttu-id="5d63c-125">Vstup pro .NET Native řetězce nástrojů je aplikace sestavena ze storu Windows C# nebo kompilátor jazyka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="5d63c-125">The input for the .NET Native tool chain is the Windows store app built by the C# or Visual Basic compiler.</span></span> <span data-ttu-id="5d63c-126">Jinými slovy .NET Native řetězce nástrojů začíná spuštění, když kompilátor jazyka dokončil kompilace aplikace pro Windows Store.</span><span class="sxs-lookup"><span data-stu-id="5d63c-126">In other words, the .NET Native tool chain begins execution when the language compiler has finished compilation of a Windows Store app.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="5d63c-127">Vzhledem k tomu, že jazyk IL a metadata zapsaná do spravovaných sestavení vstup do .NET Native se můžete stále provádět vytváření vlastního kódu nebo jiných vlastních operací pomocí události před sestavením nebo po sestavení nebo úpravou souboru projektu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="5d63c-127">Because the input to .NET Native is the IL and metadata written to managed assemblies, you can still perform custom code generation or other custom operations by using pre-build or post-build events or by modifying the MSBuild project file.</span></span>  
>   
>  <span data-ttu-id="5d63c-128">Kategorií nástrojů, které upravují IL a tím zabránit řetězce nástrojů .NET v analýze vaší aplikace IL ale podporované nejsou.</span><span class="sxs-lookup"><span data-stu-id="5d63c-128">However, categories of tools that modify IL and thereby prevent the .NET tool chain from analyzing an app's IL are not supported.</span></span> <span data-ttu-id="5d63c-129">Obfuscators jsou nejdůležitější nástroje tohoto typu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-129">Obfuscators are the most notable tools of this type.</span></span>  
  
 <span data-ttu-id="5d63c-130">.NET Native řetězce nástrojů tím, že převádíte aplikace z IL na nativní kód, provádí operace, jako je následující:</span><span class="sxs-lookup"><span data-stu-id="5d63c-130">In the course of converting an app from IL to native code, the .NET Native tool chain performs operations like the following:</span></span>  
  
-   <span data-ttu-id="5d63c-131">Pro některé cesty kódu, nahradí kód, který závisí na reflexi a metadat pomocí statické nativního kódu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-131">For certain code paths, it replaces code that relies on reflection and metadata with static native code.</span></span> <span data-ttu-id="5d63c-132">Například, pokud nepřepisuje typ hodnoty <xref:System.ValueType.Equals%2A?displayProperty=nameWithType> metody výchozí testování rovnosti používá reflexi k načtení <xref:System.Reflection.FieldInfo> objekty, které představují typ hodnoty polí, potom porovnává hodnoty polí dvě instance.</span><span class="sxs-lookup"><span data-stu-id="5d63c-132">For example, if a value type does not override the <xref:System.ValueType.Equals%2A?displayProperty=nameWithType> method, the default test for equality uses reflection to retrieve <xref:System.Reflection.FieldInfo> objects that represent the value type's fields, then compares the field values of two instances.</span></span> <span data-ttu-id="5d63c-133">Při kompilaci do nativního kódu, nahradí .NET Native řetězce nástrojů reflexe kódu a metadata statické porovnání hodnot polí.</span><span class="sxs-lookup"><span data-stu-id="5d63c-133">When compiling to native code, the .NET Native tool chain replaces the reflection code and metadata with a static comparison of the field values.</span></span>  
  
-   <span data-ttu-id="5d63c-134">Kde je to možné, pokusí se odstranit všechna metadata.</span><span class="sxs-lookup"><span data-stu-id="5d63c-134">Where possible, it attempts to eliminate all metadata.</span></span>  
  
-   <span data-ttu-id="5d63c-135">Zahrnuje poslední aplikace sestavení pouze implementační kód, který je ve skutečnosti vyvolala aplikace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-135">It includes in the final app assemblies only the implementation code that is actually invoked by the app.</span></span> <span data-ttu-id="5d63c-136">Tímto je ovlivněn zejména kód v knihovnách třetích stran a v knihovně tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-136">This particularly affects code in third-party libraries and in the .NET Framework Class Library.</span></span> <span data-ttu-id="5d63c-137">V důsledku toho již aplikace závisí na knihovny třetích stran nebo úplné knihovny tříd .NET Framework; Kód třetích stran a knihovny tříd rozhraní .NET Framework je místo toho teď vůči aplikaci lokální.</span><span class="sxs-lookup"><span data-stu-id="5d63c-137">As a result, an application no longer depends on either third-party libraries or the full .NET Framework Class Library; instead, code in third-party and .NET Framework class libraries is now local to the app.</span></span>  
  
-   <span data-ttu-id="5d63c-138">Nahradí úplné CLR refaktorovaný modulu runtime, která primárně obsahuje systému uvolňování paměti.</span><span class="sxs-lookup"><span data-stu-id="5d63c-138">It replaces the full CLR with a refactored runtime that primarily contains the garbage collector.</span></span> <span data-ttu-id="5d63c-139">Refaktorovaný modulu runtime se nachází v knihovně s názvem mrt100_app.dll, který je vůči aplikaci lokální a je jen několik stovek kilobajtů velikost.</span><span class="sxs-lookup"><span data-stu-id="5d63c-139">The refactored runtime is found in a library named mrt100_app.dll that is local to the app and is only a few hundred kilobytes in size.</span></span> <span data-ttu-id="5d63c-140">To je možné, protože statické propojování odstraňuje potřebu řady služeb, prováděné modul common language runtime.</span><span class="sxs-lookup"><span data-stu-id="5d63c-140">This is possible because static linking eliminates the need for many of the services performed by the common language runtime.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="5d63c-141">.NET native používá stejné systému uvolňování paměti jako standard common language runtime.</span><span class="sxs-lookup"><span data-stu-id="5d63c-141">.NET Native uses the same garbage collector as the standard common language runtime.</span></span> <span data-ttu-id="5d63c-142">V .NET Native systému uvolňování paměti uvolňování paměti na pozadí ve výchozím nastavení zapnutá.</span><span class="sxs-lookup"><span data-stu-id="5d63c-142">In the .NET Native garbage collector, background garbage collection is enabled by default.</span></span> <span data-ttu-id="5d63c-143">Další informace o uvolňování paměti naleznete v tématu [základy kolekce paměti](../../../docs/standard/garbage-collection/fundamentals.md).</span><span class="sxs-lookup"><span data-stu-id="5d63c-143">For more information about garbage collection, see [Fundamentals of Garbage Collection](../../../docs/standard/garbage-collection/fundamentals.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5d63c-144">.NET native zkompiluje celé aplikace do nativní aplikace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-144">.NET Native compiles an entire application to a native application.</span></span> <span data-ttu-id="5d63c-145">Neumožňuje je pro kompilaci jednoho sestavení, který obsahuje knihovnu tříd do nativního kódu, takže může být volána nezávisle na sobě ze spravovaného kódu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-145">It does not allow you to compile a single assembly that contains a class library to native code so that it can be called independently from managed code.</span></span>  
  
 <span data-ttu-id="5d63c-146">Výsledná aplikace, který je vytvořen .NET Native řetězce nástrojů se zapíše do adresáře s názvem ilc.out v adresáři ladění nebo vydání v adresáři projektu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-146">The resulting app that is produced by the .NET Native tool chain is written to a directory named ilc.out in the Debug or Release directory of your project directory.</span></span> <span data-ttu-id="5d63c-147">Skládá se z následujících souborů:</span><span class="sxs-lookup"><span data-stu-id="5d63c-147">It consists of the following files:</span></span>  
  
-   <span data-ttu-id="5d63c-148">*\<název_aplikace >*.exe, zástupná procedura spustitelný soubor, který jednoduše převede ovládací prvek speciální `Main` export v  *\<název_aplikace >*.dll.</span><span class="sxs-lookup"><span data-stu-id="5d63c-148">*\<appName>*.exe, a stub executable that simply transfers control to a special `Main` export in *\<appName>*.dll.</span></span>  
  
-   <span data-ttu-id="5d63c-149">*\<název_aplikace >*.dll, dynamickou Windows propojit knihovnu, která obsahuje váš kód aplikace, stejně jako kód z knihovny tříd rozhraní .NET Framework a všechny knihovny třetích stran, které jsou závislé na.</span><span class="sxs-lookup"><span data-stu-id="5d63c-149">*\<appName>*.dll, a Windows dynamic link library that contains all your application code, as well as code from the .NET Framework Class Library and any third-party libraries that you have a dependency on.</span></span>  <span data-ttu-id="5d63c-150">Také obsahuje kód podpory, jako je kód pro spolupráci s Windows a k serializaci objektů ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5d63c-150">It also contains support code, such as the code necessary to interoperate with Windows and to serialize objects in your app.</span></span>  
  
-   <span data-ttu-id="5d63c-151">mrt100_app.dll, refaktorovaný modulu runtime, který poskytuje služby modulu runtime, jako je například uvolňování paměti.</span><span class="sxs-lookup"><span data-stu-id="5d63c-151">mrt100_app.dll, a refactored runtime that provides runtime services such as garbage collection.</span></span>  
  
 <span data-ttu-id="5d63c-152">Všechny závislosti jsou zachyceny manifestu APPX aplikace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-152">All dependencies are captured by the app's APPX manifest.</span></span>  <span data-ttu-id="5d63c-153">Kromě aplikace exe, dll a mrt100_app.dll, které jsou spojeny přímo v balíčku appx to obsahuje dva další soubory:</span><span class="sxs-lookup"><span data-stu-id="5d63c-153">In addition to the application exe, dll, and mrt100_app.dll, which are bundled directly in the appx package, this includes two more files:</span></span>  
  
-   <span data-ttu-id="5d63c-154">msvcr140_app.dll, knihovny C run-time (CRT), používané mrt100_app.dll.</span><span class="sxs-lookup"><span data-stu-id="5d63c-154">msvcr140_app.dll, the C run-time (CRT) library used by mrt100_app.dll.</span></span> <span data-ttu-id="5d63c-155">Je součástí odkaz na rozhraní v balíčku.</span><span class="sxs-lookup"><span data-stu-id="5d63c-155">It is included by a framework reference in the package.</span></span>  
  
-   <span data-ttu-id="5d63c-156">mrt100.dll.</span><span class="sxs-lookup"><span data-stu-id="5d63c-156">mrt100.dll.</span></span> <span data-ttu-id="5d63c-157">Tuto knihovnu zahrnuje funkce, které může zlepšit výkon mrt100_app.dll, i když neexistuje nebrání mrt100_app.dll fungovat.</span><span class="sxs-lookup"><span data-stu-id="5d63c-157">This library includes functions that can improve the performance of mrt100_app.dll, although its absence does not prevent mrt100_app.dll from functioning.</span></span> <span data-ttu-id="5d63c-158">Načte se v adresáři system32 na místním počítači, pokud je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="5d63c-158">It is loaded from the system32 directory on the local machine, if it is present.</span></span>  
  
 <span data-ttu-id="5d63c-159">.NET Native řetězce nástrojů odkazy implementační kód do vaší aplikace pouze v případě, že ví, že vaše aplikace ve skutečnosti vyvolá tento kód, takže metadata nebo implementační kód vyžaduje v následujících scénářích nemusí být součástí vaší aplikace:</span><span class="sxs-lookup"><span data-stu-id="5d63c-159">Because the .NET Native tool chain links implementation code into your app only if it knows that your app actually invokes that code, either the metadata or the implementation code required in the following scenarios may not be included with your app:</span></span>  
  
-   <span data-ttu-id="5d63c-160">Reflexe.</span><span class="sxs-lookup"><span data-stu-id="5d63c-160">Reflection.</span></span>  
  
-   <span data-ttu-id="5d63c-161">Volání dynamického nebo s pozdní vazbou.</span><span class="sxs-lookup"><span data-stu-id="5d63c-161">Dynamic or late-bound invocation.</span></span>  
  
-   <span data-ttu-id="5d63c-162">Serializace a deserializace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-162">Serialization and deserialization.</span></span>  
  
-   <span data-ttu-id="5d63c-163">Komunikace s objekty COM</span><span class="sxs-lookup"><span data-stu-id="5d63c-163">COM interop.</span></span>  
  
 <span data-ttu-id="5d63c-164">Pokud chybí nezbytné metadata nebo provádění kódu za běhu, modul runtime .NET Native, dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="5d63c-164">If the necessary metadata or implementation code is absent at runtime, the .NET Native runtime throws an exception.</span></span> <span data-ttu-id="5d63c-165">Můžete zakázat tyto výjimky a ujistěte se, .NET Native řetězce nástrojů obsahuje požadované metadat a implementace kódu s použitím [soubor direktiv modulu runtime](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md), soubor XML, který určuje prvky programu, jejichž metadat nebo implementační kód musí být k dispozici za běhu a přiřadí zásady modulu runtime k nim.</span><span class="sxs-lookup"><span data-stu-id="5d63c-165">You can prevent these exceptions, and ensure that the .NET Native tool chain includes the required metadata and implementation code, by using a [runtime directives file](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md), an XML file that designates the program elements whose metadata or implementation code must be available at runtime and assigns a runtime policy to them.</span></span> <span data-ttu-id="5d63c-166">Toto je výchozí soubor direktivy modulu runtime, který je přidán do projektu Windows Store, který je zkompilován s .NET Native řetězce nástrojů:</span><span class="sxs-lookup"><span data-stu-id="5d63c-166">The following is the default runtime directives file that is added to a Windows Store project that is compiled by the .NET Native tool chain:</span></span>  
  
```xml  
<Directives xmlns="http://schemas.microsoft.com/netfx/2013/01/metadata">  
  <Application>  
    <Assembly Name="*Application*" Dynamic="Required All" />  
  </Application>  
</Directives>  
```  
  
 <span data-ttu-id="5d63c-167">Díky tomu všech typů, stejně jako všechny jejich členy, všechna sestavení v balíčku aplikace pro reflexi a dynamické vyvolání.</span><span class="sxs-lookup"><span data-stu-id="5d63c-167">This enables all the types, as well as all their members, in all the assemblies in your app package for reflection and dynamic invocation.</span></span> <span data-ttu-id="5d63c-168">Však neumožňuje reflexe nebo dynamické aktivace typů v sestavení knihovny tříd .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-168">However, it does not enable reflection or dynamic activation of types in .NET Framework Class Library assemblies.</span></span> <span data-ttu-id="5d63c-169">V mnoha případech jde dostatečné.</span><span class="sxs-lookup"><span data-stu-id="5d63c-169">In many cases, this is adequate.</span></span>  
  
## <a name="net-native-and-ngen"></a><span data-ttu-id="5d63c-170">.NET native a technologie NGEN</span><span class="sxs-lookup"><span data-stu-id="5d63c-170">.NET Native and NGEN</span></span>  
 <span data-ttu-id="5d63c-171">[(Native Image Generator](../../../docs/framework/tools/ngen-exe-native-image-generator.md) (NGEN) kompiluje sestavení do nativního kódu a nainstaluje je do mezipaměti nativních bitových kopií v místním počítači.</span><span class="sxs-lookup"><span data-stu-id="5d63c-171">The [(Native Image Generator](../../../docs/framework/tools/ngen-exe-native-image-generator.md) (NGEN) compiles assemblies to native code and installs them in the native image cache on the local computer.</span></span> <span data-ttu-id="5d63c-172">Nicméně i když NGEN, jako je .NET Native, vytvoří nativní kód, se liší od .NET Native v některých ohledech významné:</span><span class="sxs-lookup"><span data-stu-id="5d63c-172">However, although NGEN, like .NET Native, produces native code, it differs from .NET Native in some significant ways:</span></span>  
  
-   <span data-ttu-id="5d63c-173">Pokud žádné nativní bitové kopie je k dispozici pro konkrétní metody, NGEN spadne zpět na JITing kódu.</span><span class="sxs-lookup"><span data-stu-id="5d63c-173">If no native image is available for a particular method, NGEN falls back to JITing code.</span></span> <span data-ttu-id="5d63c-174">To znamená, že nativní bitové kopie musí i nadále zahrnují metadata a IL v případě, že je potřeba vrátit zpět k JIT kompilaci NGEN.</span><span class="sxs-lookup"><span data-stu-id="5d63c-174">This means that native images must continue to include metadata and IL in the event that NGEN needs to fall back to JIT compilation.</span></span> <span data-ttu-id="5d63c-175">Naproti tomu .NET Native vytváří nativní bitové kopie a nepřecházel k JIT kompilaci.</span><span class="sxs-lookup"><span data-stu-id="5d63c-175">In contrast, .NET Native produces only native images and does not fall back to JIT compilation.</span></span> <span data-ttu-id="5d63c-176">V důsledku toho musí být zachovány jenom metadata jsou požadovaná pro některé úvahy, serializace a spolupráce scénáře.</span><span class="sxs-lookup"><span data-stu-id="5d63c-176">As a result, only metadata required for some reflection, serialization, and interop scenarios must be preserved.</span></span>  
  
-   <span data-ttu-id="5d63c-177">NGEN nadále Spolehněte se na úplné common language runtime pro služby, jako je vzdálené komunikace, spolupráce, správa paměti, uvolňování paměti, načítání sestavení a v případě potřeby, kompilace JIT.</span><span class="sxs-lookup"><span data-stu-id="5d63c-177">NGEN continues to rely on the full common language runtime for services such as assembly loading, remoting, interop, memory management, garbage collection, and, if necessary, JIT compilation.</span></span> <span data-ttu-id="5d63c-178">V rozhraní .NET Native mnoho z těchto služeb jsou buď zbytečné (kompilace JIT) nebo jsou vyřešené v okamžiku sestavení a zapojit do sestavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="5d63c-178">In .NET Native, many of these services are either unnecessary (JIT compilation) or are resolved at build-time and incorporated in the app assembly.</span></span> <span data-ttu-id="5d63c-179">Zbývající služeb, z nichž nejdůležitější je uvolňování paměti, jsou zahrnuté v mnohem menší, refaktorovaný modulu runtime s názvem mrt100_app.dll.</span><span class="sxs-lookup"><span data-stu-id="5d63c-179">The remaining services, the most important of which is garbage collection, are included in a much smaller, refactored runtime named mrt100_app.dll.</span></span>  
  
-   <span data-ttu-id="5d63c-180">Obrázků NGEN bývají křehké.</span><span class="sxs-lookup"><span data-stu-id="5d63c-180">NGEN images tend to be fragile.</span></span> <span data-ttu-id="5d63c-181">Třeba opravu nebo změňte na závislost obvykle vyžaduje, aby sestavení, které ho používají také re NGENed.</span><span class="sxs-lookup"><span data-stu-id="5d63c-181">For example, a patch or change to a dependency typically requires that the assemblies that use it also be re-NGENed.</span></span> <span data-ttu-id="5d63c-182">To platí hlavně systémová sestavení v knihovně tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5d63c-182">This is particularly true of system assemblies in the .NET Framework Class Library.</span></span> <span data-ttu-id="5d63c-183">.NET Native naproti tomu umožňuje aplikacím, ke zpracování nezávisle na mezi sebou.</span><span class="sxs-lookup"><span data-stu-id="5d63c-183">In contrast, .NET Native allows applications to be served independently of one another.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5d63c-184">Viz také:</span><span class="sxs-lookup"><span data-stu-id="5d63c-184">See also</span></span>
- [<span data-ttu-id="5d63c-185">Metadata a komponenty popisující samy sebe</span><span class="sxs-lookup"><span data-stu-id="5d63c-185">Metadata and Self-Describing Components</span></span>](../../../docs/standard/metadata-and-self-describing-components.md)
- [<span data-ttu-id="5d63c-186">Uvnitř .NET Native (Video pro kanál 9)</span><span class="sxs-lookup"><span data-stu-id="5d63c-186">Inside .NET Native (Channel 9 Video)</span></span>](https://channel9.msdn.com/Shows/Going+Deep/Inside-NET-Native)
- [<span data-ttu-id="5d63c-187">Reflexe a .NET Native</span><span class="sxs-lookup"><span data-stu-id="5d63c-187">Reflection and .NET Native</span></span>](../../../docs/framework/net-native/reflection-and-net-native.md)
- [<span data-ttu-id="5d63c-188">Obecné řešení potíží s .NET Native</span><span class="sxs-lookup"><span data-stu-id="5d63c-188">.NET Native General Troubleshooting</span></span>](../../../docs/framework/net-native/net-native-general-troubleshooting.md)
