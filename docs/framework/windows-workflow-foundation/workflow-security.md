---
title: Zabezpečení pracovních postupů
ms.date: 03/30/2017
helpviewer_keywords:
- programming [WF], workflow security
ms.assetid: d712a566-f435-44c0-b8c0-49298e84b114
ms.openlocfilehash: a5a8d4d0d41efb7a255080994c8e18302d302447
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61669235"
---
# <a name="workflow-security"></a><span data-ttu-id="ed8e0-102">Zabezpečení pracovních postupů</span><span class="sxs-lookup"><span data-stu-id="ed8e0-102">Workflow Security</span></span>
<span data-ttu-id="ed8e0-103">Windows Workflow Foundation (WF) je integrovaná s několika různých technologií, jako je například Microsoft SQL Server a Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-103">Windows Workflow Foundation (WF) is integrated with several different technologies, such as Microsoft SQL Server and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="ed8e0-104">Interakce s tyto technologie vznikat potíže se zabezpečením do vašich pracovních postupů v případě aktivace nesprávně.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-104">Interacting with these technologies may introduce security issues into your workflow if done improperly.</span></span>

## <a name="persistence-security-concerns"></a><span data-ttu-id="ed8e0-105">Zajištění trvalého zabezpečení</span><span class="sxs-lookup"><span data-stu-id="ed8e0-105">Persistence Security Concerns</span></span>

1. <span data-ttu-id="ed8e0-106">Pracovní postupy využívající <xref:System.Activities.Statements.Delay> aktivity a stálost potřeba znovu aktivovat službou.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-106">Workflows that use a <xref:System.Activities.Statements.Delay> activity and persistence need to be reactivated by a service.</span></span> <span data-ttu-id="ed8e0-107">Windows AppFabric pomocí služby správy pracovního postupu (WMS) znovu aktivovat pracovní postupy s vypršenou platností časovače.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-107">Windows AppFabric uses the Workflow Management Service (WMS) to reactivate workflows with expired timers.</span></span> <span data-ttu-id="ed8e0-108">Vytvoří WMS <xref:System.ServiceModel.WorkflowServiceHost> k hostování opětovně pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-108">WMS creates a <xref:System.ServiceModel.WorkflowServiceHost> to host the reactivated workflow.</span></span> <span data-ttu-id="ed8e0-109">Pokud je zastavena služba WMS, trvalý pracovní postupy nebudou znovu aktivovat po vypršení jejich časovače.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-109">If the WMS service is stopped, persisted workflows will not be reactivated when their timers expire.</span></span>

2. <span data-ttu-id="ed8e0-110">Přístup k vytváření instancí trvalý by měly být chráněné proti škodlivým entity externí domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-110">Access to durable instancing should be protected against malicious entities external to the application domain.</span></span> <span data-ttu-id="ed8e0-111">Vývojáři navíc se ujistěte, že škodlivý kód nelze provést ve stejné doméně jako trvalý vytvoření instance kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-111">In addition, developers should ensure that malicious code can't be executed in the same application domain as the durable instancing code.</span></span>

3. <span data-ttu-id="ed8e0-112">Vytváření odolných instancí neměli spouštět se zvýšenými oprávněními (správce).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-112">Durable instancing should not be run with elevated (Administrator) permissions.</span></span>

4. <span data-ttu-id="ed8e0-113">Data zpracovává mimo doménu aplikace by měly být chráněné.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-113">Data being processed outside the application domain should be protected.</span></span>

5. <span data-ttu-id="ed8e0-114">Aplikace, které vyžadují izolaci zabezpečení by neměly sdílet stejnou instanci abstrakce schématu.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-114">Applications that require security isolation should not share the same instance of the schema abstraction.</span></span> <span data-ttu-id="ed8e0-115">Tyto aplikace použijte poskytovatele různých úložišť, nebo uložit poskytovatelé umožňují použít různé úložiště instancí.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-115">Such applications should use different store providers, or store providers configured to use different store instantiations.</span></span>

## <a name="sql-server-security-concerns"></a><span data-ttu-id="ed8e0-116">SQL Server Security Concerns</span><span class="sxs-lookup"><span data-stu-id="ed8e0-116">SQL Server Security Concerns</span></span>

- <span data-ttu-id="ed8e0-117">Pokud se používá velké množství podřízené aktivity, umístění, záložek, rozšíření hostitele nebo obory nebo pokud se používají záložky s velmi velkých datových částí, může dojít k vyčerpání paměti nebo odešel množství volného místa databáze může být přidělen při stálost.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-117">When large numbers of child activities, locations, bookmarks, host extensions, or scopes are used, or when bookmarks with very large payloads are used, memory can be exhausted, or undue amounts of database space can be allocated during persistence.</span></span> <span data-ttu-id="ed8e0-118">To lze zmírnit použitím zabezpečení na úrovni objektů a na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-118">This can be mitigated by using object-level and database-level security.</span></span>

- <span data-ttu-id="ed8e0-119">Při použití <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, musí být zabezpečené úložiště instancí.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-119">When using <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, the instance store must be secured.</span></span> <span data-ttu-id="ed8e0-120">Další informace najdete v tématu [osvědčené postupy pro SQL Server](https://go.microsoft.com/fwlink/?LinkId=164972).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-120">For more information, see [SQL Server Best Practices](https://go.microsoft.com/fwlink/?LinkId=164972).</span></span>

- <span data-ttu-id="ed8e0-121">Zašifrovat citlivá data v úložišti instancí.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-121">Sensitive data in the instance store should be encrypted.</span></span> <span data-ttu-id="ed8e0-122">Další informace najdete v tématu [šifrování zabezpečení SQL](https://go.microsoft.com/fwlink/?LinkId=164976).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-122">For more information, see [SQL Security Encryption](https://go.microsoft.com/fwlink/?LinkId=164976).</span></span>

- <span data-ttu-id="ed8e0-123">Vzhledem k tomu, že připojovací řetězec databáze je často součástí konfiguračního souboru, zabezpečení na úrovni systému windows (ACL) by měla sloužit k zajištění, že konfigurační soubor (obvykle Web.Config) je zabezpečený a přihlašovací jméno a heslo informace nejsou součástí připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-123">Since the database connection string is often included in a configuration file, windows-level security (ACL) should be used to ensure that the configuration file (Web.Config usually) is secure, and that login and password information are not included in the connection string.</span></span> <span data-ttu-id="ed8e0-124">Ověřování Windows by měl místo toho použít mezi databází a webový server.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-124">Windows authentication should be used between the database and the web server instead.</span></span>

## <a name="considerations-for-workflowservicehost"></a><span data-ttu-id="ed8e0-125">Důležité informace pro hostitele služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="ed8e0-125">Considerations for WorkflowServiceHost</span></span>

- <span data-ttu-id="ed8e0-126">Windows Communication Foundation (WCF) koncových bodů použitých v pracovních postupech by měla být zabezpečená.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-126">Windows Communication Foundation (WCF) endpoints used in workflows should be secured.</span></span> <span data-ttu-id="ed8e0-127">Další informace najdete v tématu [WCF – Přehled zabezpečení](https://go.microsoft.com/fwlink/?LinkID=164975).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-127">For more information, see [WCF Security Overview](https://go.microsoft.com/fwlink/?LinkID=164975).</span></span>

- <span data-ttu-id="ed8e0-128">Může být implementována autorizaci na úrovni hostitele pomocí <xref:System.ServiceModel.ServiceAuthorizationManager>.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-128">Host-level authorization can be implemented by using <xref:System.ServiceModel.ServiceAuthorizationManager>.</span></span> <span data-ttu-id="ed8e0-129">Zobrazit [jak: Vytvoření vlastního Správce autorizací pro službu](https://go.microsoft.com/fwlink/?LinkId=192228) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-129">See [How To: Create a Custom Authorization Manager for a Service](https://go.microsoft.com/fwlink/?LinkId=192228) for details.</span></span>

- <span data-ttu-id="ed8e0-130">ServiceSecurityContext pro příchozí zprávy je také dostupné v rámci pracovního postupu tak přístup k informacím OperationContext.</span><span class="sxs-lookup"><span data-stu-id="ed8e0-130">The ServiceSecurityContext for the incoming message is also available from within workflow by accessing OperationContext.</span></span>

## <a name="wf-security-pack-ctp"></a><span data-ttu-id="ed8e0-131">Balíček zabezpečení WF CTP</span><span class="sxs-lookup"><span data-stu-id="ed8e0-131">WF Security Pack CTP</span></span>
 <span data-ttu-id="ed8e0-132">Microsoft WF zabezpečení Pack CTP 1 je první verze preview (CTP) technologie komunity sady aktivit a jejich provedení na základě [Windows Workflow Foundation](index.md) v [rozhraní .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w0x726c2(v=vs.100)) pracovní postup WF ( (4) a [Windows Identity Foundation (WIF)](../security/index.md).</span><span class="sxs-lookup"><span data-stu-id="ed8e0-132">The Microsoft WF Security Pack CTP 1 is the first community technology preview (CTP) release of a set of activities and their implementation based on [Windows Workflow Foundation](index.md) in [.NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w0x726c2(v=vs.100)) (WF 4) and the [Windows Identity Foundation (WIF)](../security/index.md).</span></span>  <span data-ttu-id="ed8e0-133">CTP 1 Microsoft WF zabezpečení balíček obsahuje aktivity a jejich návrhářů, které ukazují, jak jednoduše povolit různé scénáře související se zabezpečením pomocí pracovního postupu, včetně:</span><span class="sxs-lookup"><span data-stu-id="ed8e0-133">The Microsoft WF Security Pack CTP 1 contains both activities and their designers which illustrate how to easily enable various security-related scenarios using workflow, including:</span></span>

1. <span data-ttu-id="ed8e0-134">Zosobnění identity klienta v pracovním postupu</span><span class="sxs-lookup"><span data-stu-id="ed8e0-134">Impersonating a client identity in the workflow</span></span>

2. <span data-ttu-id="ed8e0-135">V pracovním postupu autorizace, jako například PrincipalPermission a ověřování deklarací identity</span><span class="sxs-lookup"><span data-stu-id="ed8e0-135">In-workflow authorization, such as PrincipalPermission and validation of Claims</span></span>

3. <span data-ttu-id="ed8e0-136">Ověřený zasílání zpráv pomocí ClientCredentials určeným v pracovním postupu, jako je například uživatelské jméno a heslo, nebo token načíst z tokenu služby zabezpečení (STS)</span><span class="sxs-lookup"><span data-stu-id="ed8e0-136">Authenticated messaging using ClientCredentials specified in the workflow, such as username/password or a token retrieved from a Security Token Service (STS)</span></span>

4. <span data-ttu-id="ed8e0-137">Tok tokenu zabezpečení klienta ke službě back-end (založené na deklaracích delegování) pomocí WS-Trust ActAs</span><span class="sxs-lookup"><span data-stu-id="ed8e0-137">Flowing a client security token to a back-end service (claims-based delegation) using WS-Trust ActAs</span></span>

<span data-ttu-id="ed8e0-138">Další informace a stáhnout verzi CTP WF zabezpečení balíčku najdete v tématu: [Balíček zabezpečení WF CTP](https://archive.codeplex.com/?p=wf)</span><span class="sxs-lookup"><span data-stu-id="ed8e0-138">For more information and to download the WF Security Pack CTP, see: [WF Security Pack CTP](https://archive.codeplex.com/?p=wf)</span></span>