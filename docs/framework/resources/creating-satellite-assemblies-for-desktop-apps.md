---
title: Vytváření satelitních sestavení pro aplikace klasické pracovní plochy
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- public keys, obtaining
- satellite assemblies
- assemblies [.NET Framework], signing
- application resources, deploying
- Al.exe
- GAC (global assembly cache), satellite assemblies
- Assembly Linker
- directory locations for satellite assemblies
- global assembly cache, satellite assemblies
- packaging application resources
- compiling satellite assemblies
- re-signing assemblies
ms.assetid: 8d5c6044-2919-41d2-8321-274706b295ac
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 719f71f42ac7b0c376525ab3a316a986af0b0f43
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54678795"
---
# <a name="creating-satellite-assemblies-for-desktop-apps"></a><span data-ttu-id="425ee-102">Vytváření satelitních sestavení pro aplikace klasické pracovní plochy</span><span class="sxs-lookup"><span data-stu-id="425ee-102">Creating Satellite Assemblies for Desktop Apps</span></span>
<span data-ttu-id="425ee-103">Soubory prostředků přehrát hlavní roli v lokalizovaných aplikacích.</span><span class="sxs-lookup"><span data-stu-id="425ee-103">Resource files play a central role in localized applications.</span></span> <span data-ttu-id="425ee-104">Umožňují aplikaci zobrazíte řetězce, obrázky a další data v vlastněných uživateli jazyk a jazykovou verzi a poskytnout alternativní dat, pokud nejsou k dispozici prostředky pro uživatele vlastní jazyk nebo jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-104">They enable an application to display strings, images, and other data in the user's own language and culture, and to provide alternate data if resources for the user's own language or culture are unavailable.</span></span> <span data-ttu-id="425ee-105">Model střed a paprsek rozhraní .NET Framework používá k vyhledání a načtení lokalizovaných prostředků.</span><span class="sxs-lookup"><span data-stu-id="425ee-105">The .NET Framework uses a hub-and-spoke model to locate and retrieve localized resources.</span></span> <span data-ttu-id="425ee-106">Centrum je hlavní sestavení, která obsahuje spustitelný kód bez možnosti lokalizace a prostředky pro jediné jazykové verze, která se nazývá neutrální nebo výchozí jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-106">The hub is the main assembly that contains the non-localizable executable code and the resources for a single culture, which is called the neutral or default culture.</span></span> <span data-ttu-id="425ee-107">Výchozí jazykovou verzi je záložní jazykovou verzi pro aplikaci. používá se, když jsou k dispozici žádné lokalizované prostředky.</span><span class="sxs-lookup"><span data-stu-id="425ee-107">The default culture is the fallback culture for the application; it is used when no localized resources are available.</span></span> <span data-ttu-id="425ee-108">Můžete použít <xref:System.Resources.NeutralResourcesLanguageAttribute> atribut k určení jazykovou verzi aplikace výchozí jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-108">You use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to designate the culture of the application's default culture.</span></span> <span data-ttu-id="425ee-109">Každého paprsku se připojí k satelitní sestavení, která obsahuje prostředky pro jeden lokalizovanou jazykovou verzi, ale neobsahuje žádný kód.</span><span class="sxs-lookup"><span data-stu-id="425ee-109">Each spoke connects to a satellite assembly that contains the resources for a single localized culture but does not contain any code.</span></span> <span data-ttu-id="425ee-110">Protože satelitní sestavení nejsou součástí hlavní sestavení, můžete snadno aktualizovat nebo nahradit prostředky, které odpovídají konkrétní jazykovou verzi, bez nutnosti vyměnit hlavní sestavení pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="425ee-110">Because the satellite assemblies are not part of the main assembly, you can easily update or replace resources that correspond to a specific culture without replacing the main assembly for the application.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="425ee-111">Prostředky aplikace výchozí jazykovou verzi mohou být uloženy také v satelitním sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-111">The resources of an application's default culture can also be stored in a satellite assembly.</span></span> <span data-ttu-id="425ee-112">Chcete-li to provést, přiřaďte <xref:System.Resources.NeutralResourcesLanguageAttribute> atribut hodnotu <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="425ee-112">To do this, you assign the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span></span>  
  
## <a name="satellite-assembly-name-and-location"></a><span data-ttu-id="425ee-113">Satelitní sestavení název a umístění</span><span class="sxs-lookup"><span data-stu-id="425ee-113">Satellite Assembly Name and Location</span></span>  
 <span data-ttu-id="425ee-114">Model střed a paprsek vyžaduje umístit prostředky v konkrétní umístění tak, aby bylo možné snadno nachází a použít.</span><span class="sxs-lookup"><span data-stu-id="425ee-114">The hub-and-spoke model requires that you place resources in specific locations so that they can be easily located and used.</span></span> <span data-ttu-id="425ee-115">Pokud tak učiníte kompilace a název prostředky podle očekávání nebo je umístit není ve správném umístění, modul common language runtime nebudete moct umisťovat a místo toho použije prostředků výchozí jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-115">If you do not compile and name resources as expected, or if you do not place them in the correct locations, the common language runtime will not be able to locate them and will use the resources of the default culture instead.</span></span> <span data-ttu-id="425ee-116">Rozhraní .NET Framework Resource Manageru reprezentována <xref:System.Resources.ResourceManager> objektu, se používá k automatickému přístupu k lokalizované prostředky.</span><span class="sxs-lookup"><span data-stu-id="425ee-116">The .NET Framework Resource Manager, represented by a <xref:System.Resources.ResourceManager> object, is used to automatically access localized resources.</span></span> <span data-ttu-id="425ee-117">Resource Manageru vyžaduje následující:</span><span class="sxs-lookup"><span data-stu-id="425ee-117">The Resource Manager requires the following:</span></span>  
  
-   <span data-ttu-id="425ee-118">Jedno satelitní sestavení musí zahrnovat všechny prostředky pro konkrétní jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-118">A single satellite assembly must include all the resources for a particular culture.</span></span> <span data-ttu-id="425ee-119">Jinými slovy byste měli kompilovat více souborů .txt nebo .resx do jediné binární soubor .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-119">In other words, you should compile multiple .txt or .resx files into a single binary .resources file.</span></span>  
  
-   <span data-ttu-id="425ee-120">Musí být samostatné podadresář v adresáři aplikace pro každou lokalizovanou jazykovou verzi, která ukládá danou jazykovou verzi prostředků.</span><span class="sxs-lookup"><span data-stu-id="425ee-120">There must be a separate subdirectory in the application directory for each localized culture that stores that culture's resources.</span></span> <span data-ttu-id="425ee-121">Název podadresáře musí být stejný jako název jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-121">The subdirectory name must be the same as the culture name.</span></span> <span data-ttu-id="425ee-122">Alternativně můžete uložit satelitní sestavení v globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-122">Alternately, you can store your satellite assemblies in the global assembly cache.</span></span> <span data-ttu-id="425ee-123">V takovém případě součást informací o jazykové verzi sestavení silným názvem musíte uvést jeho jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-123">In this case, the culture information component of the assembly's strong name must indicate its culture.</span></span> <span data-ttu-id="425ee-124">(Viz [instalace satelitní sestavení v globální mezipaměti sestavení](#SN) později v tomto tématu.)</span><span class="sxs-lookup"><span data-stu-id="425ee-124">(See the [Installing Satellite Assemblies in the Global Assembly Cache](#SN) section later in this topic.)</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="425ee-125">Pokud vaše aplikace obsahuje prostředky pro subkultury, umístěte každou subkulturu v samostatném podadresáři adresáře aplikace.</span><span class="sxs-lookup"><span data-stu-id="425ee-125">If your application includes resources for subcultures, place each subculture in a separate subdirectory under the application directory.</span></span> <span data-ttu-id="425ee-126">Neumísťujte subkultury v podadresářích adresáře jejich hlavní jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-126">Do not place subcultures in subdirectories under their main culture's directory.</span></span>  
  
-   <span data-ttu-id="425ee-127">Satelitní sestavení musí mít stejný název jako aplikace a musíte použít příponu názvu souboru ". resources.dll".</span><span class="sxs-lookup"><span data-stu-id="425ee-127">The satellite assembly must have the same name as the application, and must use the file name extension ".resources.dll".</span></span> <span data-ttu-id="425ee-128">Například pokud aplikace jmenuje Example.exe, název každé satelitní sestavení by měl být Example.resources.dll.</span><span class="sxs-lookup"><span data-stu-id="425ee-128">For example, if an application is named Example.exe, the name of each satellite assembly should be Example.resources.dll.</span></span> <span data-ttu-id="425ee-129">Všimněte si, že název sestavení satelitních neznamená jazykovou verzi jeho souborů prostředků.</span><span class="sxs-lookup"><span data-stu-id="425ee-129">Note that the satellite assembly name does not indicate the culture of its resource files.</span></span> <span data-ttu-id="425ee-130">Satelitní sestavení se však zobrazí do adresáře, který zadat jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-130">However, the satellite assembly appears in a directory that does specify the culture.</span></span>  
  
-   <span data-ttu-id="425ee-131">Informace o jazykové verzi satelitního sestavení musí obsahovat metadata sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-131">Information about the culture of the satellite assembly must be included in the assembly's metadata.</span></span> <span data-ttu-id="425ee-132">Chcete-li uložit název jazykové verze v metadatech satelitní sestavení, zadejte `/culture` možnost při použití [Assembly Linker](../../../docs/framework/tools/al-exe-assembly-linker.md) pro vložení prostředkům v satelitním sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-132">To store the culture name in the satellite assembly's metadata, you specify the `/culture` option when you use [Assembly Linker](../../../docs/framework/tools/al-exe-assembly-linker.md) to embed resources in the satellite assembly.</span></span>  
  
 <span data-ttu-id="425ee-133">Následující obrázek znázorňuje ukázka directory struktuře a umístění požadavky pro aplikace, které nejsou instalace v [globální mezipaměti sestavení](../../../docs/framework/app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-133">The following illustration shows a sample directory structure and location requirements for applications that you are not installing in the [global assembly cache](../../../docs/framework/app-domains/gac.md).</span></span> <span data-ttu-id="425ee-134">Položky s příponami TXT a .resources nebude dodání pomocí konečné aplikace.</span><span class="sxs-lookup"><span data-stu-id="425ee-134">The items with .txt and .resources extensions will not ship with the final application.</span></span> <span data-ttu-id="425ee-135">Jsou to soubory zprostředkující prostředek použitý k vytvoření konečného satelitní sestavení prostředků.</span><span class="sxs-lookup"><span data-stu-id="425ee-135">These are the intermediate resource files used to create the final satellite resource assemblies.</span></span> <span data-ttu-id="425ee-136">V tomto příkladu můžete nahradit souborů .resx pro soubory TXT.</span><span class="sxs-lookup"><span data-stu-id="425ee-136">In this example, you could substitute .resx files for the .txt files.</span></span> <span data-ttu-id="425ee-137">Další informace najdete v tématu [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-137">For more information, see [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>  
  
 <span data-ttu-id="425ee-138">![Satelitní sestavení](../../../docs/framework/resources/media/satelliteassemblydir.gif "satelliteassemblydir")</span><span class="sxs-lookup"><span data-stu-id="425ee-138">![Satellite assemblies](../../../docs/framework/resources/media/satelliteassemblydir.gif "satelliteassemblydir")</span></span>  
<span data-ttu-id="425ee-139">Adresář satelitního sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-139">Satellite assembly directory</span></span>  
  
## <a name="compiling-satellite-assemblies"></a><span data-ttu-id="425ee-140">Kompilování satelitních sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-140">Compiling Satellite Assemblies</span></span>  
 <span data-ttu-id="425ee-141">Použijete [Resource File Generator (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) ke kompilaci textové soubory nebo soubory XML (.resx), které obsahují prostředky do binárních souborů .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-141">You use [Resource File Generator (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile text files or XML (.resx) files that contain resources to binary .resources files.</span></span> <span data-ttu-id="425ee-142">Pak použijete [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) ke kompilaci souborů .resources do satelitních sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-142">You then use [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) to compile .resources files into satellite assemblies.</span></span> <span data-ttu-id="425ee-143">Vytvoří Al.exe sestavení ze souborů .resources, které zadáte.</span><span class="sxs-lookup"><span data-stu-id="425ee-143">Al.exe creates an assembly from the .resources files that you specify.</span></span> <span data-ttu-id="425ee-144">Satelitní sestavení může obsahovat pouze prostředky; nesmí obsahovat žádný spustitelný kód.</span><span class="sxs-lookup"><span data-stu-id="425ee-144">Satellite assemblies can contain only resources; they cannot contain any executable code.</span></span>  
  
 <span data-ttu-id="425ee-145">Následující příkaz Al.exe vytvoří satelitní sestavení pro aplikaci `Example` ze souboru strings.de.resources německé prostředky.</span><span class="sxs-lookup"><span data-stu-id="425ee-145">The following Al.exe command creates a satellite assembly for the application `Example` from the German resources file strings.de.resources.</span></span>  
  
```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll  
```  
  
 <span data-ttu-id="425ee-146">Následující příkaz Al.exe také vytvoří satelitní sestavení pro aplikaci `Example` ze souboru strings.de.resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-146">The following Al.exe command also creates a satellite assembly for the application `Example` from the file strings.de.resources.</span></span> <span data-ttu-id="425ee-147">**/Template** možnost způsobí, že satelitní sestavení dědí všechna metadata sestavení s výjimkou jeho informace o jazykové verzi z nadřazeného sestavení (Example.dll).</span><span class="sxs-lookup"><span data-stu-id="425ee-147">The **/template** option causes the satellite assembly to inherit all assembly metadata except for its culture information from the parent assembly (Example.dll).</span></span>  
  
```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll -template:Example.dll  
```  
  
 <span data-ttu-id="425ee-148">Následující tabulka popisuje možnosti Al.exe použité v příkazech podrobněji.</span><span class="sxs-lookup"><span data-stu-id="425ee-148">The following table describes the Al.exe options used in these commands in more detail.</span></span>  
  
|<span data-ttu-id="425ee-149">Možnost</span><span class="sxs-lookup"><span data-stu-id="425ee-149">Option</span></span>|<span data-ttu-id="425ee-150">Popis</span><span class="sxs-lookup"><span data-stu-id="425ee-150">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="425ee-151">**-target:** lib</span><span class="sxs-lookup"><span data-stu-id="425ee-151">**-target:** lib</span></span>|<span data-ttu-id="425ee-152">Určuje, že satelitní sestavení je kompilováno do souboru knihovny (DLL.dll).</span><span class="sxs-lookup"><span data-stu-id="425ee-152">Specifies that your satellite assembly is compiled to a library (.dll) file.</span></span> <span data-ttu-id="425ee-153">Protože satelitní sestavení neobsahuje žádná spustitelný kód a není sestavení hlavní aplikace, je nutné uložit jako knihovny DLL satelitních sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-153">Because a satellite assembly does not contain executable code and is not an application's main assembly, you must save satellite assemblies as DLLs.</span></span>|  
|<span data-ttu-id="425ee-154">**-embed:** strings.de.resources</span><span class="sxs-lookup"><span data-stu-id="425ee-154">**-embed:** strings.de.resources</span></span>|<span data-ttu-id="425ee-155">Určuje název souboru prostředků pro vložení při Al.exe zkompiluje sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-155">Specifies the name of the resource file to embed when Al.exe compiles the assembly.</span></span> <span data-ttu-id="425ee-156">Můžete vložit několik souborů .resources v satelitním sestavení, ale pokud postupujete model střed a paprsek, musíte zkompilovat jedno satelitní sestavení pro každou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-156">You can embed multiple .resources files in a satellite assembly, but if you are following the hub-and-spoke model, you must compile one satellite assembly for each culture.</span></span> <span data-ttu-id="425ee-157">Můžete však vytvořit oddělených souborů .resources pro řetězce a objekty.</span><span class="sxs-lookup"><span data-stu-id="425ee-157">However, you can create separate .resources files for strings and objects.</span></span>|  
|<span data-ttu-id="425ee-158">**-jazykové verze:** de</span><span class="sxs-lookup"><span data-stu-id="425ee-158">**-culture:** de</span></span>|<span data-ttu-id="425ee-159">Určuje jazykovou verzi prostředků pro kompilaci.</span><span class="sxs-lookup"><span data-stu-id="425ee-159">Specifies the culture of the resource to compile.</span></span> <span data-ttu-id="425ee-160">Modul common language runtime používá tyto informace při vyhledávání prostředků pro zadanou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-160">The common language runtime uses this information when it searches for the resources for a specified culture.</span></span> <span data-ttu-id="425ee-161">Pokud tento parametr vynecháte, Al.exe se stále zkompiluje prostředek, ale modul runtime nebude možné najít, když uživatel požaduje.</span><span class="sxs-lookup"><span data-stu-id="425ee-161">If you omit this option, Al.exe will still compile the resource, but the runtime will not be able to find it when a user requests it.</span></span>|  
|<span data-ttu-id="425ee-162">**-out:** Example.resources.dll</span><span class="sxs-lookup"><span data-stu-id="425ee-162">**-out:** Example.resources.dll</span></span>|<span data-ttu-id="425ee-163">Určuje název výstupního souboru.</span><span class="sxs-lookup"><span data-stu-id="425ee-163">Specifies the name of the output file.</span></span> <span data-ttu-id="425ee-164">Název musí splňovat standardní pojmenování *baseName*.resources. *rozšíření*, kde *baseName* je název hlavního sestavení a *rozšíření* je platnou příponu (například .dll).</span><span class="sxs-lookup"><span data-stu-id="425ee-164">The name must follow the naming standard *baseName*.resources.*extension*, where *baseName* is the name of the main assembly and *extension* is a valid file name extension (such as .dll).</span></span> <span data-ttu-id="425ee-165">Všimněte si, že modul runtime nedokáže určit jazykovou verzi satelitního sestavení založené na jeho název výstupního souboru; je nutné použít **/culture** možnost k jeho zadání.</span><span class="sxs-lookup"><span data-stu-id="425ee-165">Note that the runtime is not able to determine the culture of a satellite assembly based on its output file name; you must use the **/culture** option to specify it.</span></span>|  
|<span data-ttu-id="425ee-166">**– Šablona:** Example.dll</span><span class="sxs-lookup"><span data-stu-id="425ee-166">**-template:** Example.dll</span></span>|<span data-ttu-id="425ee-167">Určuje sestavení, ze kterého se satelitní sestavení dědí všechna metadata sestavení s výjimkou pole jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-167">Specifies an assembly from which the satellite assembly will inherit all assembly metadata except the culture field.</span></span> <span data-ttu-id="425ee-168">Tato možnost se týká satelitní sestavení pouze v případě, že při zadání sestavení, který má [silným názvem](../../../docs/framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-168">This option affects satellite assemblies only if you specify an assembly that has a [strong name](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span>|  
  
 <span data-ttu-id="425ee-169">Úplný seznam možností, které jsou s Al.exe najdete v tématu [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-169">For a complete list of options available with Al.exe, see [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span>  
  
## <a name="satellite-assemblies-an-example"></a><span data-ttu-id="425ee-170">Satelitní sestavení: Příklad</span><span class="sxs-lookup"><span data-stu-id="425ee-170">Satellite Assemblies: An Example</span></span>  
 <span data-ttu-id="425ee-171">Níže je jednoduchý příklad "Hello world", který se zobrazí okno se zprávou obsahující lokalizované pozdrav.</span><span class="sxs-lookup"><span data-stu-id="425ee-171">The following is a simple "Hello world" example that displays a message box containing a localized greeting.</span></span> <span data-ttu-id="425ee-172">V příkladu obsahuje prostředky pro angličtinu (Spojené státy), francouzština (Francie) a jazykové verze ruština (Rusko) a jeho záložní jazykovou verzi je angličtina.</span><span class="sxs-lookup"><span data-stu-id="425ee-172">The example includes resources for the English (United States), French (France), and Russian (Russia) cultures, and its fallback culture is English.</span></span> <span data-ttu-id="425ee-173">Chcete-li vytvořit příklad, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="425ee-173">To create the example, do the following:</span></span>  
  
1.  <span data-ttu-id="425ee-174">Vytvoření souboru prostředků s názvem Greeting.resx nebo Greeting.txt tak, aby obsahovala prostředků pro výchozí jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-174">Create a resource file named Greeting.resx or Greeting.txt to contain the resource for the default culture.</span></span> <span data-ttu-id="425ee-175">Jeden řetězec s názvem Store `HelloString` jehož hodnota je "Hello world!"</span><span class="sxs-lookup"><span data-stu-id="425ee-175">Store a single string named `HelloString` whose value is "Hello world!"</span></span> <span data-ttu-id="425ee-176">v tomto souboru.</span><span class="sxs-lookup"><span data-stu-id="425ee-176">in this file.</span></span>  
  
2.  <span data-ttu-id="425ee-177">K označení, že je angličtina (en) výchozí jazykovou verzi aplikace, přidejte následující <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> atribut souboru AssemblyInfo aplikace nebo souboru hlavní zdrojového kódu, který se zkompiluje do sestavení hlavní aplikace.</span><span class="sxs-lookup"><span data-stu-id="425ee-177">To indicate that English (en) is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Locating#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/assemblyinfo.cs#2)]
     [!code-vb[Conceptual.Resources.Locating#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/assemblyinfo.vb#2)]  
  
3.  <span data-ttu-id="425ee-178">Přidání podpory pro další jazykové verze (en US, fr-FR a ru-RU) aplikace následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="425ee-178">Add support for additional cultures (en-US, fr-FR, and ru-RU) to the application as follows:</span></span>  
  
    -   <span data-ttu-id="425ee-179">Pro podporu en US nebo jazykové verze Angličtina (Spojené státy), vytvořit soubor prostředků s názvem Greeting.en US.resx nebo Greeting.en US.txt a do ní uložte jednoho řetězce s názvem `HelloString` jehož hodnota je "Ahoj světe!"</span><span class="sxs-lookup"><span data-stu-id="425ee-179">To support the en-US or English (United States) culture, create a resource file named Greeting.en-US.resx or Greeting.en-US.txt, and store in it a single string named `HelloString` whose value is "Hi world!"</span></span>  
  
    -   <span data-ttu-id="425ee-180">Pro podporu fr-FR nebo jazykovou verzi francouzština (Francie), vytvořit soubor prostředků s názvem Greeting.fr-FR.resx nebo Greeting.fr FR.txt a do ní uložte jednoho řetězce s názvem `HelloString` jehož hodnota je "Salut včetně the World!"</span><span class="sxs-lookup"><span data-stu-id="425ee-180">To support the fr-FR or French (France) culture, create a resource file named Greeting.fr-FR.resx or Greeting.fr-FR.txt, and store in it a single string named `HelloString` whose value is "Salut tout le monde!"</span></span>  
  
    -   <span data-ttu-id="425ee-181">Pro podporu, ru-RU nebo ruština (Rusko) jazykovou verzi, vytvořit soubor prostředků s názvem Greeting.ru RU.resx nebo Greeting.ru RU.txt a do ní uložte jednoho řetězce s názvem `HelloString` jehož hodnota je "Всем привет!"</span><span class="sxs-lookup"><span data-stu-id="425ee-181">To support the ru-RU or Russian (Russia) culture, create a resource file named Greeting.ru-RU.resx or Greeting.ru-RU.txt, and store in it a single string named `HelloString` whose value is "Всем привет!"</span></span>  
  
4.  <span data-ttu-id="425ee-182">Použití [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) kompilace jednotlivých textu nebo XML souboru prostředků do binárního souboru .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-182">Use [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="425ee-183">Výstupem je sada souborů, které mají stejný název kořenového souboru jako soubory RESX a txt, ale s příponou .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-183">The output is a set of files that have the same root file name as the .resx or .txt files, but a .resources extension.</span></span> <span data-ttu-id="425ee-184">Pokud v příkladu vytvoříte pomocí sady Visual Studio, je automaticky zpracována proces kompilace.</span><span class="sxs-lookup"><span data-stu-id="425ee-184">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="425ee-185">Pokud nepoužíváte Visual Studio, spusťte následující příkazy pro kompilaci souborů .resx na soubory .resources:</span><span class="sxs-lookup"><span data-stu-id="425ee-185">If you aren't using Visual Studio, run the following commands to compile the .resx files into .resources files:</span></span>  
  
    ```console
    resgen Greeting.resx  
    resgen Greeting.en-us.resx  
    resgen Greeting.fr-FR.resx  
    resgen Greeting.ru-RU.resx  
    ```  
  
     <span data-ttu-id="425ee-186">Pokud jsou vaše prostředky v textových souborech místo souborů XML, nahraďte příponou .resx .txt.</span><span class="sxs-lookup"><span data-stu-id="425ee-186">If your resources are in text files instead of XML files, replace the .resx extension with .txt.</span></span>  
  
5.  <span data-ttu-id="425ee-187">Zkompilujte následující kód zdroj spolu s prostředky pro výchozí jazykovou verzi do sestavení hlavní aplikace:</span><span class="sxs-lookup"><span data-stu-id="425ee-187">Compile the following source code along with the resources for the default culture into the application's main assembly:</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="425ee-188">Pokud používáte příkazového řádku namísto Visual Studio k vytvoření příkladu, byste měli upravit volání <xref:System.Resources.ResourceManager> konstruktoru třídy takto: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span><span class="sxs-lookup"><span data-stu-id="425ee-188">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to the following: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span></span>  
  
     [!code-csharp[Conceptual.Resources.Locating#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/program.cs#1)]
     [!code-vb[Conceptual.Resources.Locating#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/module1.vb#1)]  
  
     <span data-ttu-id="425ee-189">Pokud aplikace jmenuje například a při kompilaci z příkazového řádku pro příkaz C# kompilátoru je:</span><span class="sxs-lookup"><span data-stu-id="425ee-189">If the application is named Example and you are compiling from the command line, the command for the C# compiler is:</span></span>  
  
    ```console  
    csc Example.cs -res:Greeting.resources  
    ```  
  
     <span data-ttu-id="425ee-190">Příkaz odpovídající kompilátoru jazyka Visual Basic je:</span><span class="sxs-lookup"><span data-stu-id="425ee-190">The corresponding Visual Basic compiler command is:</span></span>  
  
    ```console  
    vbc Example.vb -res:Greeting.resources  
    ```  
  
6.  <span data-ttu-id="425ee-191">Vytvořte podadresář v adresáři hlavní aplikace pro každou lokalizovanou jazykovou verzi podporováno v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="425ee-191">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="425ee-192">Měli byste vytvořit en US, fr-FR a podadresář ru-RU.</span><span class="sxs-lookup"><span data-stu-id="425ee-192">You should create an en-US, an fr-FR, and an ru-RU subdirectory.</span></span> <span data-ttu-id="425ee-193">Tyto podsložky Visual Studio automaticky vytvoří jako součást procesu kompilace.</span><span class="sxs-lookup"><span data-stu-id="425ee-193">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span>  
  
7.  <span data-ttu-id="425ee-194">Vložení souborů .resources jednotlivých specifické pro jazykovou verzi do satelitních sestavení a uložit je do příslušného adresáře.</span><span class="sxs-lookup"><span data-stu-id="425ee-194">Embed the individual culture-specific .resources files into satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="425ee-195">Příkaz pro každý soubor .resources je:</span><span class="sxs-lookup"><span data-stu-id="425ee-195">The command to do this for each .resources file is:</span></span>  
  
    ```console
    al -target:lib -embed:Greeting.culture.resources -culture:culture -out:culture\Example.resources.dll  
    ```  
  
     <span data-ttu-id="425ee-196">kde *jazykovou verzi* je název jazykové verze, jejíž prostředků obsahuje satelitní sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-196">where *culture* is the name of the culture whose resources the satellite assembly contains.</span></span> <span data-ttu-id="425ee-197">Visual Studio automaticky zpracovává tento proces.</span><span class="sxs-lookup"><span data-stu-id="425ee-197">Visual Studio handles this process automatically.</span></span>  
  
 <span data-ttu-id="425ee-198">Potom můžete spustit v příkladu.</span><span class="sxs-lookup"><span data-stu-id="425ee-198">You can then run the example.</span></span> <span data-ttu-id="425ee-199">Náhodně bude jeden z podporovaných jazykových verzí aktuální jazykové verze a zobrazit lokalizované pozdrav.</span><span class="sxs-lookup"><span data-stu-id="425ee-199">It will randomly make one of the supported cultures the current culture and display a localized greeting.</span></span>  
  
<a name="SN"></a>   
## <a name="installing-satellite-assemblies-in-the-global-assembly-cache"></a><span data-ttu-id="425ee-200">Instalace satelitní sestavení v globální mezipaměti sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-200">Installing Satellite Assemblies in the Global Assembly Cache</span></span>  
 <span data-ttu-id="425ee-201">Místo instalace sestavení v podadresáři místní aplikace, můžete je nainstalovat do globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-201">Instead of installing assemblies in a local application subdirectory, you can install them in the global assembly cache.</span></span> <span data-ttu-id="425ee-202">To je zvlášť užitečné, pokud máte sestavení prostředků knihovny tříd, které jsou používány více aplikací a knihoven tříd.</span><span class="sxs-lookup"><span data-stu-id="425ee-202">This is particularly useful if you have class libraries and class library resource assemblies that are used by multiple applications.</span></span>  
  
 <span data-ttu-id="425ee-203">Instalace sestavení do globální mezipaměti sestavení vyžaduje, ke kterým mají silných názvů.</span><span class="sxs-lookup"><span data-stu-id="425ee-203">Installing assemblies in the global assembly cache requires that they have strong names.</span></span> <span data-ttu-id="425ee-204">Sestavení se silným názvem jsou podepsány pomocí platný dvojice veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-204">Strong-named assemblies are signed with a valid public/private key pair.</span></span> <span data-ttu-id="425ee-205">Obsahují informace o verzi, která modul runtime používá k určení sestavení, které by vyhovovaly žádosti o vazbu pomocí.</span><span class="sxs-lookup"><span data-stu-id="425ee-205">They contain version information that the runtime uses to determine which assembly to use to satisfy a binding request.</span></span> <span data-ttu-id="425ee-206">Další informace o silné názvy a správy verzí, naleznete v tématu [Správa verzí sestavení](../../../docs/framework/app-domains/assembly-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-206">For more information about strong names and versioning, see [Assembly Versioning](../../../docs/framework/app-domains/assembly-versioning.md).</span></span> <span data-ttu-id="425ee-207">Další informace o silných názvů najdete v tématu [sestavení se silným názvem](../../../docs/framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-207">For more information about strong names, see [Strong-Named Assemblies](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span>  
  
 <span data-ttu-id="425ee-208">Když vyvíjíte aplikaci, je pravděpodobné, že budete mít přístup k poslední dvojice veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-208">When you are developing an application, it is unlikely that you will have access to the final public/private key pair.</span></span> <span data-ttu-id="425ee-209">Pokud chcete nainstalovat satelitní sestavení v globální mezipaměti sestavení a ujistěte se, že funguje podle očekávání, můžete použít techniky označované jako zpožděného podepisování.</span><span class="sxs-lookup"><span data-stu-id="425ee-209">In order to install a satellite assembly in the global assembly cache and ensure that it works as expected, you can use a technique called delayed signing.</span></span> <span data-ttu-id="425ee-210">Pokud jste zpoždění podepsání sestavení, v okamžiku sestavení můžete rezervovat místo v souboru pro podpis silného názvu.</span><span class="sxs-lookup"><span data-stu-id="425ee-210">When you delay sign an assembly, at build time you reserve space in the file for the strong name signature.</span></span> <span data-ttu-id="425ee-211">Podepisování je zpožděna, dokud později, když je k dispozici konečná dvojice veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-211">The actual signing is delayed until later, when the final public/private key pair is available.</span></span> <span data-ttu-id="425ee-212">Další informace o zpožděného podepisování naleznete v tématu [zpožděné podepisování sestavení](../../../docs/framework/app-domains/delay-sign-assembly.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-212">For more information about delayed signing, see [Delay Signing an Assembly](../../../docs/framework/app-domains/delay-sign-assembly.md).</span></span>  
  
### <a name="obtaining-the-public-key"></a><span data-ttu-id="425ee-213">Získání veřejného klíče</span><span class="sxs-lookup"><span data-stu-id="425ee-213">Obtaining the Public Key</span></span>  
 <span data-ttu-id="425ee-214">Zpoždění podepsání sestavení, musí mít přístup k veřejnému klíči.</span><span class="sxs-lookup"><span data-stu-id="425ee-214">To delay sign an assembly, you must have access to the public key.</span></span> <span data-ttu-id="425ee-215">Můžete buď získat reálné veřejný klíč z organizace ve vaší společnosti, která provede konečnou podepisování, nebo vytvořit veřejný klíč pomocí [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-215">You can either obtain the real public key from the organization in your company that will do the eventual signing, or create a public key by using the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span></span>  
  
 <span data-ttu-id="425ee-216">Následující příkaz Sn.exe vytvoří pár test veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-216">The following Sn.exe command creates a test public/private key pair.</span></span> <span data-ttu-id="425ee-217">**– K** možnost určuje, zda by měl vytvořit nový pár klíčů a uložte ho do souboru s názvem TestKeyPair.snk Sn.exe.</span><span class="sxs-lookup"><span data-stu-id="425ee-217">The **–k** option specifies that Sn.exe should create a new key pair and save it in a file named TestKeyPair.snk.</span></span>  
  
```console
sn –k TestKeyPair.snk   
```  
  
 <span data-ttu-id="425ee-218">Extrahujte veřejný klíč ze souboru, který obsahuje pár klíčů testu.</span><span class="sxs-lookup"><span data-stu-id="425ee-218">You can extract the public key from the file that contains the test key pair.</span></span> <span data-ttu-id="425ee-219">Následující příkaz extrahuje veřejný klíč z TestKeyPair.snk a uloží ho do PublicKey.snk:</span><span class="sxs-lookup"><span data-stu-id="425ee-219">The following command extracts the public key from TestKeyPair.snk and saves it in PublicKey.snk:</span></span>  
  
```console
sn –p TestKeyPair.snk PublicKey.snk  
```  
  
### <a name="delay-signing-an-assembly"></a><span data-ttu-id="425ee-220">Zpoždění podepsání sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-220">Delay Signing an Assembly</span></span>  
 <span data-ttu-id="425ee-221">Po Získejte nebo vytvořte veřejný klíč, můžete použít [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) pro kompilaci sestavení a určení zpožděného podepisování.</span><span class="sxs-lookup"><span data-stu-id="425ee-221">After you obtain or create the public key, you use the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) to compile the assembly and specify delayed signing.</span></span>  
  
 <span data-ttu-id="425ee-222">Následující příkaz Al.exe vytvoří silným názvem satelitní sestavení pro aplikaci StringLibrary ze souboru strings.ja.resources:</span><span class="sxs-lookup"><span data-stu-id="425ee-222">The following Al.exe command creates a strong-named satellite assembly for the application StringLibrary from the strings.ja.resources file:</span></span>  
  
```console 
al -target:lib -embed:strings.ja.resources -culture:ja -out:StringLibrary.resources.dll -delay+ -keyfile:PublicKey.snk  
```  
  
 <span data-ttu-id="425ee-223">**– Zpoždění +** možnost určuje, že propojovací program sestavení by měl zpoždění podepsání sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-223">The **-delay+** option specifies that the Assembly Linker should delay sign the assembly.</span></span> <span data-ttu-id="425ee-224">**- Keyfile** Určuje název souboru s klíčem, který obsahuje veřejný klíč sloužící k odložení podepsání sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-224">The **-keyfile** option specifies the name of the key file that contains the public key to use to delay sign the assembly.</span></span>  
  
### <a name="re-signing-an-assembly"></a><span data-ttu-id="425ee-225">Znovu podepisování sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-225">Re-signing an Assembly</span></span>  
 <span data-ttu-id="425ee-226">Před nasazením aplikace ji musíte znovu podepsat zpoždění podepsané satelitní sestavení s reálné dvojice klíčů.</span><span class="sxs-lookup"><span data-stu-id="425ee-226">Before you deploy your application, you must re-sign the delay signed satellite assembly with the real key pair.</span></span> <span data-ttu-id="425ee-227">Můžete to provést pomocí Sn.exe.</span><span class="sxs-lookup"><span data-stu-id="425ee-227">You can do this by using Sn.exe.</span></span>  
  
 <span data-ttu-id="425ee-228">Následující příkaz Sn.exe podepíše StringLibrary.resources.dll párem klíčů uložených v souboru RealKeyPair.snk.</span><span class="sxs-lookup"><span data-stu-id="425ee-228">The following Sn.exe command signs StringLibrary.resources.dll with the key pair stored in the file RealKeyPair.snk.</span></span> <span data-ttu-id="425ee-229">**– R** možnost určuje, že dříve podepsaný nebo zpoždění je podepsané sestavení znovu podepsat.</span><span class="sxs-lookup"><span data-stu-id="425ee-229">The **–R** option specifies that a previously signed or delay signed assembly is to be re-signed.</span></span>  
  
```console
sn –R StringLibrary.resources.dll RealKeyPair.snk   
```  
  
### <a name="installing-a-satellite-assembly-in-the-global-assembly-cache"></a><span data-ttu-id="425ee-230">Instalace satelitní sestavení v globální mezipaměti sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-230">Installing a Satellite Assembly in the Global Assembly Cache</span></span>  
 <span data-ttu-id="425ee-231">Když modul runtime hledá prostředky v procesu nalezení záložního prostředku, hledá v [globální mezipaměti sestavení](../../../docs/framework/app-domains/gac.md) první.</span><span class="sxs-lookup"><span data-stu-id="425ee-231">When the runtime searches for resources in the resource fallback process, it looks in the [global assembly cache](../../../docs/framework/app-domains/gac.md) first.</span></span> <span data-ttu-id="425ee-232">(Další informace najdete v tématu v části "Proces záložního prostředku" [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) tématu.) Co nejdříve satelitní sestavení je podepsáno silným názvem, ho můžete nainstalovat v globální mezipaměti sestavení pomocí [Global Assembly Cache Tool (Gacutil.exe)](../../../docs/framework/tools/gacutil-exe-gac-tool.md).</span><span class="sxs-lookup"><span data-stu-id="425ee-232">(For more information, see the "Resource Fallback Process" section of the [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) topic.) As soon as a satellite assembly is signed with a strong name, it can be installed in the global assembly cache by using the [Global Assembly Cache Tool (Gacutil.exe)](../../../docs/framework/tools/gacutil-exe-gac-tool.md).</span></span>  
  
 <span data-ttu-id="425ee-233">Následující příkaz Gacutil.exe nainstaluje StringLibrary.resources.dll v globální mezipaměti sestavení:</span><span class="sxs-lookup"><span data-stu-id="425ee-233">The following Gacutil.exe command installs StringLibrary.resources.dll in the global assembly cache:</span></span>  
  
```console
gacutil -i:StringLibrary.resources.dll  
```  
  
 <span data-ttu-id="425ee-234">**/I** možnost určuje, že Gacutil.exe nainstalujte zadané sestavení do globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-234">The **/i** option specifies that Gacutil.exe should install the specified assembly into the global assembly cache.</span></span> <span data-ttu-id="425ee-235">Po satelitní sestavení je nainstalováno v mezipaměti, které obsahuje prostředky budou k dispozici pro všechny aplikace, které jsou určeny k použití satelitní sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-235">After the satellite assembly is installed in the cache, the resources it contains become available to all applications that are designed to use the satellite assembly.</span></span>  
  
### <a name="resources-in-the-global-assembly-cache-an-example"></a><span data-ttu-id="425ee-236">Prostředky v globální mezipaměti sestavení: Příklad</span><span class="sxs-lookup"><span data-stu-id="425ee-236">Resources in the Global Assembly Cache: An Example</span></span>  
 <span data-ttu-id="425ee-237">Následující příklad používá metodu v knihovně tříd rozhraní .NET Framework pro extrakci a vrátit lokalizované pozdrav ze souboru prostředků.</span><span class="sxs-lookup"><span data-stu-id="425ee-237">The following example uses a method in a .NET Framework class library to extract and return a localized greeting from a resource file.</span></span> <span data-ttu-id="425ee-238">Knihovny a její prostředky jsou registrovány v globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-238">The library and its resources are registered in the global assembly cache.</span></span> <span data-ttu-id="425ee-239">Příklad obsahuje prostředky pro angličtinu (Spojené státy), francouzština (Francie), ruština (Rusko) a anglické jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-239">The example includes resources for the English (United States), French (France), Russian (Russia), and English cultures.</span></span> <span data-ttu-id="425ee-240">Je výchozí jazykovou verzi, angličtina její prostředky jsou uloženy v hlavním sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-240">English is the default culture; its resources are stored in the main assembly.</span></span> <span data-ttu-id="425ee-241">V příkladu nejdřív zpoždění příznaky knihovny a jeho satelitních sestavení s veřejným klíčem, pak znovu podepíše je pomocí dvojice veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-241">The example initially delay signs the library and its satellite assemblies with a public key, then re-signs them with a public/private key pair.</span></span> <span data-ttu-id="425ee-242">Chcete-li vytvořit příklad, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="425ee-242">To create the example, do the following:</span></span>  
  
1.  <span data-ttu-id="425ee-243">Pokud nepoužíváte Visual Studio, použijte následující [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) příkaz pro vytvoření páru veřejného a privátního klíče s názvem ResKey.snk:</span><span class="sxs-lookup"><span data-stu-id="425ee-243">If you are not using Visual Studio, use the following [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) command to create a public/private key pair named ResKey.snk:</span></span>  
  
    ```console
    sn –k ResKey.snk  
    ```  
  
     <span data-ttu-id="425ee-244">Pokud používáte Visual Studio, použijte **podepisování** kartu projektu **vlastnosti** dialogové okno pro vytvoření souboru klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-244">If you are using Visual Studio, use the **Signing** tab of the project **Properties** dialog box to generate the key file.</span></span>  
  
2.  <span data-ttu-id="425ee-245">Pomocí následujících [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) příkaz pro vytvoření souboru veřejného klíče s názvem PublicKey.snk:</span><span class="sxs-lookup"><span data-stu-id="425ee-245">Use the following [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) command to create a public key file named PublicKey.snk:</span></span>  
  
    ```console
    sn –p ResKey.snk PublicKey.snk  
    ```  
  
3.  <span data-ttu-id="425ee-246">Vytvoření souboru prostředků s názvem Strings.resx tak, aby obsahovala prostředků pro výchozí jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="425ee-246">Create a resource file named Strings.resx to contain the resource for the default culture.</span></span> <span data-ttu-id="425ee-247">Jeden řetězec s názvem Store `Greeting` jehož hodnota je "Jak proveďte vám?"</span><span class="sxs-lookup"><span data-stu-id="425ee-247">Store a single string named `Greeting` whose value is "How do you do?"</span></span> <span data-ttu-id="425ee-248">v tomto souboru.</span><span class="sxs-lookup"><span data-stu-id="425ee-248">in that file.</span></span>  
  
4.  <span data-ttu-id="425ee-249">Označuje, že "en" výchozí jazykovou verzi aplikace, přidejte následující <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> atribut souboru AssemblyInfo aplikace nebo souboru hlavní zdrojového kódu, který se zkompiluje do sestavení hlavní aplikace:</span><span class="sxs-lookup"><span data-stu-id="425ee-249">To indicate that "en" is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly:</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#2)]
     [!code-vb[Conceptual.Resources.Satellites#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#2)]  
  
5.  <span data-ttu-id="425ee-250">Přidání podpory pro další jazykové verze (en US, fr-FR a ru-RU jazykové verze) aplikace následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="425ee-250">Add support for additional cultures (the en-US, fr-FR, and ru-RU cultures) to the application as follows:</span></span>  
  
    -   <span data-ttu-id="425ee-251">Pro podporu "en US" nebo jazykové verze Angličtina (Spojené státy), vytvořit soubor prostředků s názvem Strings.en US.resx nebo Strings.en US.txt a do ní uložte jednoho řetězce s názvem `Greeting` jehož hodnota je "Hello!".</span><span class="sxs-lookup"><span data-stu-id="425ee-251">To support the "en-US" or English (United States) culture, create a resource file named Strings.en-US.resx or Strings.en-US.txt, and store in it a single string named `Greeting` whose value is "Hello!".</span></span>  
  
    -   <span data-ttu-id="425ee-252">Pro podporu "fr-FR" nebo jazykovou verzi francouzština (Francie), vytvořit soubor prostředků s názvem Strings.fr-FR.resx nebo Strings.fr FR.txt a do ní uložte jednoho řetězce s názvem `Greeting` jehož hodnota je "Šťastnou jour!"</span><span class="sxs-lookup"><span data-stu-id="425ee-252">To support the "fr-FR" or French (France) culture, create a resource file named Strings.fr-FR.resx or Strings.fr-FR.txt and store in it a single string named `Greeting` whose value is "Bon jour!"</span></span>  
  
    -   <span data-ttu-id="425ee-253">Pro podporu "ru-RU" nebo ruština (Rusko) jazykovou verzi, vytvořit soubor prostředků s názvem Strings.ru RU.resx nebo Strings.ru RU.txt a do ní uložte jednoho řetězce s názvem `Greeting` jehož hodnota je "Привет!"</span><span class="sxs-lookup"><span data-stu-id="425ee-253">To support the "ru-RU" or Russian (Russia) culture, create a resource file named Strings.ru-RU.resx or Strings.ru-RU.txt and store in it a single string named `Greeting` whose value is "Привет!"</span></span>  
  
6.  <span data-ttu-id="425ee-254">Použití [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) kompilace jednotlivých textu nebo XML souboru prostředků do binárního souboru .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-254">Use [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="425ee-255">Výstupem je sada souborů, které mají stejný název kořenového souboru jako soubory RESX a txt, ale s příponou .resources.</span><span class="sxs-lookup"><span data-stu-id="425ee-255">The output is a set of files that have the same root file name as the .resx or .txt files, but a .resources extension.</span></span> <span data-ttu-id="425ee-256">Pokud v příkladu vytvoříte pomocí sady Visual Studio, je automaticky zpracována proces kompilace.</span><span class="sxs-lookup"><span data-stu-id="425ee-256">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="425ee-257">Pokud nepoužíváte Visual Studio, spusťte následující příkaz pro kompilaci souborů .resx na soubory .resources:</span><span class="sxs-lookup"><span data-stu-id="425ee-257">If you aren't using Visual Studio, run the following command to compile the .resx files into .resources files:</span></span>  
  
    ```console
    resgen filename  
    ```  
  
     <span data-ttu-id="425ee-258">kde *filename* je volitelná cesta, název souboru a příponu souboru .resx nebo text.</span><span class="sxs-lookup"><span data-stu-id="425ee-258">where *filename* is the optional path, file name, and extension of the .resx or text file.</span></span>  
  
7.  <span data-ttu-id="425ee-259">Kompilace následující zdrojový kód z důvodu StringLibrary.vb nebo StringLibrary.cs spolu s prostředky pro výchozí jazykovou verzi na zpoždění podepsané sestavení knihovny s názvem StringLibrary.dll:</span><span class="sxs-lookup"><span data-stu-id="425ee-259">Compile the following source code for StringLibrary.vb or StringLibrary.cs along with the resources for the default culture into a delay signed library assembly named StringLibrary.dll:</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="425ee-260">Pokud používáte příkazového řádku namísto Visual Studio k vytvoření příkladu, byste měli upravit volání <xref:System.Resources.ResourceManager> konstruktor třídy, aby `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span><span class="sxs-lookup"><span data-stu-id="425ee-260">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#1)]
     [!code-vb[Conceptual.Resources.Satellites#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#1)]  
  
     <span data-ttu-id="425ee-261">Příkaz pro C# kompilátoru je:</span><span class="sxs-lookup"><span data-stu-id="425ee-261">The command for the C# compiler is:</span></span>  
  
    ```console
    csc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.cs  
    ```  
  
     <span data-ttu-id="425ee-262">Příkaz odpovídající kompilátoru jazyka Visual Basic je:</span><span class="sxs-lookup"><span data-stu-id="425ee-262">The corresponding Visual Basic compiler command is:</span></span>  
  
    ```console  
    vbc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.vb  
    ```  
  
8.  <span data-ttu-id="425ee-263">Vytvořte podadresář v adresáři hlavní aplikace pro každou lokalizovanou jazykovou verzi podporováno v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="425ee-263">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="425ee-264">Měli byste vytvořit en US, fr-FR a podadresář ru-RU.</span><span class="sxs-lookup"><span data-stu-id="425ee-264">You should create an en-US, an fr-FR, and an ru-RU subdirectory.</span></span> <span data-ttu-id="425ee-265">Tyto podsložky Visual Studio automaticky vytvoří jako součást procesu kompilace.</span><span class="sxs-lookup"><span data-stu-id="425ee-265">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span> <span data-ttu-id="425ee-266">Vzhledem k tomu, že všechny satelitní sestavení se stejným názvem, podadresáře se používají k ukládání jednotlivé specifické pro jazykovou verzi satelitní sestavení, dokud jsou podepsány pomocí dvojice veřejného/soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="425ee-266">Because all satellite assemblies have the same file name, the subdirectories are used to store individual culture-specific satellite assemblies until they are signed with a public/private key pair.</span></span>  
  
9. <span data-ttu-id="425ee-267">Vkládání jednotlivých souborů .resources specifické pro jazykovou verzi do podepisováno satelitní sestavení a uloží je do příslušného adresáře.</span><span class="sxs-lookup"><span data-stu-id="425ee-267">Embed the individual culture-specific .resources files into delay signed satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="425ee-268">Příkaz pro každý soubor .resources je:</span><span class="sxs-lookup"><span data-stu-id="425ee-268">The command to do this for each .resources file is:</span></span>  
  
    ```console
    al -target:lib -embed:Strings.culture.resources -culture:culture -out:culture\StringLibrary.resources.dll -delay+ -keyfile:publickey.snk  
    ```  
  
     <span data-ttu-id="425ee-269">kde *jazykovou verzi* je název jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="425ee-269">where *culture* is the name of a culture.</span></span> <span data-ttu-id="425ee-270">V tomto příkladu jsou názvy jazykové verze en US, fr-FR a ru-RU.</span><span class="sxs-lookup"><span data-stu-id="425ee-270">In this example, the culture names are en-US, fr-FR, and ru-RU.</span></span>  
  
10. <span data-ttu-id="425ee-271">Znovu podepsat pomocí StringLibrary.dll [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="425ee-271">Re-sign StringLibrary.dll by using the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) as follows:</span></span>  
  
    ```console
    sn –R StringLibrary.dll RealKeyPair.snk  
    ```  
  
11. <span data-ttu-id="425ee-272">Znovu podepište jednotlivé satelitních sestavení.</span><span class="sxs-lookup"><span data-stu-id="425ee-272">Re-sign the individual satellite assemblies.</span></span> <span data-ttu-id="425ee-273">Chcete-li to provést, použijte [nástroj Strong Name (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) následujícím způsobem pro každou satelitní sestavení:</span><span class="sxs-lookup"><span data-stu-id="425ee-273">To do this, use the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) as follows for each satellite assembly:</span></span>  
  
    ```console
    sn –R StringLibrary.resources.dll RealKeyPair.snk  
    ```  
  
12. <span data-ttu-id="425ee-274">Zaregistrujte StringLibrary.dll a každá z jeho satelitních sestavení v globální mezipaměti sestavení pomocí následujícího příkazu:</span><span class="sxs-lookup"><span data-stu-id="425ee-274">Register StringLibrary.dll and each of its satellite assemblies in the global assembly cache by using the following command:</span></span>  
  
    ```console
    gacutil -i filename  
    ```  
  
     <span data-ttu-id="425ee-275">kde *filename* je název souboru k registraci.</span><span class="sxs-lookup"><span data-stu-id="425ee-275">where *filename* is the name of the file to register.</span></span>  
  
13. <span data-ttu-id="425ee-276">Pokud používáte Visual Studio, vytvořte nový **konzolovou aplikaci** projekt s názvem `Example`, přidejte do ní odkaz na StringLibrary.dll a následující zdrojový kód a zkompilovat.</span><span class="sxs-lookup"><span data-stu-id="425ee-276">If you are using Visual Studio, create a new **Console Application** project named `Example`, add a reference to StringLibrary.dll and the following source code to it, and compile.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/example.cs#3)]
     [!code-vb[Conceptual.Resources.Satellites#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/example.vb#3)]  
  
     <span data-ttu-id="425ee-277">Pro kompilaci z příkazového řádku, použijte následující příkaz pro C# kompilátoru:</span><span class="sxs-lookup"><span data-stu-id="425ee-277">To compile from the command line, use the following command for the C# compiler:</span></span>  
  
    ```console
    csc Example.cs -r:StringLibrary.dll   
    ```  
  
     <span data-ttu-id="425ee-278">Příkazového řádku pro kompilátor jazyka Visual Basic je:</span><span class="sxs-lookup"><span data-stu-id="425ee-278">The command line for the Visual Basic compiler is:</span></span>  
  
    ```console
    vbc Example.vb -r:StringLibrary.dll   
    ```  
  
14. <span data-ttu-id="425ee-279">Spusťte Example.exe.</span><span class="sxs-lookup"><span data-stu-id="425ee-279">Run Example.exe.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="425ee-280">Viz také:</span><span class="sxs-lookup"><span data-stu-id="425ee-280">See also</span></span>
- [<span data-ttu-id="425ee-281">Zabalení a nasazení prostředků</span><span class="sxs-lookup"><span data-stu-id="425ee-281">Packaging and Deploying Resources</span></span>](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)
- [<span data-ttu-id="425ee-282">Zpoždění podepsání sestavení</span><span class="sxs-lookup"><span data-stu-id="425ee-282">Delay Signing an Assembly</span></span>](../../../docs/framework/app-domains/delay-sign-assembly.md)
- [<span data-ttu-id="425ee-283">Al.exe (linker sestavení)</span><span class="sxs-lookup"><span data-stu-id="425ee-283">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="425ee-284">Sn.exe (nástroj pro silný název)</span><span class="sxs-lookup"><span data-stu-id="425ee-284">Sn.exe (Strong Name Tool)</span></span>](../../../docs/framework/tools/sn-exe-strong-name-tool.md)
- [<span data-ttu-id="425ee-285">Gacutil.exe (nástroj globální mezipaměti sestavení)</span><span class="sxs-lookup"><span data-stu-id="425ee-285">Gacutil.exe (Global Assembly Cache Tool)</span></span>](../../../docs/framework/tools/gacutil-exe-gac-tool.md)
- [<span data-ttu-id="425ee-286">Prostředky v desktopových aplikacích</span><span class="sxs-lookup"><span data-stu-id="425ee-286">Resources in Desktop Apps</span></span>](../../../docs/framework/resources/index.md)
