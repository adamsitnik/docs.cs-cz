---
title: Doporučené postupy pro změnu velikosti v ovládacím prvku Windows Forms DataGridView
ms.date: 03/30/2017
helpviewer_keywords:
- DataGridView control [Windows Forms], row sharing
- data grids [Windows Forms], best practices
- DataGridView control [Windows Forms], shared rows
- DataGridView control [Windows Forms], best practices
- best practices [Windows Forms], dataGridView control
- DataGridView control [Windows Forms], scaling
ms.assetid: 8321a8a6-6340-4fd1-b475-fa090b905aaf
ms.openlocfilehash: 234d29470d9b1c810e23c082a032d9a880b65fbd
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2019
ms.locfileid: "64635002"
---
# <a name="best-practices-for-scaling-the-windows-forms-datagridview-control"></a><span data-ttu-id="2645a-102">Doporučené postupy pro změnu velikosti v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-102">Best Practices for Scaling the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="2645a-103"><xref:System.Windows.Forms.DataGridView> Ovládací prvek je navrženo pro zajištění maximální škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="2645a-103">The <xref:System.Windows.Forms.DataGridView> control is designed to provide maximum scalability.</span></span> <span data-ttu-id="2645a-104">Pokud potřebujete zobrazit velké objemy dat, postupujte podle pokynů popsaných v tomto tématu, aby se zabránilo zpracovávání velké množství paměti a snížení rychlosti odezvy uživatelského rozhraní (UI).</span><span class="sxs-lookup"><span data-stu-id="2645a-104">If you need to display large amounts of data, you should follow the guidelines described in this topic to avoid consuming large amounts of memory or degrading the responsiveness of the user interface (UI).</span></span> <span data-ttu-id="2645a-105">Toto téma popisuje následující problémy:</span><span class="sxs-lookup"><span data-stu-id="2645a-105">This topic discusses the following issues:</span></span>  
  
- <span data-ttu-id="2645a-106">Efektivní využívání styly buňky</span><span class="sxs-lookup"><span data-stu-id="2645a-106">Using cell styles efficiently</span></span>  
  
- <span data-ttu-id="2645a-107">Efektivní využívání nabídek</span><span class="sxs-lookup"><span data-stu-id="2645a-107">Using shortcut menus efficiently</span></span>  
  
- <span data-ttu-id="2645a-108">Používat automatickou změnu velikosti efektivně</span><span class="sxs-lookup"><span data-stu-id="2645a-108">Using automatic resizing efficiently</span></span>  
  
- <span data-ttu-id="2645a-109">Efektivní využívání vybrané kolekce buněk, řádků a sloupců</span><span class="sxs-lookup"><span data-stu-id="2645a-109">Using the selected cells, rows, and columns collections efficiently</span></span>  
  
- <span data-ttu-id="2645a-110">Použití sdílené řádky</span><span class="sxs-lookup"><span data-stu-id="2645a-110">Using shared rows</span></span>  
  
- <span data-ttu-id="2645a-111">Brání stávají odstranit řádky</span><span class="sxs-lookup"><span data-stu-id="2645a-111">Preventing rows from becoming unshared</span></span>  
  
 <span data-ttu-id="2645a-112">Pokud máte zvláštní výkon, můžete implementace virtuálního režimu a zadat vlastní operace správy data.</span><span class="sxs-lookup"><span data-stu-id="2645a-112">If you have special performance needs, you can implement virtual mode and provide your own data management operations.</span></span> <span data-ttu-id="2645a-113">Další informace najdete v tématu [režimy zobrazení dat v ovládacím prvku Windows Forms DataGridView](data-display-modes-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="2645a-113">For more information, see [Data Display Modes in the Windows Forms DataGridView Control](data-display-modes-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-cell-styles-efficiently"></a><span data-ttu-id="2645a-114">Efektivní využívání styly buňky</span><span class="sxs-lookup"><span data-stu-id="2645a-114">Using Cell Styles Efficiently</span></span>  
 <span data-ttu-id="2645a-115">Každý buněk, řádků a sloupců může mít svůj vlastní informace o stylu.</span><span class="sxs-lookup"><span data-stu-id="2645a-115">Each cell, row, and column can have its own style information.</span></span> <span data-ttu-id="2645a-116">Styl informace jsou uloženy v <xref:System.Windows.Forms.DataGridViewCellStyle> objekty.</span><span class="sxs-lookup"><span data-stu-id="2645a-116">Style information is stored in <xref:System.Windows.Forms.DataGridViewCellStyle> objects.</span></span> <span data-ttu-id="2645a-117">Vytváření objektů styl buňky pro mnoho jednotlivých <xref:System.Windows.Forms.DataGridView> elementy může být neefektivní, zejména při práci s velkými objemy dat.</span><span class="sxs-lookup"><span data-stu-id="2645a-117">Creating cell style objects for many individual <xref:System.Windows.Forms.DataGridView> elements can be inefficient, especially when working with large amounts of data.</span></span> <span data-ttu-id="2645a-118">Aby se zabránilo vlivu na výkon, použijte následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="2645a-118">To avoid a performance impact, use the following guidelines:</span></span>  
  
- <span data-ttu-id="2645a-119">Vyhněte se nastavování vlastnosti stylu buňky jednotlivce <xref:System.Windows.Forms.DataGridViewCell> nebo <xref:System.Windows.Forms.DataGridViewRow> objekty.</span><span class="sxs-lookup"><span data-stu-id="2645a-119">Avoid setting cell style properties for individual <xref:System.Windows.Forms.DataGridViewCell> or <xref:System.Windows.Forms.DataGridViewRow> objects.</span></span> <span data-ttu-id="2645a-120">Jedná se o objekt řádku určené <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-120">This includes the row object specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="2645a-121">Každý nový řádek, který naklonována ze šablony řádku obdrží vlastní kopii šablony objektu stylu buňky.</span><span class="sxs-lookup"><span data-stu-id="2645a-121">Each new row that is cloned from the row template will receive its own copy of the template's cell style object.</span></span> <span data-ttu-id="2645a-122">Pro maximální rozšiřitelnost, nastavte vlastnosti stylu buňky v <xref:System.Windows.Forms.DataGridView> úroveň.</span><span class="sxs-lookup"><span data-stu-id="2645a-122">For maximum scalability, set cell style properties at the <xref:System.Windows.Forms.DataGridView> level.</span></span> <span data-ttu-id="2645a-123">Například nastavit <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> vlastnost místo <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-123">For example, set the <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="2645a-124">Pokud u některých buněk vyžadují jiné než výchozí formátování formátování, použijte stejný <xref:System.Windows.Forms.DataGridViewCellStyle> instance napříč skupinami buněk, řádků nebo sloupců.</span><span class="sxs-lookup"><span data-stu-id="2645a-124">If some cells require formatting other than default formatting, use the same <xref:System.Windows.Forms.DataGridViewCellStyle> instance across groups of cells, rows, or columns.</span></span> <span data-ttu-id="2645a-125">Vyhněte se přímo nastavení vlastnosti typu <xref:System.Windows.Forms.DataGridViewCellStyle> na jednotlivých buněk, řádků a sloupců.</span><span class="sxs-lookup"><span data-stu-id="2645a-125">Avoid directly setting properties of type <xref:System.Windows.Forms.DataGridViewCellStyle> on individual cells, rows, and columns.</span></span> <span data-ttu-id="2645a-126">Příklad sdílení styl buňky, naleznete v tématu [jak: Nastavení výchozích stylů buňky pro Windows Forms DataGridView – ovládací prvek](how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="2645a-126">For an example of cell style sharing, see [How to: Set Default Cell Styles for the Windows Forms DataGridView Control](how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span></span> <span data-ttu-id="2645a-127">Při nastavování stylů buňky samostatně pomocí manipulace se můžete vyhnout snížení výkonu <xref:System.Windows.Forms.DataGridView.CellFormatting> obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="2645a-127">You can also avoid a performance penalty when setting cell styles individually by handling the <xref:System.Windows.Forms.DataGridView.CellFormatting> event handler.</span></span> <span data-ttu-id="2645a-128">Příklad najdete v tématu [jak: Přizpůsobení formátování dat v ovládacím prvku Windows Forms DataGridView](how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="2645a-128">For an example, see [How to: Customize Data Formatting in the Windows Forms DataGridView Control](how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span></span>  
  
- <span data-ttu-id="2645a-129">Při určování styl buňky, použijte <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> vlastnost místo <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-129">When determining a cell's style, use the <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="2645a-130">Přístup k <xref:System.Windows.Forms.DataGridViewCell.Style%2A> vlastnost vytvoří novou instanci třídy <xref:System.Windows.Forms.DataGridViewCellStyle> třídy, pokud vlastnost ještě nebyl použit.</span><span class="sxs-lookup"><span data-stu-id="2645a-130">Accessing the <xref:System.Windows.Forms.DataGridViewCell.Style%2A> property creates a new instance of the <xref:System.Windows.Forms.DataGridViewCellStyle> class if the property has not already been used.</span></span> <span data-ttu-id="2645a-131">Kromě toho tento objekt nemusí obsahovat informace o dokončení styl buňky, pokud některé styly jsou zděděny z řádků, sloupců nebo ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="2645a-131">Additionally, this object might not contain the complete style information for the cell if some styles are inherited from the row, column, or control.</span></span> <span data-ttu-id="2645a-132">Další informace o dědičnosti styl buňky, naleznete v tématu [styly buňky v ovládacím prvku Windows Forms DataGridView](cell-styles-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="2645a-132">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-shortcut-menus-efficiently"></a><span data-ttu-id="2645a-133">Efektivní využívání nabídek</span><span class="sxs-lookup"><span data-stu-id="2645a-133">Using Shortcut Menus Efficiently</span></span>  
 <span data-ttu-id="2645a-134">Každý buněk, řádků a sloupců může mít svůj vlastní místní nabídky.</span><span class="sxs-lookup"><span data-stu-id="2645a-134">Each cell, row, and column can have its own shortcut menu.</span></span> <span data-ttu-id="2645a-135">Místní nabídky v <xref:System.Windows.Forms.DataGridView> ovládacího prvku jsou reprezentovány <xref:System.Windows.Forms.ContextMenuStrip> ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="2645a-135">Shortcut menus in the <xref:System.Windows.Forms.DataGridView> control are represented by <xref:System.Windows.Forms.ContextMenuStrip> controls.</span></span> <span data-ttu-id="2645a-136">Stejně jako u objektů styl buňky, vytváření místních nabídek pro mnoho jednotlivých <xref:System.Windows.Forms.DataGridView> prvky budou mít negativní vliv na výkon.</span><span class="sxs-lookup"><span data-stu-id="2645a-136">Just as with cell style objects, creating shortcut menus for many individual <xref:System.Windows.Forms.DataGridView> elements will negatively impact performance.</span></span> <span data-ttu-id="2645a-137">Abyste předešli této penalizace, použijte následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="2645a-137">To avoid this penalty, use the following guidelines:</span></span>  
  
- <span data-ttu-id="2645a-138">Vyhněte se vytváření místních nabídek pro jednotlivé buňky a řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-138">Avoid creating shortcut menus for individual cells and rows.</span></span> <span data-ttu-id="2645a-139">To zahrnuje řádek šablony, která je klonovat spolu s jeho místní nabídku, při přidání nových řádků do ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="2645a-139">This includes the row template, which is cloned along with its shortcut menu when new rows are added to the control.</span></span> <span data-ttu-id="2645a-140">Pro maximální rozšiřitelnost, použijte pouze ovládacího prvku <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> vlastnosti a určit jeden místní nabídku pro celý ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="2645a-140">For maximum scalability, use only the control's <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> property to specify a single shortcut menu for the entire control.</span></span>  
  
- <span data-ttu-id="2645a-141">Pokud budete potřebovat více místních nabídek pro více řádcích nebo buňky, zpracovat <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> nebo <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> události.</span><span class="sxs-lookup"><span data-stu-id="2645a-141">If you require multiple shortcut menus for multiple rows or cells, handle the <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> or <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> events.</span></span> <span data-ttu-id="2645a-142">Tyto události vám umožní spravovat objekty místní nabídky sami, abyste mohli optimalizovat výkon.</span><span class="sxs-lookup"><span data-stu-id="2645a-142">These events let you manage the shortcut menu objects yourself, allowing you to tune performance.</span></span>  
  
## <a name="using-automatic-resizing-efficiently"></a><span data-ttu-id="2645a-143">Používat automatickou změnu velikosti efektivně</span><span class="sxs-lookup"><span data-stu-id="2645a-143">Using Automatic Resizing Efficiently</span></span>  
 <span data-ttu-id="2645a-144">Řádky, sloupce a záhlaví můžete automaticky nastavena velikost při změně obsahu buňky, které veškerý obsah buňky budou zobrazeny bez oříznutí.</span><span class="sxs-lookup"><span data-stu-id="2645a-144">Rows, columns, and headers can be automatically resized as cell content changes so that the entire contents of cells are displayed without clipping.</span></span> <span data-ttu-id="2645a-145">Změna režimů změny velikosti můžete taky změnit velikost řádky, sloupce a záhlaví.</span><span class="sxs-lookup"><span data-stu-id="2645a-145">Changing sizing modes can also resize rows, columns, and headers.</span></span> <span data-ttu-id="2645a-146">K určení správné velikosti <xref:System.Windows.Forms.DataGridView> ovládací prvek musí zkoumat hodnoty jednotlivých buněk, které musí zohlednit.</span><span class="sxs-lookup"><span data-stu-id="2645a-146">To determine the correct size, the <xref:System.Windows.Forms.DataGridView> control must examine the value of each cell that it must accommodate.</span></span> <span data-ttu-id="2645a-147">Při práci s velkými datovými sadami, tato analýza může mít negativní vliv na výkon ovládacího prvku dojde-li automatickou změnu velikosti.</span><span class="sxs-lookup"><span data-stu-id="2645a-147">When working with large data sets, this analysis can negatively impact the performance of the control when automatic resizing occurs.</span></span> <span data-ttu-id="2645a-148">Aby se zabránilo snížení výkonu, použijte následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="2645a-148">To avoid performance penalties, use the following guidelines:</span></span>  
  
- <span data-ttu-id="2645a-149">Nepoužívejte automatické velikosti na <xref:System.Windows.Forms.DataGridView> ovládací prvek s velkou sadu řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-149">Avoid using automatic sizing on a <xref:System.Windows.Forms.DataGridView> control with a large set of rows.</span></span> <span data-ttu-id="2645a-150">Pokud používáte automatické velikosti, pouze změny velikosti podle zobrazených řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-150">If you do use automatic sizing, only resize based on the displayed rows.</span></span> <span data-ttu-id="2645a-151">Ve virtuálním režimu také použijte pouze zobrazených řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-151">Use only the displayed rows in virtual mode as well.</span></span>  
  
    - <span data-ttu-id="2645a-152">U řádků a sloupců, použijte `DisplayedCells` nebo `DisplayedCellsExceptHeaders` pole <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, a <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> výčty.</span><span class="sxs-lookup"><span data-stu-id="2645a-152">For rows and columns, use the `DisplayedCells` or `DisplayedCellsExceptHeaders` field of the <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, and <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> enumerations.</span></span>  
  
    - <span data-ttu-id="2645a-153">Záhlaví řádků, použijte <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> nebo <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> pole <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> výčtu.</span><span class="sxs-lookup"><span data-stu-id="2645a-153">For row headers, use the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> or <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> field of the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> enumeration.</span></span>  
  
- <span data-ttu-id="2645a-154">Pro maximální rozšiřitelnost vypněte automatické velikosti a používání Programová změna velikosti.</span><span class="sxs-lookup"><span data-stu-id="2645a-154">For maximum scalability, turn off automatic sizing and use programmatic resizing.</span></span>  
  
 <span data-ttu-id="2645a-155">Další informace najdete v tématu [možnosti nastavení velikosti v ovládacím prvku Windows Forms DataGridView](sizing-options-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="2645a-155">For more information, see [Sizing Options in the Windows Forms DataGridView Control](sizing-options-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-the-selected-cells-rows-and-columns-collections-efficiently"></a><span data-ttu-id="2645a-156">Efektivní využívání vybraných buněk, řádků a sloupců kolekce</span><span class="sxs-lookup"><span data-stu-id="2645a-156">Using the Selected Cells, Rows, and Columns Collections Efficiently</span></span>  
 <span data-ttu-id="2645a-157"><xref:System.Windows.Forms.DataGridView.SelectedCells%2A> Kolekce neprovádí efektivně velké výběry.</span><span class="sxs-lookup"><span data-stu-id="2645a-157">The <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection does not perform efficiently with large selections.</span></span> <span data-ttu-id="2645a-158"><xref:System.Windows.Forms.DataGridView.SelectedRows%2A> a <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> kolekce může být také neefektivní, i když se do menší míry vzhledem k tomu, že existují mnoho méně řádků než buněk v typické <xref:System.Windows.Forms.DataGridView> ovládacího prvku a řadu méně sloupců, než řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-158">The <xref:System.Windows.Forms.DataGridView.SelectedRows%2A> and <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> collections can also be inefficient, although to a lesser degree because there are many fewer rows than cells in a typical <xref:System.Windows.Forms.DataGridView> control, and many fewer columns than rows.</span></span> <span data-ttu-id="2645a-159">Aby se zabránilo snížení výkonu při práci s těchto kolekcí, použijte následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="2645a-159">To avoid performance penalties when working with these collections, use the following guidelines:</span></span>  
  
- <span data-ttu-id="2645a-160">K určení, zda všechny buňky v <xref:System.Windows.Forms.DataGridView> byly vybrány před přístupem k obsahu <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> kolekce, zkontrolovat návratovou hodnotu <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="2645a-160">To determine whether all the cells in the <xref:System.Windows.Forms.DataGridView> have been selected before you access the contents of the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection, check the return value of the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> method.</span></span> <span data-ttu-id="2645a-161">Upozorňujeme však, že tato metoda může způsobit řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-161">Note, however, that this method can cause rows to become unshared.</span></span> <span data-ttu-id="2645a-162">Další informace naleznete v následujícím oddílu.</span><span class="sxs-lookup"><span data-stu-id="2645a-162">For more information, see the next section.</span></span>  
  
- <span data-ttu-id="2645a-163">Vyhněte se použití <xref:System.Collections.ICollection.Count%2A> vlastnost <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> k určení počtu vybraných buněk.</span><span class="sxs-lookup"><span data-stu-id="2645a-163">Avoid using the <xref:System.Collections.ICollection.Count%2A> property of the <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> to determine the number of selected cells.</span></span> <span data-ttu-id="2645a-164">Místo toho použijte <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> metoda a předejte jí <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> hodnotu.</span><span class="sxs-lookup"><span data-stu-id="2645a-164">Instead, use the <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> method and pass in the <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="2645a-165">Podobně lze použít <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> a <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> metody k určení počtu vybraných elementů, spíše než přístup k vybraným kolekcím řádků a sloupců.</span><span class="sxs-lookup"><span data-stu-id="2645a-165">Similarly, use the <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> methods to determine the number of selected elements, rather than accessing the selected row and column collections.</span></span>  
  
- <span data-ttu-id="2645a-166">Vyhněte se režimy výběru založené na buňky.</span><span class="sxs-lookup"><span data-stu-id="2645a-166">Avoid cell-based selection modes.</span></span> <span data-ttu-id="2645a-167">Místo toho nastavte <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> vlastnost <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> nebo <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2645a-167">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
## <a name="using-shared-rows"></a><span data-ttu-id="2645a-168">Použití sdílené řádky</span><span class="sxs-lookup"><span data-stu-id="2645a-168">Using Shared Rows</span></span>  
 <span data-ttu-id="2645a-169">Využití paměti efektivní je dosaženo <xref:System.Windows.Forms.DataGridView> řízení prostřednictvím sdílené řádky.</span><span class="sxs-lookup"><span data-stu-id="2645a-169">Efficient memory use is achieved in the <xref:System.Windows.Forms.DataGridView> control through shared rows.</span></span> <span data-ttu-id="2645a-170">Řádky budou sdílet co nejvíce informací o jejich vzhled a chování při sdílení instance <xref:System.Windows.Forms.DataGridViewRow> třídy.</span><span class="sxs-lookup"><span data-stu-id="2645a-170">Rows will share as much information about their appearance and behavior as possible by sharing instances of the <xref:System.Windows.Forms.DataGridViewRow> class.</span></span>  
  
 <span data-ttu-id="2645a-171">Při sdílení instance řádek šetří paměť, řádky se snadno můžou stát nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-171">While sharing row instances saves memory, rows can easily become unshared.</span></span> <span data-ttu-id="2645a-172">Například pokaždé, když uživatel komunikuje přímo s buňky, jeho řádku stane nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-172">For example, whenever a user interacts directly with a cell, its row becomes unshared.</span></span> <span data-ttu-id="2645a-173">Protože to se nelze vyhnout spojení, pokyny v tomto tématu jsou užitečné pouze při práci s velmi velké objemy dat a pouze v případě, že uživatelé budou komunikovat s relativně malou část dat pokaždé, když spuštění programu.</span><span class="sxs-lookup"><span data-stu-id="2645a-173">Because this cannot be avoided, the guidelines in this topic are useful only when working with very large amounts of data and only when users will interact with a relatively small part of the data each time your program is run.</span></span>  
  
 <span data-ttu-id="2645a-174">Řádek nelze sdílet v nevázaný <xref:System.Windows.Forms.DataGridView> ovládací prvek, pokud některý z jeho buňky obsahovat hodnoty.</span><span class="sxs-lookup"><span data-stu-id="2645a-174">A row cannot be shared in an unbound <xref:System.Windows.Forms.DataGridView> control if any of its cells contain values.</span></span> <span data-ttu-id="2645a-175">Když <xref:System.Windows.Forms.DataGridView> ovládací prvek vázán k externímu zdroji dat nebo když implementace virtuálního režimu a zadejte vlastní zdroj dat, mají vzít hodnoty buněk jsou uložené mimo ovládací prvek, nikoli v buňce objektům, umožňuje řádků, které chcete sdílet.</span><span class="sxs-lookup"><span data-stu-id="2645a-175">When the <xref:System.Windows.Forms.DataGridView> control is bound to an external data source or when you implement virtual mode and provide your own data source, the cell values are stored outside the control rather than in cell objects, allowing the rows to be shared.</span></span>  
  
 <span data-ttu-id="2645a-176">Objekt řádku je možné sdílet pouze pokud stavu všech jeho buněk lze určit stav řádku a stavy sloupců obsahujících buňky.</span><span class="sxs-lookup"><span data-stu-id="2645a-176">A row object can only be shared if the state of all its cells can be determined from the state of the row and the states of the columns containing the cells.</span></span> <span data-ttu-id="2645a-177">Při změně stavu buňky, tak, aby ho už je možné odvodit z stav jeho řádku a sloupce, řádku nelze sdílet.</span><span class="sxs-lookup"><span data-stu-id="2645a-177">If you change the state of a cell so that it can no longer be deduced from the state of its row and column, the row cannot be shared.</span></span>  
  
 <span data-ttu-id="2645a-178">Například řádek nelze sdílet v některém z následujících situací:</span><span class="sxs-lookup"><span data-stu-id="2645a-178">For example, a row cannot be shared in any of the following situations:</span></span>  
  
- <span data-ttu-id="2645a-179">Tento řádek obsahuje jedinou vybranou buňku, která není ve vybraném sloupci.</span><span class="sxs-lookup"><span data-stu-id="2645a-179">The row contains a single selected cell that is not in a selected column.</span></span>  
  
- <span data-ttu-id="2645a-180">Tento řádek obsahuje buňku s jeho <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> nebo <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> set vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="2645a-180">The row contains a cell with its <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> or <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> properties set.</span></span>  
  
- <span data-ttu-id="2645a-181">Tento řádek obsahuje <xref:System.Windows.Forms.DataGridViewComboBoxCell> s jeho <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> sadu vlastností.</span><span class="sxs-lookup"><span data-stu-id="2645a-181">The row contains a <xref:System.Windows.Forms.DataGridViewComboBoxCell> with its <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> property set.</span></span>  
  
 <span data-ttu-id="2645a-182">V režimu vázané nebo virtuální, můžete zadat popisky a místní nabídky pro jednotlivé buňky pomocí manipulace <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> a <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> události.</span><span class="sxs-lookup"><span data-stu-id="2645a-182">In bound mode or virtual mode, you can provide ToolTips and shortcut menus for individual cells by handling the <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> and <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> events.</span></span>  
  
 <span data-ttu-id="2645a-183"><xref:System.Windows.Forms.DataGridView> Ovládací prvek se automaticky pokusí použít sdílené řádky pokaždé, když jsou řádky přidány do <xref:System.Windows.Forms.DataGridViewRowCollection>.</span><span class="sxs-lookup"><span data-stu-id="2645a-183">The <xref:System.Windows.Forms.DataGridView> control will automatically attempt to use shared rows whenever rows are added to the <xref:System.Windows.Forms.DataGridViewRowCollection>.</span></span> <span data-ttu-id="2645a-184">Pomocí následujících pokynů k zajištění, že jsou sdílené řádky:</span><span class="sxs-lookup"><span data-stu-id="2645a-184">Use the following guidelines to ensure that rows are shared:</span></span>  
  
- <span data-ttu-id="2645a-185">Vyhněte se volání `Add(Object[])` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> metoda a `Insert(Object[])` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> metodu <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> kolekce.</span><span class="sxs-lookup"><span data-stu-id="2645a-185">Avoid calling the `Add(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method and the `Insert(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="2645a-186">Tato přetížení automaticky vytvoří nesdílený řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-186">These overloads automatically create unshared rows.</span></span>  
  
- <span data-ttu-id="2645a-187">Ujistěte se, že řádek zadané v <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> vlastnost je možné sdílet v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="2645a-187">Be sure that the row specified in the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> property can be shared in the following cases:</span></span>  
  
    - <span data-ttu-id="2645a-188">Při volání `Add()` nebo `Add(Int32)` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> metoda nebo `Insert(Int32,Int32)` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> metodu <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> kolekce.</span><span class="sxs-lookup"><span data-stu-id="2645a-188">When calling the `Add()` or `Add(Int32)` overloads of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method or the `Insert(Int32,Int32)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
    - <span data-ttu-id="2645a-189">Když zvýšit hodnotu <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-189">When increasing the value of the <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> property.</span></span>  
  
    - <span data-ttu-id="2645a-190">Při nastavení <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-190">When setting the <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="2645a-191">Ujistěte se, že řádek označený `indexSource` parametr je možné sdílet při volání <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, a <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> metody <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> kolekce.</span><span class="sxs-lookup"><span data-stu-id="2645a-191">Be sure that the row indicated by the `indexSource` parameter can be shared when calling the <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> methods of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
- <span data-ttu-id="2645a-192">Ujistěte se, že zadaný řádek nebo řádky je možné sdílet při volání `Add(DataGridViewRow)` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> metody, <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> metody `Insert(Int32,DataGridViewRow)` přetížení <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> metoda a <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> metoda <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType>kolekce.</span><span class="sxs-lookup"><span data-stu-id="2645a-192">Be sure that the specified row or rows can be shared when calling the `Add(DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method, the <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> method, the `Insert(Int32,DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method, and the <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
 <span data-ttu-id="2645a-193">Chcete-li zjistit, jestli je sdílené řádek, použijte <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> má metoda načíst objekt řádku a potom zkontrolujte objektu <xref:System.Windows.Forms.DataGridViewBand.Index%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-193">To determine whether a row is shared, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method to retrieve the row object, and then check the object's <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property.</span></span> <span data-ttu-id="2645a-194">Sdílené řádky vždy mít <xref:System.Windows.Forms.DataGridViewBand.Index%2A> vlastnost hodnota – 1.</span><span class="sxs-lookup"><span data-stu-id="2645a-194">Shared rows always have an <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property value of –1.</span></span>  
  
## <a name="preventing-rows-from-becoming-unshared"></a><span data-ttu-id="2645a-195">Brání stávají odstranit řádky</span><span class="sxs-lookup"><span data-stu-id="2645a-195">Preventing Rows from Becoming Unshared</span></span>  
 <span data-ttu-id="2645a-196">Sdílené řádky se může stát nesdílený jako výsledek kódu nebo akce uživatele.</span><span class="sxs-lookup"><span data-stu-id="2645a-196">Shared rows can become unshared as a result of code or user action.</span></span> <span data-ttu-id="2645a-197">Aby se zabránilo vlivu na výkon, byste se měli vyhnout způsobí řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-197">To avoid a performance impact, you should avoid causing rows to become unshared.</span></span> <span data-ttu-id="2645a-198">Během vývoje aplikace dokáže zpracovat <xref:System.Windows.Forms.DataGridView.RowUnshared> událostí k určení, kdy budou nejdříve zrušeno sdílení řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-198">During application development, you can handle the <xref:System.Windows.Forms.DataGridView.RowUnshared> event to determine when rows become unshared.</span></span> <span data-ttu-id="2645a-199">To je užitečné při ladění problémů sdílení řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-199">This is useful when debugging row-sharing problems.</span></span>  
  
 <span data-ttu-id="2645a-200">Abyste zabránili stávají odstranit řádky, použijte následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="2645a-200">To prevent rows from becoming unshared, use the following guidelines:</span></span>  
  
- <span data-ttu-id="2645a-201">Vyhněte se indexování <xref:System.Windows.Forms.DataGridView.Rows%2A> kolekce nebo iterace s `foreach` smyčky.</span><span class="sxs-lookup"><span data-stu-id="2645a-201">Avoid indexing the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection or iterating through it with a `foreach` loop.</span></span> <span data-ttu-id="2645a-202">Obvykle nebudete potřebovat pro přístup k řádků přímo.</span><span class="sxs-lookup"><span data-stu-id="2645a-202">You will not typically need to access rows directly.</span></span> <span data-ttu-id="2645a-203"><xref:System.Windows.Forms.DataGridView> metody, které pracují s řádky trvat argumenty index řádku, spíše než řádek instance.</span><span class="sxs-lookup"><span data-stu-id="2645a-203"><xref:System.Windows.Forms.DataGridView> methods that operate on rows take row index arguments rather than row instances.</span></span> <span data-ttu-id="2645a-204">Obslužné rutiny pro události týkající se řádek navíc zobrazí objekty argumentu události s vlastnostmi řádků, které můžete použít k manipulaci s řádky, aniž by jim být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-204">Additionally, handlers for row-related events receive event argument objects with row properties that you can use to manipulate rows without causing them to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-205">Pokud potřebujete přístup k objektu řádku, použijte <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> metoda a předejte jí skutečné index řádku.</span><span class="sxs-lookup"><span data-stu-id="2645a-205">If you need to access a row object, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method and pass in the row's actual index.</span></span> <span data-ttu-id="2645a-206">Všimněte si však, změnit objekt sdíleného řádku získat pomocí této metody bude měnit všechny řádky, které sdílejí tento objekt.</span><span class="sxs-lookup"><span data-stu-id="2645a-206">Note, however, that modifying a shared row object retrieved through this method will modify all the rows that share this object.</span></span> <span data-ttu-id="2645a-207">Řádek pro nové záznamy nesdílí s další řádky, ale tak nebude mít vliv, pokud upravíte ostatních řádků.</span><span class="sxs-lookup"><span data-stu-id="2645a-207">The row for new records is not shared with other rows, however, so it will not be affected when you modify any other row.</span></span> <span data-ttu-id="2645a-208">Všimněte si také, že různé řádky reprezentována sdíleného řádku může mít jinou místní nabídky.</span><span class="sxs-lookup"><span data-stu-id="2645a-208">Note also that different rows represented by a shared row may have different shortcut menus.</span></span> <span data-ttu-id="2645a-209">K získání správné místní nabídku z instance sdíleného řádku, použijte <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> metoda a předejte jí skutečné index řádku.</span><span class="sxs-lookup"><span data-stu-id="2645a-209">To retrieve the correct shortcut menu from a shared row instance, use the <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> method and pass in the row's actual index.</span></span> <span data-ttu-id="2645a-210">Pokud přistupujete sdíleného řádku <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> vlastnost místo toho použije index sdíleného řádku-1 a nebudou načteny správné místní nabídce.</span><span class="sxs-lookup"><span data-stu-id="2645a-210">If you access the shared row's <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> property instead, it will use the shared row index of -1 and will not retrieve the correct shortcut menu.</span></span>  
  
- <span data-ttu-id="2645a-211">Vyhněte se indexování <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> kolekce.</span><span class="sxs-lookup"><span data-stu-id="2645a-211">Avoid indexing the <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="2645a-212">Přímý přístup buňky způsobí, že jeho nadřazený řádek se nejdříve zrušeno sdílení, vytvoření instance nového <xref:System.Windows.Forms.DataGridViewRow>.</span><span class="sxs-lookup"><span data-stu-id="2645a-212">Accessing a cell directly will cause its parent row to become unshared, instantiating a new <xref:System.Windows.Forms.DataGridViewRow>.</span></span> <span data-ttu-id="2645a-213">Obslužné rutiny pro události týkající se buňky přijímat události objekty argumentu s vlastnostmi buňky, které slouží k manipulaci s buňkami, aniž by to způsobilo řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-213">Handlers for cell-related events receive event argument objects with cell properties that you can use to manipulate cells without causing rows to become unshared.</span></span> <span data-ttu-id="2645a-214">Můžete také použít <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> vlastnost pro načtení aktuální buňky řádků a sloupců indexy bez přístupu k buňce přímo.</span><span class="sxs-lookup"><span data-stu-id="2645a-214">You can also use the <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> property to retrieve the row and column indexes of the current cell without accessing the cell directly.</span></span>  
  
- <span data-ttu-id="2645a-215">Vyhněte se režimy výběru založené na buňky.</span><span class="sxs-lookup"><span data-stu-id="2645a-215">Avoid cell-based selection modes.</span></span> <span data-ttu-id="2645a-216">Tyto režimy způsobit řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-216">These modes cause rows to become unshared.</span></span> <span data-ttu-id="2645a-217">Místo toho nastavte <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> vlastnost <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> nebo <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2645a-217">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
- <span data-ttu-id="2645a-218">Ke zpracování <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> nebo <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> události.</span><span class="sxs-lookup"><span data-stu-id="2645a-218">Do not handle the <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="2645a-219">Tyto události způsobit řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-219">These events cause rows to become unshared.</span></span> <span data-ttu-id="2645a-220">Navíc Nevolejte <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> nebo <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> metody, které vyvolávají tyto události.</span><span class="sxs-lookup"><span data-stu-id="2645a-220">Also, do not call the <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> methods, which raise these events.</span></span>  
  
- <span data-ttu-id="2645a-221">Přístup <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> kolekce při <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> hodnota vlastnosti je <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, nebo <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span><span class="sxs-lookup"><span data-stu-id="2645a-221">Do not access the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> collection when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, or <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span></span> <span data-ttu-id="2645a-222">To způsobí, že všechny vybrané řádky se nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-222">This causes all selected rows to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-223">Nevolejte <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="2645a-223">Do not call the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="2645a-224">Tato metoda může způsobit řádků, které mají být nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-224">This method can cause rows to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-225">Nevolejte <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> metoda při <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> hodnota vlastnosti je <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span><span class="sxs-lookup"><span data-stu-id="2645a-225">Do not call the <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> method when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span></span> <span data-ttu-id="2645a-226">To způsobí, že všechny řádky budou nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-226">This causes all rows to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-227">Nenastavujte <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> nebo <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> vlastnost buňky do `false` když odpovídající v jeho sloupec je nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="2645a-227">Do not set the <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> or <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> property of a cell to `false` when the corresponding property in its column is set to `true`.</span></span> <span data-ttu-id="2645a-228">To způsobí, že všechny řádky budou nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-228">This causes all rows to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-229">Přístup <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2645a-229">Do not access the <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="2645a-230">To způsobí, že všechny řádky budou nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-230">This causes all rows to become unshared.</span></span>  
  
- <span data-ttu-id="2645a-231">Nevolejte `Sort(IComparer)` přetížení <xref:System.Windows.Forms.DataGridView.Sort%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="2645a-231">Do not call the `Sort(IComparer)` overload of the <xref:System.Windows.Forms.DataGridView.Sort%2A> method.</span></span> <span data-ttu-id="2645a-232">Řazení s vlastní porovnávací metody způsobí, že všechny řádky budou nejdříve zrušeno sdílení.</span><span class="sxs-lookup"><span data-stu-id="2645a-232">Sorting with a custom comparer causes all rows to become unshared.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2645a-233">Viz také:</span><span class="sxs-lookup"><span data-stu-id="2645a-233">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- [<span data-ttu-id="2645a-234">Ladění výkonu v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-234">Performance Tuning in the Windows Forms DataGridView Control</span></span>](performance-tuning-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="2645a-235">Virtuální režim v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-235">Virtual Mode in the Windows Forms DataGridView Control</span></span>](virtual-mode-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="2645a-236">Režimy zobrazení dat v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-236">Data Display Modes in the Windows Forms DataGridView Control</span></span>](data-display-modes-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="2645a-237">Styly buňky v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-237">Cell Styles in the Windows Forms DataGridView Control</span></span>](cell-styles-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="2645a-238">Postupy: Nastavení výchozích stylů buňky pro ovládací prvek Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-238">How to: Set Default Cell Styles for the Windows Forms DataGridView Control</span></span>](how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="2645a-239">Možnosti změny velikosti v ovládacím prvku Windows Forms DataGridView</span><span class="sxs-lookup"><span data-stu-id="2645a-239">Sizing Options in the Windows Forms DataGridView Control</span></span>](sizing-options-in-the-windows-forms-datagridview-control.md)
