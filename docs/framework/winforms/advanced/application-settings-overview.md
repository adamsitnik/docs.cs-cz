---
title: Přehled nastavení aplikace
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: b30203aaf36d4fa6c0b06d54da1abc1f99d22afc
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/23/2019
ms.locfileid: "54576899"
---
# <a name="application-settings-overview"></a><span data-ttu-id="1af6e-102">Přehled nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="1af6e-102">Application Settings Overview</span></span>
<span data-ttu-id="1af6e-103">Toto téma popisuje, jak vytvářet a ukládat nastavení data jménem aplikace i vaše uživatele.</span><span class="sxs-lookup"><span data-stu-id="1af6e-103">This topic discusses how to create and store settings data on behalf of your application and your users.</span></span>  
  
 <span data-ttu-id="1af6e-104">Funkce nastavení aplikace Windows Forms umožňuje snadno vytvářet, ukládat a spravovat vlastní aplikace a preference uživatelů v klientském počítači.</span><span class="sxs-lookup"><span data-stu-id="1af6e-104">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="1af6e-105">S nastavením aplikace Windows Forms lze uložit pouze data aplikací, například databázové připojovací řetězce, ale také uživatelská data, jako je například uživatelova aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-105">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="1af6e-106">Pomocí sady Visual Studio nebo vlastní spravovaný kód, můžete vytvořit nové nastavení, přečtěte si je z a zapisovat na disku a svázat ho s vlastnostmi formuláře a ověřit nastavení data před načítání a ukládání.</span><span class="sxs-lookup"><span data-stu-id="1af6e-106">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>  
  
 <span data-ttu-id="1af6e-107">Nastavení aplikace umožňuje vývojářům pro uložení stavu ve svých aplikacích pomocí velmi málo vlastního kódu a je náhradou za dynamické vlastnosti v předchozích verzích [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1af6e-107">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="1af6e-108">Nastavení aplikace obsahuje mnoho vylepšení přes dynamické vlastnosti, které jsou jen pro čtení, s pozdní vazbou a vyžadovat další vlastní programování.</span><span class="sxs-lookup"><span data-stu-id="1af6e-108">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="1af6e-109">Dynamické vlastnosti třídy mají byla zachována ve [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], ale jsou právě třídy prostředí, které dynamicky balí třídy nastavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-109">The dynamic property classes have been retained in [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], but they are just shell classes that thinly wrap the application settings classes.</span></span>  
  
## <a name="what-are-application-settings"></a><span data-ttu-id="1af6e-110">Co jsou nastavení aplikace?</span><span class="sxs-lookup"><span data-stu-id="1af6e-110">What Are Application Settings?</span></span>  
 <span data-ttu-id="1af6e-111">Vaše aplikace Windows Forms se často vyžadují data, která jsou kritická pro spuštění aplikace, ale který nechcete zahrnout přímo v kódu vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-111">Your Windows Forms applications will often require data that is critical to running the application, but which you do not want to include directly in the application's code.</span></span> <span data-ttu-id="1af6e-112">Pokud vaše aplikace používá webovou službu nebo databázový server, můžete k ukládání příslušných informací v samostatném souboru, takže můžete v budoucnu ho změnit bez opětovné kompilace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-112">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without re-compiling.</span></span> <span data-ttu-id="1af6e-113">Podobně vaše aplikace můžou vyžadovat ukládání dat, která je specifická pro aktuálního uživatele.</span><span class="sxs-lookup"><span data-stu-id="1af6e-113">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="1af6e-114">Většina aplikací, například má uživatelské předvolby, přizpůsobte vzhled a chování aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-114">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>  
  
 <span data-ttu-id="1af6e-115">Aplikace nastavení adresy obou musí tím, že poskytuje snadný způsob, jak ukládat nastavení oboru aplikace i s rozsahem uživatele na klientském počítači.</span><span class="sxs-lookup"><span data-stu-id="1af6e-115">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="1af6e-116">Pomocí sady Visual Studio nebo editor kódu, definovat nastavení pro danou vlastnost tak, že zadáte jeho název, datový typ a obor (aplikaci nebo uživatele).</span><span class="sxs-lookup"><span data-stu-id="1af6e-116">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="1af6e-117">Dokonce můžete umístit do pojmenované skupiny pro použití snadněji a čitelnost související nastavení.</span><span class="sxs-lookup"><span data-stu-id="1af6e-117">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="1af6e-118">Po definování, tato nastavení jsou trvalé a automaticky číst zpět do paměti v době běhu.</span><span class="sxs-lookup"><span data-stu-id="1af6e-118">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="1af6e-119">Připojitelná architektura umožňuje mechanismu trvalosti změnit, ale ve výchozím nastavení, je použít místní systém souborů.</span><span class="sxs-lookup"><span data-stu-id="1af6e-119">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>  
  
 <span data-ttu-id="1af6e-120">Nastavení aplikace funguje tak, že trvalá data ve formátu XML pro jinou konfiguraci (.config) soubory odpovídající Určuje, zda nastavení je aplikace s rozsahem nebo rozsahem uživatele.</span><span class="sxs-lookup"><span data-stu-id="1af6e-120">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="1af6e-121">Ve většině případů nastavení oboru aplikace jsou jen pro čtení; protože jsou informace o programu, obvykle nemusíte jejich přepsání.</span><span class="sxs-lookup"><span data-stu-id="1af6e-121">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="1af6e-122">Naopak nastavení rozsahu uživatele může číst a zapsat bezpečné v době běhu, i v případě, že vaše aplikace běží v částečném vztahu důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="1af6e-122">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="1af6e-123">Další informace o částečné důvěryhodnosti, naleznete v tématu [Přehled zabezpečení ve Windows Forms](../../../../docs/framework/winforms/security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1af6e-123">For more information about partial trust, see [Security in Windows Forms Overview](../../../../docs/framework/winforms/security-in-windows-forms-overview.md).</span></span>  
  
 <span data-ttu-id="1af6e-124">Nastavení se ukládají jako fragmenty XML v konfiguračních souborech.</span><span class="sxs-lookup"><span data-stu-id="1af6e-124">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="1af6e-125">Nastavení oboru aplikace jsou reprezentovány `<application.Settings>` prvek a jsou obecně umístěny do *aplikace*. exe.config, kde *aplikace* je název hlavního spustitelného souboru.</span><span class="sxs-lookup"><span data-stu-id="1af6e-125">Application-scoped settings are represented by the `<application.Settings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="1af6e-126">Nastavení rozsahu uživatele jsou reprezentovány `<userSettings>` element a jsou umístěny v *uživatele*.config, kde *uživatele* je uživatelské jméno osoby, které jsou aktuálně spuštěné aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-126">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="1af6e-127">Je nutné nasadit *aplikace*. exe.config soubor s vaší aplikací; nastavení architektura vytvoří *uživatele*souborech .config na vyžádání první čas aplikace ukládá nastavení pro tohoto uživatele.</span><span class="sxs-lookup"><span data-stu-id="1af6e-127">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="1af6e-128">Můžete také definujte `<userSettings>` blokovat v rámci *aplikace*. exe.config zadat výchozí hodnoty pro nastavení rozsahu uživatele.</span><span class="sxs-lookup"><span data-stu-id="1af6e-128">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>  
  
 <span data-ttu-id="1af6e-129">Vlastní ovládací prvky můžete také uložit své vlastní nastavení implementací <xref:System.Configuration.IPersistComponentSettings> rozhraní, která zveřejňuje <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1af6e-129">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="1af6e-130">Windows Forms <xref:System.Windows.Forms.ToolStrip> ovládací prvek implementuje toto rozhraní se uložit pozici panelů nástrojů a nástrojů položek mezi jednotlivými relacemi aplikace.</span><span class="sxs-lookup"><span data-stu-id="1af6e-130">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="1af6e-131">Další informace o vlastních ovládacích prvků a nastavení aplikací, najdete v části [nastavení aplikace pro vlastní ovládací prvky](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="1af6e-131">For more information about custom controls and application settings, see [Application Settings for Custom Controls](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md).</span></span>  
  
## <a name="limitations-of-application-settings"></a><span data-ttu-id="1af6e-132">Omezení nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="1af6e-132">Limitations of Application Settings</span></span>  
 <span data-ttu-id="1af6e-133">Nastavení aplikace nelze použít v nespravované aplikaci, která hostuje [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1af6e-133">You cannot use application settings in an unmanaged application that hosts the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="1af6e-134">Nastavení nebude fungovat v těchto prostředích, jako Visual Studio doplňků, C++ pro systém Microsoft Office, řídit hostování v aplikaci Internet Explorer nebo doplňky aplikace Microsoft Outlook a projekty.</span><span class="sxs-lookup"><span data-stu-id="1af6e-134">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>  
  
 <span data-ttu-id="1af6e-135">Momentálně nelze vázat na některé vlastnosti v modelu Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="1af6e-135">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="1af6e-136">Nejdůležitějším příkladem je <xref:System.Windows.Forms.Form.ClientSize%2A> vlastnosti, jako vazbu k této vlastnosti by způsobit nepředvídatelné chování za běhu.</span><span class="sxs-lookup"><span data-stu-id="1af6e-136">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="1af6e-137">Tyto potíže obvykle můžete obejít tak ukládání a načítání tato nastavení programově.</span><span class="sxs-lookup"><span data-stu-id="1af6e-137">You can usually work around these issues by saving and loading these settings programmatically.</span></span>  
  
 <span data-ttu-id="1af6e-138">Nastavení aplikace nemá žádné předdefinované zařízení pro šifrování informací automaticky.</span><span class="sxs-lookup"><span data-stu-id="1af6e-138">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="1af6e-139">Nikdy byste měli uložit informace související se zabezpečením, jako jsou databáze hesla ve formátu prostého textu.</span><span class="sxs-lookup"><span data-stu-id="1af6e-139">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="1af6e-140">Pokud chcete uložit tyto citlivé informace, jako vývojář aplikace zodpovídáte za to, že je zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="1af6e-140">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="1af6e-141">Pokud chcete uložit připojovací řetězce, doporučujeme použít integrované zabezpečení Windows a ne se uchýlíte k pevnému zakódování hesel do adresy URL.</span><span class="sxs-lookup"><span data-stu-id="1af6e-141">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="1af6e-142">Další informace najdete v tématu [zabezpečení přístupu kódu a ADO.NET](../../../../docs/framework/data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="1af6e-142">For more information, see [Code Access Security and ADO.NET](../../../../docs/framework/data/adonet/code-access-security.md).</span></span>  
  
## <a name="getting-started-with-application-settings"></a><span data-ttu-id="1af6e-143">Začínáme s nastavením aplikace</span><span class="sxs-lookup"><span data-stu-id="1af6e-143">Getting Started with Application Settings</span></span>  
 <span data-ttu-id="1af6e-144">Pokud používáte sadu Visual Studio, můžete definovat nastavení v Návrháři formulářů Windows pomocí **(ApplicationSettings)** vlastnost **vlastnosti** okna.</span><span class="sxs-lookup"><span data-stu-id="1af6e-144">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="1af6e-145">Při definování nastavení tímto způsobem, Visual Studio automaticky vytvoří vlastní spravované obálkovou třídu, která přidruží každé nastavení vlastnosti třídy.</span><span class="sxs-lookup"><span data-stu-id="1af6e-145">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class which associates each setting with a class property.</span></span> <span data-ttu-id="1af6e-146">Visual Studio také se postará o nastavení vazby na vlastnost formuláře nebo ovládacího prvku tak, aby při jeho formulář se zobrazí a automaticky uloženy při uzavření formuláře se automaticky obnoví nastavení ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="1af6e-146">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>  
  
 <span data-ttu-id="1af6e-147">Pokud chcete mít podrobnější kontrolu nad nastavení, můžete definovat vlastní třídu obálky nastavení vlastních aplikací.</span><span class="sxs-lookup"><span data-stu-id="1af6e-147">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="1af6e-148">Toho lze dosáhnout odvození třídy z <xref:System.Configuration.ApplicationSettingsBase>, přidání vlastnosti, která odpovídá každé nastavení a použití speciální atributy pro tyto vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="1af6e-148">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="1af6e-149">Podrobnosti o vytvoření obálkové třídy najdete v tématu [architektura nastavení aplikace](../../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="1af6e-149">For details about creating wrapper classes, see [Application Settings Architecture](../../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span></span>  
  
 <span data-ttu-id="1af6e-150">Můžete také použít <xref:System.Windows.Forms.Binding> třídy prostřednictvím kódu programu vytvořit vazbu nastavení s vlastnostmi formuláře a ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="1af6e-150">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1af6e-151">Viz také:</span><span class="sxs-lookup"><span data-stu-id="1af6e-151">See also</span></span>
- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="1af6e-152">Postupy: Ověření nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="1af6e-152">How to: Validate Application Settings</span></span>](../../../../docs/framework/winforms/advanced/how-to-validate-application-settings.md)
- [<span data-ttu-id="1af6e-153">Správa nastavení aplikace (.NET)</span><span class="sxs-lookup"><span data-stu-id="1af6e-153">Managing Application Settings (.NET)</span></span>](https://msdn.microsoft.com/library/35254321-ad14-47d9-b8c6-39ab3203c5d9)
- [<span data-ttu-id="1af6e-154">Postupy: Čtení uživatelských nastavení při běhu pomocíC#</span><span class="sxs-lookup"><span data-stu-id="1af6e-154">How To: Read Settings at Run Time With C#</span></span>](../../../../docs/framework/winforms/advanced/how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="1af6e-155">Použití nastavení aplikace a uživatelských nastavení</span><span class="sxs-lookup"><span data-stu-id="1af6e-155">Using Application Settings and User Settings</span></span>](../../../../docs/framework/winforms/advanced/using-application-settings-and-user-settings.md)
- [<span data-ttu-id="1af6e-156">Architektura nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="1af6e-156">Application Settings Architecture</span></span>](../../../../docs/framework/winforms/advanced/application-settings-architecture.md)
- [<span data-ttu-id="1af6e-157">Nastavení aplikace pro vlastní ovládací prvky</span><span class="sxs-lookup"><span data-stu-id="1af6e-157">Application Settings for Custom Controls</span></span>](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md)
