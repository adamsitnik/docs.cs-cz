---
title: Kolekce a typy kolekcí v jazyku XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 4123b64545f7c47a96c4cae496046a89b7e576b0
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "61954177"
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="2ab10-102">Kolekce a typy kolekcí v jazyku XAML</span><span class="sxs-lookup"><span data-stu-id="2ab10-102">Collections and Collection Types for XAML</span></span>

<span data-ttu-id="2ab10-103">Toto téma popisuje, jak definovat vlastnosti typů, které jsou určené pro podporu kolekce a které zajišťují podporu syntaxe XAML pro vytvoření instance položky kolekce jako podřízené položky elementu nadřazeného elementu object nebo property – element.</span><span class="sxs-lookup"><span data-stu-id="2ab10-103">This topic describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>

## <a name="xaml-collection-concepts"></a><span data-ttu-id="2ab10-104">Koncepty kolekce XAML</span><span class="sxs-lookup"><span data-stu-id="2ab10-104">XAML Collection Concepts</span></span>

<span data-ttu-id="2ab10-105">Koncepčně každá relace v XAML, kde existuje více podřízených položek v rámci oboru prvku objektu XAML nebo elementu vlastnosti XAML musí být implementován jako kolekce.</span><span class="sxs-lookup"><span data-stu-id="2ab10-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="2ab10-106">Tuto kolekci musí být přidružen určité vlastnosti XAML, která je v této relaci typu XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="2ab10-107">Vlastnost musí být kolekce, protože procesor XAML se očekává, že přiřadit každé položky v kódu na nově přidané položky základní vlastnosti kolekce.</span><span class="sxs-lookup"><span data-stu-id="2ab10-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>

<span data-ttu-id="2ab10-108">Na úrovni jazyka XAML nejsou přesné požadavky na kolekce podpory plně definován.</span><span class="sxs-lookup"><span data-stu-id="2ab10-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="2ab10-109">Koncepci, že kolekce může být buď seznam nebo slovník (ale ne obojí) je definovaný na úrovni jazyka XAML, ale základní typy, které představují buď seznamy nebo slovníky není definován v jazyce XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>

<span data-ttu-id="2ab10-110">V rozhraní .NET Framework XAML Services koncept XAML kolekce podporu více jasně definované z hlediska zálohování typy rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2ab10-110">In .NET Framework XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET Framework backing types.</span></span> <span data-ttu-id="2ab10-111">Podpora XAML pro kolekce je konkrétně podle několika koncepty rozhraní .NET Framework a rozhraní API, která se používají pro seznamy a slovníků v obecné programování v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2ab10-111">Specifically, the XAML support for collections is based on several .NET Framework concepts and APIs that are used for lists and dictionaries in general .NET Framework programming.</span></span>

1. <span data-ttu-id="2ab10-112"><xref:System.Collections.IList> Rozhraní určuje kolekci seznamů.</span><span class="sxs-lookup"><span data-stu-id="2ab10-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>

2. <span data-ttu-id="2ab10-113"><xref:System.Collections.IDictionary> Rozhraní určuje kolekci slovníku.</span><span class="sxs-lookup"><span data-stu-id="2ab10-113">The <xref:System.Collections.IDictionary> interface indicates a dictionary collection.</span></span>

3. <span data-ttu-id="2ab10-114"><xref:System.Array> představuje pole a pole podporuje <xref:System.Collections.IList> metody.</span><span class="sxs-lookup"><span data-stu-id="2ab10-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>

<span data-ttu-id="2ab10-115">V každé z těchto konceptů kolekce na rozhraní .NET Framework XAML Services XAML procesor očekává, že volání `Add` metodu na konkrétní instanci typu vlastnost kolekce.</span><span class="sxs-lookup"><span data-stu-id="2ab10-115">In each of these collection concepts, a .NET Framework XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="2ab10-116">Nebo v případě serializace v procesoru XAML vytváří samostatné instance typu XAML pro každou položku v seznamu, slovníku nebo pole založené na konkrétní pojem "Položky" každou kolekci.</span><span class="sxs-lookup"><span data-stu-id="2ab10-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="2ab10-117">Jedná se o: <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; explicitní <xref:System.Array.System%23Collections%23IList%23Item%2A> pro <xref:System.Array>.</span><span class="sxs-lookup"><span data-stu-id="2ab10-117">These are : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A> for <xref:System.Array>.</span></span>

## <a name="generic-collections"></a><span data-ttu-id="2ab10-118">Obecné kolekce</span><span class="sxs-lookup"><span data-stu-id="2ab10-118">Generic Collections</span></span>

<span data-ttu-id="2ab10-119">Obecné kolekce může být užitečné pro obecné programování rozhraní .NET Framework a je také možné kolekci vlastností XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-119">Generic collections can be useful for general .NET Framework programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="2ab10-120">Ale obecný rozhraní <xref:System.Collections.Generic.IList%601> a <xref:System.Collections.Generic.IDictionary%602> nejdou identifikovány pomocí rozhraní .NET Framework XAML Services XAML procesorů jako ekvivalentní neobecné <xref:System.Collections.IList> nebo <xref:System.Collections.IDictionary>.</span><span class="sxs-lookup"><span data-stu-id="2ab10-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET Framework XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="2ab10-121">Místo implementace rozhraní, je doporučený postup pro obecnou kolekci typů vlastností jsou odvozeny z třídy <xref:System.Collections.Generic.List%601> nebo <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="2ab10-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="2ab10-122">Tyto třídy implementovat obecné rozhraní a proto zahrnout očekávané podporu pro kolekce XAML základní implementaci.</span><span class="sxs-lookup"><span data-stu-id="2ab10-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>

## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="2ab10-123">Kolekce jen pro čtení a logiku inicializace</span><span class="sxs-lookup"><span data-stu-id="2ab10-123">Read-Only Collections and Initialization Logic</span></span>

<span data-ttu-id="2ab10-124">V rozhraní .NET Framework programování je běžný vzor návrhu, aby jakákoli vlastnost, která obsahuje hodnotu z kolekce, kolekce jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="2ab10-124">In .NET Framework programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="2ab10-125">Tento model umožňuje instanci, která vlastní vlastnost kolekce získat lepší kontrolu nad, co se stane, že do kolekce...</span><span class="sxs-lookup"><span data-stu-id="2ab10-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="2ab10-126">Konkrétně vzor zabrání náhodnému nahrazení celou existující kolekci nastavením vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="2ab10-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="2ab10-127">V tomto modelu, všechny přístupy do kolekce pomocí volajících místo toho je třeba pomocí volání metody nebo vlastnosti podporuje typ kolekce a/nebo relevantní kolekci rozhraní, jako <xref:System.Collections.IList>.</span><span class="sxs-lookup"><span data-stu-id="2ab10-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>

<span data-ttu-id="2ab10-128">Použití tohoto modelu znamená, že každá třída, která zpřístupňuje vlastnost kolekce jenom pro čtení musí nejprve inicializovat tuto vlastnost pro prázdnou kolekci.</span><span class="sxs-lookup"><span data-stu-id="2ab10-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="2ab10-129">Inicializace se obvykle provádí jako součást konstrukce chování pro třídu.</span><span class="sxs-lookup"><span data-stu-id="2ab10-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="2ab10-130">Užitečnost pro XAML, je důležité, že tuto logiku je vždy odkazuje na výchozí konstruktor, vzhledem k tomu XAML obecně volá výchozí konstruktor před zpracováním vlastnosti (Vlastnosti kolekce nebo jinak).</span><span class="sxs-lookup"><span data-stu-id="2ab10-130">To be useful for XAML, it is important that such logic is always referenced by the default constructor, because XAML generally calls the default constructor prior to processing the properties (collection properties or otherwise).</span></span>

## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="2ab10-131">Podpora typu systému XAML a kolekce</span><span class="sxs-lookup"><span data-stu-id="2ab10-131">XAML Type System Support and Collections</span></span>

<span data-ttu-id="2ab10-132">Nad rámec základní mechanismy analýze XAML a naplnění nebo serializaci vlastnosti kolekce systém typů XAML, jak je implementován v rozhraní .NET Framework XAML Services zahrnuje několik funkcí návrhu, které se týkají kolekce v XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET Framework XAML Services includes several design features that pertain to collections in XAML.</span></span>

1. <span data-ttu-id="2ab10-133"><xref:System.Xaml.XamlType.IsCollection%2A> Vrátí hodnotu true, pokud typ XAML je založená na typ, který poskytuje podporu kolekce XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>

2. <span data-ttu-id="2ab10-134"><xref:System.Xaml.XamlType.IsDictionary%2A> a <xref:System.Xaml.XamlType.IsArray%2A> dále můžete určit, které režim kolekce podporuje typ XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="2ab10-135">Pro vlastní XAML procesorů, které jsou založeny na rozhraní .NET Framework XAML Services a XAML systém typů, ale není založen na existující <xref:System.Xaml.XamlWriter> implementace, znalost režimu kolekce, který se používá může být nezbytné, pokud chcete zjistit, která metoda se má vyvolat pro zpracování kolekce.</span><span class="sxs-lookup"><span data-stu-id="2ab10-135">For custom XAML processors that are based on .NET Framework XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>

3. <span data-ttu-id="2ab10-136">Všechny předchozí hodnoty vlastnosti jsou potenciálně ovlivněny přepsání <xref:System.Xaml.XamlType.LookupCollectionKind%2A> typu XAML.</span><span class="sxs-lookup"><span data-stu-id="2ab10-136">Each of the previous property values are potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
