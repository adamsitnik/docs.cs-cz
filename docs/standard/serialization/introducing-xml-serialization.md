---
title: Představení serializace XML
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: 5de13fc4da371220f46a107ca9b620e1313e75d4
ms.sourcegitcommit: 75567a3cb437009db55949c6092f4e77ed1a9da4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2019
ms.locfileid: "54307523"
---
# <a name="introducing-xml-serialization"></a><span data-ttu-id="f0e69-102">Představení serializace XML</span><span class="sxs-lookup"><span data-stu-id="f0e69-102">Introducing XML Serialization</span></span>

<span data-ttu-id="f0e69-103">Serializace je proces převodu objektu do formuláře, který lze snadno přenést.</span><span class="sxs-lookup"><span data-stu-id="f0e69-103">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="f0e69-104">Například může serializovat objekt a přenosu je prostřednictvím Internetu pomocí protokolu HTTP mezi klientem a serverem.</span><span class="sxs-lookup"><span data-stu-id="f0e69-104">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="f0e69-105">Na druhém konci rekonstruuje deserializace objektu z datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-105">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="f0e69-106">Serializace XML serializuje pouze veřejné pole a hodnoty vlastností objektu do datový proud XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-106">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="f0e69-107">Serializace XML neobsahuje informace o typu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-107">XML serialization does not include type information.</span></span> <span data-ttu-id="f0e69-108">Pokud máte například **knihy** objekt, který existuje v **knihovny** obor názvů, neexistuje žádná záruka, že je deserializovat do objektu stejného typu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-108">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="f0e69-109">Serializace XML nepřevádět metody, indexery, soukromé pole nebo vlastnosti jen pro čtení (s výjimkou kolekce jen pro čtení).</span><span class="sxs-lookup"><span data-stu-id="f0e69-109">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="f0e69-110">K serializaci všechny objektu polí a vlastností, veřejné a soukromé, použijte <xref:System.Runtime.Serialization.DataContractSerializer> namísto serializace XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-110">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="f0e69-111">Centrální třída v serializaci XML je <xref:System.Xml.Serialization.XmlSerializer> třídy a nejdůležitějších metod této třídy jsou **serializace** a **Deserialize** metody.</span><span class="sxs-lookup"><span data-stu-id="f0e69-111">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="f0e69-112"><xref:System.Xml.Serialization.XmlSerializer> Vytváří soubory jazyka C# a jejich kompiluje do soubory DLL a provést serializace.</span><span class="sxs-lookup"><span data-stu-id="f0e69-112">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="f0e69-113">V rozhraní .NET Framework 2.0 [nástroj XML Serializer Generator (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) je určena ke generování těchto sestavení serializace předem, chcete-li být nasazeny s vaší aplikací a zlepšit výkon při spuštění.</span><span class="sxs-lookup"><span data-stu-id="f0e69-113">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="f0e69-114">Datový proud XML generovaných **XmlSerializer** je v souladu s World Wide Web Consortium (W3C) [schéma XML definice jazyk (XSD) 1.0 doporučení](https://www.w3.org/TR/xslt).</span><span class="sxs-lookup"><span data-stu-id="f0e69-114">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="f0e69-115">Kromě toho jsou datové typy generovány kompatibilní s dokumentu s názvem "XML schématu část 2: Datové typy."</span><span class="sxs-lookup"><span data-stu-id="f0e69-115">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="f0e69-116">Data v objekty je popsána pomocí konstrukcí programovací jazyk jako třídy, pole, vlastnosti, primitivní typy, pole a dokonce i vloženého XML ve formě **XmlElement** nebo **XmlAttribute**objekty.</span><span class="sxs-lookup"><span data-stu-id="f0e69-116">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="f0e69-117">Máte možnost vytvořit vlastní třídy označena s atributy, nebo pomocí nástroje definici schématu XML vygenerovat třídy založen na stávajícím schématu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-117">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="f0e69-118">Pokud máte schématu XML, můžete spustit nástroj definici schématu XML k vytvoření sadu tříd, které jsou silného typu schématu a označena s atributy.</span><span class="sxs-lookup"><span data-stu-id="f0e69-118">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="f0e69-119">Pokud instance této třídy serializován, generovaný XML dodržuje schématu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-119">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="f0e69-120">Za předpokladu tříd se můžete programovat proti snadno s ní manipulováno objektový model při zachování zajištěno, že generovaného kódu XML odpovídá schématu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-120">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="f0e69-121">Jedná se o alternativu k použití jiných tříd v rozhraní .NET Framework, jako **XmlReader** a **XmlWriter** třídy pro analýzu a zapsat datový proud XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-121">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="f0e69-122">Další informace najdete v tématu [XML dokumenty a Data](../../../docs/standard/data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-122">For more information, see [XML Documents and Data](../../../docs/standard/data/xml/index.md).</span></span> <span data-ttu-id="f0e69-123">Tyto třídy umožňují analyzovat jakékoli datový proud XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-123">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="f0e69-124">Naopak použít **XmlSerializer** očekávaného datový proud XML tak, aby odpovídal známé schématu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-124">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="f0e69-125">Atributy řídí datový proud XML generovaných **XmlSerializer** třídy, což vám umožní nastavit obor názvů XML, název elementu, název atributu a tak dále datového proudu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-125">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="f0e69-126">Další informace o těchto atributů a způsob, jakým se řídí serializace XML, naleznete v tématu [řízení XML serializace pomocí atributů](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-126">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="f0e69-127">Tabulka obsahující tyto atributy, které se používají k řízení vygenerovaný kód XML, naleznete v tématu [atributy, které ovládací prvek XML serializace](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-127">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="f0e69-128">**XmlSerializer** třídy lze dále serializovat objekt a generovat kódovaného datový proud XML protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="f0e69-128">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="f0e69-129">Vygenerovaný XML dodržuje část 5 W3c dokumentu s názvem "Simple Object Access Protocol (SOAP) 1.1."</span><span class="sxs-lookup"><span data-stu-id="f0e69-129">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="f0e69-130">Další informace o tomto procesu najdete v tématu [jak: Serializace objektu jako XML kódováním protokolu SOAP Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-130">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="f0e69-131">Tabulka obsahující atributy, které řídí vygenerovaný kód XML, naleznete v tématu [atributy, které ovládací prvek kódovaný SOAP serializace](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-131">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="f0e69-132">**XmlSerializer** třídy generuje zprávy protokolu SOAP vytvořen a předán webové služby XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-132">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="f0e69-133">Chcete-li řídit zprávy protokolu SOAP, můžete použít atributy do třídy, vrácené hodnoty, parametry a pole nalezen v souboru XML webové služby (.asmx).</span><span class="sxs-lookup"><span data-stu-id="f0e69-133">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="f0e69-134">Můžete použít atributy uvedené v "Atributy, aby ovládací prvek XML serializace" a "Atributy, aby ovládací prvek kódovaný SOAP serializace", protože webové služby XML lze použít buď literál nebo kódovaného protokolu SOAP stylu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-134">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="f0e69-135">Další informace o použití atributů k ovládání XML generovaných webové služby XML, naleznete v tématu [serializace XML pomocí webových služeb XML](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-135">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="f0e69-136">Další informace o protokolu SOAP a XML webových služeb najdete v tématu [přizpůsobení zprávy protokolu SOAP](https://msdn.microsoft.com/subscriptions/index/dkwy2d72\(v=vs.71\).aspx).</span><span class="sxs-lookup"><span data-stu-id="f0e69-136">For more information about SOAP and XML Web services, see [Customizing SOAP Messages](https://msdn.microsoft.com/subscriptions/index/dkwy2d72\(v=vs.71\).aspx).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="f0e69-137">Důležité informace o zabezpečení pro XmlSerializer aplikace</span><span class="sxs-lookup"><span data-stu-id="f0e69-137">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="f0e69-138">Při vytvoření aplikace, která používá **XmlSerializer**, je třeba si uvědomit následující položky a jejich důsledky:</span><span class="sxs-lookup"><span data-stu-id="f0e69-138">When creating an application that uses the **XmlSerializer**, you should be aware of the following items and their implications:</span></span>

- <span data-ttu-id="f0e69-139">**XmlSerializer** vytvoří C# (cs), soubory a jejich kompiluje do soubory DLL v adresáři s názvem podle proměnná prostředí TEMP; s těmito knihovnami DLL dojde k serializaci.</span><span class="sxs-lookup"><span data-stu-id="f0e69-139">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="f0e69-140">Tyto sestavení serializace můžete předem vygenerovaných a podepsán pomocí nástroje SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="f0e69-140">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="f0e69-141">To nepomáhá serveru webové služby.</span><span class="sxs-lookup"><span data-stu-id="f0e69-141">This does not work a server of Web services.</span></span> <span data-ttu-id="f0e69-142">Jinými slovy je pouze pro použití klienta a pro ruční serializaci.</span><span class="sxs-lookup"><span data-stu-id="f0e69-142">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="f0e69-143">Kód a knihoven DLL, která jsou citlivé na škodlivý proces v době vytvoření a sestavení.</span><span class="sxs-lookup"><span data-stu-id="f0e69-143">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="f0e69-144">Používáte-li počítači se systémem Microsoft Windows NT 4.0 nebo novější, je možné, že dvě nebo více mohou uživatelé sdílet adresář TEMP.</span><span class="sxs-lookup"><span data-stu-id="f0e69-144">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="f0e69-145">Sdílení adresář TEMP je nebezpečné, pokud dva účty máte oprávnění různé zabezpečení a vyšší oprávnění účtu spustí aplikace pomocí **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-145">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="f0e69-146">V takovém případě může jeden uživatel porušení zabezpečení počítače nahrazením cs nebo DLL souboru, který je zkompilován.</span><span class="sxs-lookup"><span data-stu-id="f0e69-146">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="f0e69-147">Chcete-li tento problém odstranit, vždy ujistěte se, že každý účet v počítači má vlastní profil.</span><span class="sxs-lookup"><span data-stu-id="f0e69-147">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="f0e69-148">Ve výchozím nastavení proměnná prostředí TEMP odkazuje na jiný adresář pro každý účet.</span><span class="sxs-lookup"><span data-stu-id="f0e69-148">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="f0e69-149">Pokud uživatel se zlými úmysly odešle souvislého datového proudu dat XML na webový server (útoku služby), pak bude **XmlSerializer** pokračuje ve zpracování dat, dokud počítač nedostatek na prostředky.</span><span class="sxs-lookup"><span data-stu-id="f0e69-149">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="f0e69-150">Tento druh útoku se eliminují, pokud používáte počítač se systémem Internet Information Services (IIS) a je aplikace spuštěna v rámci služby IIS.</span><span class="sxs-lookup"><span data-stu-id="f0e69-150">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="f0e69-151">Služba IIS obsahuje jako brána, který nezpracovává datových proudů delší než nastavené množství (výchozí hodnota je 4 KB).</span><span class="sxs-lookup"><span data-stu-id="f0e69-151">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="f0e69-152">Pokud vytvoříte aplikaci, která nepoužívají služby IIS a deserializuje s **XmlSerializer**, měli byste implementovat podobně jako brána, který zabraňuje útoku služby.</span><span class="sxs-lookup"><span data-stu-id="f0e69-152">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="f0e69-153">**XmlSerializer** serializuje data a spouští všechny kódu pomocí libovolného typu vzhledem k němu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-153">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="f0e69-154">V které škodlivý objekt představuje hrozbu dvěma způsoby.</span><span class="sxs-lookup"><span data-stu-id="f0e69-154">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="f0e69-155">Spustí škodlivý kód nebo ji může injektovat škodlivý kód do souboru C# vytvořené **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-155">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="f0e69-156">V případě, první Pokud škodlivý objekt se pokusí spustit proceduru destruktivních zabezpečení přístupu ke kódu zabraňuje škody prováděné.</span><span class="sxs-lookup"><span data-stu-id="f0e69-156">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="f0e69-157">V druhém případě je teoretická možnost, že škodlivý objekt může nějakého důvodu vloží kód do souboru C# vytvořené **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-157">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="f0e69-158">I když má prověřit tento problém, důkladně a takového útoku je považován za pravděpodobné, byste měli vzít preventivní opatření nikdy serializace dat s typem neznámý a nedůvěryhodný.</span><span class="sxs-lookup"><span data-stu-id="f0e69-158">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="f0e69-159">Serializovaná citlivá data může být ohrožena.</span><span class="sxs-lookup"><span data-stu-id="f0e69-159">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="f0e69-160">Po **XmlSerializer** má serializovat data, je možné ho uložit jako soubor XML nebo jiného úložiště dat.</span><span class="sxs-lookup"><span data-stu-id="f0e69-160">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="f0e69-161">Pokud vaše úložiště dat je k dispozici pro procesy nebo je zobrazen v intranetu nebo Internetu, můžete data odcizení a záměrně použity.</span><span class="sxs-lookup"><span data-stu-id="f0e69-161">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="f0e69-162">Například pokud vytvoříte aplikaci, která serializuje objednávky obsahující čísla kreditních karet, je velmi důvěrná data.</span><span class="sxs-lookup"><span data-stu-id="f0e69-162">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="f0e69-163">K tomu nedocházelo, vždy chránit úložiště dat a proveďte kroky, které chcete zachovat privátní.</span><span class="sxs-lookup"><span data-stu-id="f0e69-163">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="f0e69-164">Serializace jednoduchou třídu</span><span class="sxs-lookup"><span data-stu-id="f0e69-164">Serialization of a Simple Class</span></span>

<span data-ttu-id="f0e69-165">Následující příklad kódu ukazuje základní třídu s polem veřejné.</span><span class="sxs-lookup"><span data-stu-id="f0e69-165">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="f0e69-166">Pokud je serializována instance této třídy, může vypadat takto.</span><span class="sxs-lookup"><span data-stu-id="f0e69-166">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="f0e69-167">Další příklady serializace naleznete v tématu [příklady serializace XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-167">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="f0e69-168">Položky, které lze serializovat</span><span class="sxs-lookup"><span data-stu-id="f0e69-168">Items That Can Be Serialized</span></span>

<span data-ttu-id="f0e69-169">Následující položky lze serializovat pomocí **XmLSerializer** třídy:</span><span class="sxs-lookup"><span data-stu-id="f0e69-169">The following items can be serialized using the **XmLSerializer** class:</span></span>

- <span data-ttu-id="f0e69-170">Vlastnosti veřejné čtení a zápis a pole veřejné třídy.</span><span class="sxs-lookup"><span data-stu-id="f0e69-170">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="f0e69-171">Třídy, které implementují **rozhraní ICollection** nebo **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-171">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="f0e69-172">Pouze kolekce jsou serializovaná, není veřejné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="f0e69-172">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="f0e69-173">**Třída XmlElement** objekty.</span><span class="sxs-lookup"><span data-stu-id="f0e69-173">**XmlElement** objects.</span></span>

- <span data-ttu-id="f0e69-174">**XmlNode** objekty.</span><span class="sxs-lookup"><span data-stu-id="f0e69-174">**XmlNode** objects.</span></span>

- <span data-ttu-id="f0e69-175">**Datová sada** objekty.</span><span class="sxs-lookup"><span data-stu-id="f0e69-175">**DataSet** objects.</span></span>

 <span data-ttu-id="f0e69-176">Další informace o serializaci nebo deserializaci objektů, naleznete v tématu [jak: Serializace objektu](how-to-serialize-an-object.md) a [jak: Deserializace objektu](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-176">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="f0e69-177">Výhody použití serializace XML</span><span class="sxs-lookup"><span data-stu-id="f0e69-177">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="f0e69-178">**XmlSerializer** třídy získáte kompletní a flexibilní kontrolu při serializaci objektu jako XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-178">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="f0e69-179">Pokud vytváříte webové služby XML, můžete použít atributy, které řídí serializace za účelem třídy a členy zajistit, že výstup kódu XML odpovídá určité schéma.</span><span class="sxs-lookup"><span data-stu-id="f0e69-179">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="f0e69-180">Například **XmlSerializer** vám umožní:</span><span class="sxs-lookup"><span data-stu-id="f0e69-180">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="f0e69-181">Zadejte, zda pole nebo vlastnost by měla být zakódován jako atribut nebo element.</span><span class="sxs-lookup"><span data-stu-id="f0e69-181">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="f0e69-182">Zadejte obor názvů XML používat.</span><span class="sxs-lookup"><span data-stu-id="f0e69-182">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="f0e69-183">Zadejte název elementu nebo atributu, pokud je název pole nebo vlastnost nevhodný.</span><span class="sxs-lookup"><span data-stu-id="f0e69-183">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="f0e69-184">Další výhodou serializace XML je, zda máte bez omezení na aplikací, které vytvoříte, jako datový proud XML, který je generován odpovídá dané schéma.</span><span class="sxs-lookup"><span data-stu-id="f0e69-184">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="f0e69-185">Představte si schématu, který slouží k popisu knihy.</span><span class="sxs-lookup"><span data-stu-id="f0e69-185">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="f0e69-186">Nabízí nadpis, Autor, vydavatel a ISBN čísla elementu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-186">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="f0e69-187">Můžete vyvíjet aplikace, která zpracovává data XML v jakékoli požadovaným způsobem, například jako pořadí adresáře nebo jako inventáře knihy.</span><span class="sxs-lookup"><span data-stu-id="f0e69-187">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="f0e69-188">V obou případech jediným požadavkem je, že datový proud XML odpovídá zadané schéma jazyka (XSD) definice schématu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-188">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="f0e69-189">Důležité informace o serializaci XML</span><span class="sxs-lookup"><span data-stu-id="f0e69-189">XML Serialization Considerations</span></span>

<span data-ttu-id="f0e69-190">Následující by měly být považovány za při použití **XmlSerializer** třídy:</span><span class="sxs-lookup"><span data-stu-id="f0e69-190">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="f0e69-191">Nástroj Sgen.exe je výslovně určena ke generování sestavení serializace pro optimální výkon.</span><span class="sxs-lookup"><span data-stu-id="f0e69-191">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="f0e69-192">Serializovaná data obsahuje vlastní data a strukturu vaší třídy.</span><span class="sxs-lookup"><span data-stu-id="f0e69-192">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="f0e69-193">Informace o typu identitu a sestavení nejsou zahrnuty.</span><span class="sxs-lookup"><span data-stu-id="f0e69-193">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="f0e69-194">Pouze veřejné vlastnosti a pole lze serializovat.</span><span class="sxs-lookup"><span data-stu-id="f0e69-194">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="f0e69-195">Vlastnosti musí mít veřejnou přistupující objekty (get a set metod).</span><span class="sxs-lookup"><span data-stu-id="f0e69-195">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="f0e69-196">Pokud musí serializovat neveřejným dat, použijte <xref:System.Runtime.Serialization.DataContractSerializer> třídy a serializace XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-196">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="f0e69-197">Třída musí mít výchozí konstruktor bylo serializováno modulem **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-197">A class must have a default constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="f0e69-198">Metody nelze serializovat.</span><span class="sxs-lookup"><span data-stu-id="f0e69-198">Methods cannot be serialized.</span></span>

- <span data-ttu-id="f0e69-199">**XmlSerializer** může zpracovat třídy, které implementují **IEnumerable** nebo **rozhraní ICollection** odlišně, pokud takto splňují určité požadavky.</span><span class="sxs-lookup"><span data-stu-id="f0e69-199">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="f0e69-200">Třídu, která implementuje **IEnumerable** musí implementovat veřejné **přidat** metodu, která přijímá jeden parametr.</span><span class="sxs-lookup"><span data-stu-id="f0e69-200">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="f0e69-201">**Přidat** parametr metody musí být konzistentní (polymorfní) s typem vrácená z **IEnumerator.Current** vlastnost vrácená z **GetEnumerator** Metoda.</span><span class="sxs-lookup"><span data-stu-id="f0e69-201">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="f0e69-202">Třídu, která implementuje **rozhraní ICollection** kromě **IEnumerable** (například **CollectionBase**) musí mít veřejnou **položky** indexovat vlastnosti (indexer v jazyce C#), který přebírá celé číslo a musí mít veřejnou **počet** vlastnost typu **celé číslo**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-202">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="f0e69-203">Parametr předána **přidat** metoda musí být stejného typu, který vrátil **položky** vlastnost nebo jedna z daného typu základny.</span><span class="sxs-lookup"><span data-stu-id="f0e69-203">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="f0e69-204">Pro třídy, které implementují **rozhraní ICollection**, hodnoty, které mají být serializován jsou načteny z indexované **položky** vlastnost volat **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="f0e69-204">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="f0e69-205">Také veřejné polí a vlastností nejsou serializován, s výjimkou veřejné pole, která vrací jiné třídy kolekce (ten, který implementuje **rozhraní ICollection**).</span><span class="sxs-lookup"><span data-stu-id="f0e69-205">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="f0e69-206">Příklad najdete v tématu [příklady serializace XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f0e69-206">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="f0e69-207">Mapování typů dat XSD</span><span class="sxs-lookup"><span data-stu-id="f0e69-207">XSD Data Type Mapping</span></span>

<span data-ttu-id="f0e69-208">W3C dokumentu s názvem [XML schématu část 2: Datové typy](https://www.w3.org/TR/xmlschema-2/) určuje jednoduché datové typy, které jsou povoleny ve schématu schématu XML definice jazyk (XSD).</span><span class="sxs-lookup"><span data-stu-id="f0e69-208">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="f0e69-209">Pro mnoho z nich (například **int** a **desítkové**), neexistuje odpovídající typ dat v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f0e69-209">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="f0e69-210">Nicméně některé typy dat XML nemají odpovídající typ dat v rozhraní .NET Framework (třeba **NMTOKEN** datový typ).</span><span class="sxs-lookup"><span data-stu-id="f0e69-210">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="f0e69-211">V takových případech, pokud použijete nástroj definici schématu XML ([nástroj definici schématu XML (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) ke generování třídy z schématu, odpovídajícího atributu se použije na člena typu řetězec a jeho **datovýtyp** je nastavena na název datového typu XML.</span><span class="sxs-lookup"><span data-stu-id="f0e69-211">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="f0e69-212">Například pokud schématu obsahuje element s názvem "MyToken" s datovým typem XML **NMTOKEN**, generovaná třída může obsahovat člena, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="f0e69-212">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="f0e69-213">Podobně, pokud vytváříte třídu, která musí odpovídat na konkrétní schématu XML (XSD), můžete byste použít příslušný atribut a nastavit jeho **datový typ** vlastnost má požadovaná data XML zadejte název.</span><span class="sxs-lookup"><span data-stu-id="f0e69-213">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="f0e69-214">Úplný seznam mapování typů, najdete v článku **datový typ** vlastnosti pro všechny následující třídy atributu:</span><span class="sxs-lookup"><span data-stu-id="f0e69-214">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="f0e69-215">Viz také:</span><span class="sxs-lookup"><span data-stu-id="f0e69-215">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="f0e69-216">Serializace XML a SOAP</span><span class="sxs-lookup"><span data-stu-id="f0e69-216">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="f0e69-217">Binární serializace</span><span class="sxs-lookup"><span data-stu-id="f0e69-217">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="f0e69-218">Serializace</span><span class="sxs-lookup"><span data-stu-id="f0e69-218">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="f0e69-219">Příklady serializace XML</span><span class="sxs-lookup"><span data-stu-id="f0e69-219">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="f0e69-220">Postupy: Serializace objektu</span><span class="sxs-lookup"><span data-stu-id="f0e69-220">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="f0e69-221">Postupy: Deserializace objektu</span><span class="sxs-lookup"><span data-stu-id="f0e69-221">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
