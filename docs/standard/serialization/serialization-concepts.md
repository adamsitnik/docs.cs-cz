---
title: Koncepty serializace
ms.date: 08/07/2017
ms.assetid: e1ff4740-20a1-4c76-a8ad-d857db307054
ms.openlocfilehash: 649c4475aa8dcfc657b7591a0068dbfa4af918ca
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/23/2019
ms.locfileid: "62018109"
---
# <a name="serialization-concepts"></a><span data-ttu-id="0aea8-102">Koncepty serializace</span><span class="sxs-lookup"><span data-stu-id="0aea8-102">Serialization concepts</span></span>
<span data-ttu-id="0aea8-103">Proč byste se měli použít serializaci?</span><span class="sxs-lookup"><span data-stu-id="0aea8-103">Why would you want to use serialization?</span></span> <span data-ttu-id="0aea8-104">Dva nejdůležitější důvody jsou k uchování stav objektu do úložiště média, takže přesná kopie může být později znovu vytvořena a posílat objektu podle hodnoty od jeden aplikační domény do druhé.</span><span class="sxs-lookup"><span data-stu-id="0aea8-104">The two most important reasons are to persist the state of an object to a storage medium so an exact copy can be re-created at a later stage, and to send the object by value from one application domain to another.</span></span> <span data-ttu-id="0aea8-105">Můžete například serializace slouží k uložení stavu relace technologie ASP.NET a objekty zkopírovat do schránky ve Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="0aea8-105">For example, serialization is used to save session state in ASP.NET and to copy objects to the Clipboard in Windows Forms.</span></span> <span data-ttu-id="0aea8-106">Také se používá ve vzdálené komunikace předat objekty podle hodnoty z domény jednu aplikaci do jiného.</span><span class="sxs-lookup"><span data-stu-id="0aea8-106">It is also used by remoting to pass objects by value from one application domain to another.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

## <a name="persistent-storage"></a><span data-ttu-id="0aea8-107">Trvalé úložiště</span><span class="sxs-lookup"><span data-stu-id="0aea8-107">Persistent storage</span></span>
<span data-ttu-id="0aea8-108">Často je nezbytné k uložení hodnoty polí objektu na disk a potom později načíst tato data.</span><span class="sxs-lookup"><span data-stu-id="0aea8-108">It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.</span></span> <span data-ttu-id="0aea8-109">Přestože je to snadné dosáhnout bez ohledu na serializace, tento přístup je často náročný a chyby k chybám a změní postupně složitější, pokud je třeba sledovat hierarchie objektů.</span><span class="sxs-lookup"><span data-stu-id="0aea8-109">Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.</span></span> <span data-ttu-id="0aea8-110">Představte si aplikaci velké firmy, která obsahuje tisíce objekty, zápisu a nutnosti psaní kódu pro uložení a obnovení polí a vlastností, z disku a disk pro každý objekt.</span><span class="sxs-lookup"><span data-stu-id="0aea8-110">Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.</span></span> <span data-ttu-id="0aea8-111">Serializace poskytuje vhodný mechanismus pro dosažení tohoto cíle.</span><span class="sxs-lookup"><span data-stu-id="0aea8-111">Serialization provides a convenient mechanism for achieving this objective.</span></span>

<span data-ttu-id="0aea8-112">Modul common language runtime spravuje, jak jsou objekty uložené v paměti a poskytuje mechanismus pro automatické serializace pomocí [reflexe](../../../docs/framework/reflection-and-codedom/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="0aea8-112">The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../../docs/framework/reflection-and-codedom/reflection.md).</span></span> <span data-ttu-id="0aea8-113">Pokud je objekt serializován, název třídy, sestavení a datových členů instance třídy jsou zapsány do úložiště.</span><span class="sxs-lookup"><span data-stu-id="0aea8-113">When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.</span></span> <span data-ttu-id="0aea8-114">Objekty často ukládat odkazy na další instance proměnné členů.</span><span class="sxs-lookup"><span data-stu-id="0aea8-114">Objects often store references to other instances in member variables.</span></span> <span data-ttu-id="0aea8-115">Při serializován třídu pro Serializační stroj sleduje odkazované objekty, již serializován, chcete-li zajistit, že na stejný objekt nelze serializovat, více než jednou.</span><span class="sxs-lookup"><span data-stu-id="0aea8-115">When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.</span></span> <span data-ttu-id="0aea8-116">Architektura serializace opatřeného [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] správně zpracovává grafy a objektů cyklické odkazy automaticky.</span><span class="sxs-lookup"><span data-stu-id="0aea8-116">The serialization architecture provided with the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] correctly handles object graphs and circular references automatically.</span></span> <span data-ttu-id="0aea8-117">Jediným požadavkem umístí na objekt, grafy je, že všechny objekty, odkazuje serializovaný objekt musí být také označen jako `Serializable` (Další informace najdete v tématu [základní serializace](basic-serialization.md)).</span><span class="sxs-lookup"><span data-stu-id="0aea8-117">The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](basic-serialization.md)).</span></span> <span data-ttu-id="0aea8-118">Pokud není to, bude vyvolána výjimka, když serializátor pokusí serializaci zrušeno označení objektu.</span><span class="sxs-lookup"><span data-stu-id="0aea8-118">If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.</span></span>

<span data-ttu-id="0aea8-119">Když je deserializovat serializovaná třídy, se znovu vytvoří třídu a hodnoty datových členů jsou automaticky obnoví.</span><span class="sxs-lookup"><span data-stu-id="0aea8-119">When the serialized class is deserialized, the class is recreated and the values of all the data members are automatically restored.</span></span>

## <a name="marshal-by-value"></a><span data-ttu-id="0aea8-120">Zařazování podle hodnoty</span><span class="sxs-lookup"><span data-stu-id="0aea8-120">Marshal by value</span></span>
<span data-ttu-id="0aea8-121">Objekty jsou platné pouze v doméně aplikace, kde jsou vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="0aea8-121">Objects are valid only in the application domain where they are created.</span></span> <span data-ttu-id="0aea8-122">Jakýkoliv pokus o předání objektu jako parametr nebo je vrátit v důsledku se nezdaří, pokud objekt je odvozen z `MarshalByRefObject` nebo je označeno jako `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="0aea8-122">Any attempt to pass the object as a parameter or return it as a result will fail unless the object derives from `MarshalByRefObject` or is marked as `Serializable`.</span></span> <span data-ttu-id="0aea8-123">Pokud objekt je označen jako `Serializable`, objekt bude automaticky serializován, přenášet od jeden aplikační domény na druhý a potom deserializovat k vytvoření přesnou kopii objektu v druhém doménu aplikace.</span><span class="sxs-lookup"><span data-stu-id="0aea8-123">If the object is marked as `Serializable`, the object will automatically be serialized, transported from the one application domain to the other, and then deserialized to produce an exact copy of the object in the second application domain.</span></span> <span data-ttu-id="0aea8-124">Tento proces je obvykle označován jako zařazování podle hodnot.</span><span class="sxs-lookup"><span data-stu-id="0aea8-124">This process is typically referred to as marshal-by-value.</span></span>
 
<span data-ttu-id="0aea8-125">Pokud objekt je odvozen od `MarshalByRefObject`, odkaz na objekt je předán z jednoho aplikační domény na jiný, nikoli samotného objektu.</span><span class="sxs-lookup"><span data-stu-id="0aea8-125">When an object derives from `MarshalByRefObject`, an object reference is passed from one application domain to another, rather than the object itself.</span></span> <span data-ttu-id="0aea8-126">Můžete také označit objekt, který je odvozen od `MarshalByRefObject` jako `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="0aea8-126">You can also mark an object that derives from `MarshalByRefObject` as `Serializable`.</span></span> <span data-ttu-id="0aea8-127">Když tento objekt se používá u vzdálené komunikace zodpovědná za serializaci, které jsou předem nakonfigurované s náhradní selektor formátování (`SurrogateSelector`), přebírá řízení procesu serializace a nahradí všechny objekty, které jsou odvozeny z `MarshalByRefObject` s proxy server.</span><span class="sxs-lookup"><span data-stu-id="0aea8-127">When this object is used with remoting, the formatter responsible for serialization, which has been preconfigured with a surrogate selector (`SurrogateSelector`), takes control of the serialization process, and replaces all objects derived from `MarshalByRefObject` with a proxy.</span></span> <span data-ttu-id="0aea8-128">Bez `SurrogateSelector` na místě, architektura serializace následuje standardní serializace pravidel popsaných v [kroky v procesu serializace](steps-in-the-serialization-process.md).</span><span class="sxs-lookup"><span data-stu-id="0aea8-128">Without the `SurrogateSelector` in place, the serialization architecture follows the standard serialization rules described in [Steps in the Serialization Process](steps-in-the-serialization-process.md).</span></span>  

## <a name="related-sections"></a><span data-ttu-id="0aea8-129">Související oddíly</span><span class="sxs-lookup"><span data-stu-id="0aea8-129">Related sections</span></span>  
 [<span data-ttu-id="0aea8-130">Binární serializace</span><span class="sxs-lookup"><span data-stu-id="0aea8-130">Binary Serialization</span></span>](../../../docs/standard/serialization/binary-serialization.md)  
 <span data-ttu-id="0aea8-131">Popisuje binární serializace mechanismus, který je součástí common language runtime.</span><span class="sxs-lookup"><span data-stu-id="0aea8-131">Describes the binary serialization mechanism that is included with the common language runtime.</span></span>  
  
 <span data-ttu-id="0aea8-132">[Vzdálené komunikace .NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))\\</span><span class="sxs-lookup"><span data-stu-id="0aea8-132">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))\\</span></span>
 <span data-ttu-id="0aea8-133">Popisuje různé komunikační metody k dispozici v rozhraní .NET Framework pro vzdálenou komunikaci.</span><span class="sxs-lookup"><span data-stu-id="0aea8-133">Describes the various communications methods available in the .NET Framework for remote communications.</span></span>  
  
 [<span data-ttu-id="0aea8-134">Serializace XML a SOAP</span><span class="sxs-lookup"><span data-stu-id="0aea8-134">XML and SOAP Serialization</span></span>](../../../docs/standard/serialization/xml-and-soap-serialization.md)  
 <span data-ttu-id="0aea8-135">Popisuje mechanismus serializace XML a SOAP, která je součástí common language runtime.</span><span class="sxs-lookup"><span data-stu-id="0aea8-135">Describes the XML and SOAP serialization mechanism that is included with the common language runtime.</span></span>
