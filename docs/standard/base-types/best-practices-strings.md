---
title: Osvědčené postupy pro používání řetězců v .NET
description: Zjistěte, jak efektivní používání řetězců v aplikacích .NET.
ms.date: 05/01/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- strings [.NET Framework],searching
- best practices,string comparison and sorting
- strings [.NET Framework],best practices
- strings [.NET Framework],basic string operations
- sorting strings
- strings [.NET Framework],sorting
- string comparison [.NET Framework],best practices
- string sorting
- comparing strings
- strings [.NET Framework],comparing
ms.assetid: b9f0bf53-e2de-4116-8ce9-d4f91a1df4f7
author: rpetrusha
ms.author: ronpet
ms.custom: seodec18
ms.openlocfilehash: 68bcc9321d5a97620d0e8d24befbd24f4f350f94
ms.sourcegitcommit: 26f4a7697c32978f6a328c89dc4ea87034065989
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/28/2019
ms.locfileid: "66250822"
---
# <a name="best-practices-for-using-strings-in-net"></a><span data-ttu-id="53415-103">Osvědčené postupy pro používání řetězců v .NET</span><span class="sxs-lookup"><span data-stu-id="53415-103">Best Practices for Using Strings in .NET</span></span>
<a name="top"></a> <span data-ttu-id="53415-104">.NET poskytuje rozsáhlou podporu pro vývoj globalizovaných a lokalizovaných aplikací a umožňuje snadno použít konvence aktuální jazykové verze nebo specifické jazykové verze při provádění běžných operací, jako je například řazení a zobrazení řetězce.</span><span class="sxs-lookup"><span data-stu-id="53415-104">.NET provides extensive support for developing localized and globalized applications, and makes it easy to apply the conventions of either the current culture or a specific culture when performing common operations such as sorting and displaying strings.</span></span> <span data-ttu-id="53415-105">Ale řazení a porovnávání řetězců není vždy operace zohledňující jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-105">But sorting or comparing strings is not always a culture-sensitive operation.</span></span> <span data-ttu-id="53415-106">Například by řetězců, které se používají interně aplikace obvykle zpracovává stejně jako všechny jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-106">For example, strings that are used internally by an application typically should be handled identically across all cultures.</span></span> <span data-ttu-id="53415-107">Pokud jazykově nezávislá řetězec dat, jako jsou XML značky HTML značky, uživatelská jména, cesty k souborům a názvy systémové objekty, jsou interpretovány, jako by byly zohledňující jazykovou verzi, v souladu s drobné chyby, nízký výkon a v některých případech může být kód aplikace problémy se zabezpečením.</span><span class="sxs-lookup"><span data-stu-id="53415-107">When culturally independent string data, such as XML tags, HTML tags, user names, file paths, and the names of system objects, are interpreted as if they were culture-sensitive, application code can be subject to subtle bugs, poor performance, and, in some cases, security issues.</span></span>  
  
 <span data-ttu-id="53415-108">Toto téma prozkoumá řazení řetězců, porovnání a metody malých a velkých písmen v .NET, nabízí doporučení pro výběr příslušné metody zpracování řetězců a poskytuje další informace o metodách zpracování řetězce.</span><span class="sxs-lookup"><span data-stu-id="53415-108">This topic examines the string sorting, comparison, and casing methods in .NET, presents recommendations for selecting an appropriate string-handling method, and provides additional information about string-handling methods.</span></span> <span data-ttu-id="53415-109">Také zkontroluje jak formátovaných dat, jako je například číselná data a data a času, se zpracovává k zobrazení a pro úložiště.</span><span class="sxs-lookup"><span data-stu-id="53415-109">It also examines how formatted data, such as numeric data and date and time data, is handled for display and for storage.</span></span>  
  
 <span data-ttu-id="53415-110">Toto téma obsahuje následující oddíly:</span><span class="sxs-lookup"><span data-stu-id="53415-110">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="53415-111">Doporučení pro používání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-111">Recommendations for String Usage</span></span>](#recommendations_for_string_usage)  
  
- [<span data-ttu-id="53415-112">Odstranit explicitním zadáním porovnávání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-112">Specifying String Comparisons Explicitly</span></span>](#specifying_string_comparisons_explicitly)  
  
- [<span data-ttu-id="53415-113">Podrobnosti o porovnání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-113">The Details of String Comparison</span></span>](#the_details_of_string_comparison)  
  
- [<span data-ttu-id="53415-114">Výběr člena StringComparison, který vaše volání metody</span><span class="sxs-lookup"><span data-stu-id="53415-114">Choosing a StringComparison Member for Your Method Call</span></span>](#choosing_a_stringcomparison_member_for_your_method_call)  
  
- [<span data-ttu-id="53415-115">Běžné metody pro porovnávání řetězců v .NET</span><span class="sxs-lookup"><span data-stu-id="53415-115">Common String Comparison Methods in .NET</span></span>](#common_string_comparison_methods_in_the_net_framework)  
  
- [<span data-ttu-id="53415-116">Metody, které nepřímo provést porovnání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-116">Methods that Perform String Comparison Indirectly</span></span>](#methods_that_perform_string_comparison_indirectly)  
  
- [<span data-ttu-id="53415-117">Zobrazení a uchování formátovaných dat</span><span class="sxs-lookup"><span data-stu-id="53415-117">Displaying and Persisting Formatted Data</span></span>](#Formatted)  
  
<a name="recommendations_for_string_usage"></a>   
## <a name="recommendations-for-string-usage"></a><span data-ttu-id="53415-118">Doporučení pro používání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-118">Recommendations for String Usage</span></span>  
 <span data-ttu-id="53415-119">Při vývoji pomocí .NET, postupujte podle těchto jednoduchých doporučení, při použití řetězce:</span><span class="sxs-lookup"><span data-stu-id="53415-119">When you develop with .NET, follow these simple recommendations when you use strings:</span></span>  
  
- <span data-ttu-id="53415-120">Použijte přetížení, která explicitně zadáte pravidel pro porovnávání řetězců pro operace s řetězci.</span><span class="sxs-lookup"><span data-stu-id="53415-120">Use overloads that explicitly specify the string comparison rules for string operations.</span></span> <span data-ttu-id="53415-121">Obvykle to zahrnuje volání přetížení metody, která má parametr typu <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="53415-121">Typically, this involves calling a method overload that has a parameter of type <xref:System.StringComparison>.</span></span>  
  
- <span data-ttu-id="53415-122">Použití <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> nebo <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> pro porovnání jako výchozí bezpečnou pro porovnávání řetězců nezávislá na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-122">Use <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for comparisons as your safe default for culture-agnostic string matching.</span></span>  
  
- <span data-ttu-id="53415-123">Použít porovnávání s <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> nebo <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> pro zajištění lepšího výkonu.</span><span class="sxs-lookup"><span data-stu-id="53415-123">Use comparisons with <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for better performance.</span></span>  
  
- <span data-ttu-id="53415-124">Pomocí operace s řetězci, které jsou založeny na <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> při zobrazení výstupu uživateli.</span><span class="sxs-lookup"><span data-stu-id="53415-124">Use string operations that are based on <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> when you display output to the user.</span></span>  
  
- <span data-ttu-id="53415-125">Použít nejazykové <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> nebo <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> podle hodnoty místo operace s řetězci <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> při porovnání lingvistických bezvýznamná (například symbolických).</span><span class="sxs-lookup"><span data-stu-id="53415-125">Use the non-linguistic <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> values instead of string operations based on <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> when the comparison is linguistically irrelevant (symbolic, for example).</span></span>  
  
- <span data-ttu-id="53415-126">Použití <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> metoda místo <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> metoda při normalizujte řetězce pro porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-126">Use the <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> method instead of the <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> method when you normalize strings for comparison.</span></span>  
  
- <span data-ttu-id="53415-127">Použijte přetížení <xref:System.String.Equals%2A?displayProperty=nameWithType> metodu k ověření, zda jsou dva řetězce rovny.</span><span class="sxs-lookup"><span data-stu-id="53415-127">Use an overload of the <xref:System.String.Equals%2A?displayProperty=nameWithType> method to test whether two strings are equal.</span></span>  
  
- <span data-ttu-id="53415-128">Použití <xref:System.String.Compare%2A?displayProperty=nameWithType> a <xref:System.String.CompareTo%2A?displayProperty=nameWithType> metody pro řazení řetězců, ne pro kontrolu rovnosti.</span><span class="sxs-lookup"><span data-stu-id="53415-128">Use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.CompareTo%2A?displayProperty=nameWithType> methods to sort strings, not to check for equality.</span></span>  
  
- <span data-ttu-id="53415-129">Formátování zohledňující jazykovou verzi použijte k zobrazení neřetězcová data, jako je například čísla a kalendářní data, v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="53415-129">Use culture-sensitive formatting to display non-string data, such as numbers and dates, in a user interface.</span></span> <span data-ttu-id="53415-130">Použití formátování pomocí [invariantní jazyková verze](xref:System.Globalization.CultureInfo.InvariantCulture) k uchování neřetězcová data ve formátu řetězce.</span><span class="sxs-lookup"><span data-stu-id="53415-130">Use formatting with the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) to persist non-string data in string form.</span></span>  
  
 <span data-ttu-id="53415-131">Nepoužívejte následující postupy pro používání řetězců:</span><span class="sxs-lookup"><span data-stu-id="53415-131">Avoid the following practices when you use strings:</span></span>  
  
- <span data-ttu-id="53415-132">Nepoužívejte přetížení, které explicitně nebo implicitně zadat pravidla pro porovnávání řetězců pro operace s řetězci.</span><span class="sxs-lookup"><span data-stu-id="53415-132">Do not use overloads that do not explicitly or implicitly specify the string comparison rules for string operations.</span></span>  
  
- <span data-ttu-id="53415-133">Nepoužívejte operace s řetězci závislé na základě <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> ve většině případů.</span><span class="sxs-lookup"><span data-stu-id="53415-133">Do not use string operations based on <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> in most cases.</span></span> <span data-ttu-id="53415-134">Jednou z několika výjimkami je uchováváte data, která ale lingvistických smysluplné.</span><span class="sxs-lookup"><span data-stu-id="53415-134">One of the few exceptions is when you are persisting linguistically meaningful but culturally agnostic data.</span></span>  
  
- <span data-ttu-id="53415-135">Nepoužívejte přetížení <xref:System.String.Compare%2A?displayProperty=nameWithType> nebo <xref:System.String.CompareTo%2A> metoda a testování pro návratovou hodnotu nula, která určí, zda jsou dva řetězce stejné.</span><span class="sxs-lookup"><span data-stu-id="53415-135">Do not use an overload of the <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.String.CompareTo%2A> method and test for a return value of zero to determine whether two strings are equal.</span></span>  
  
- <span data-ttu-id="53415-136">Nepoužívejte formátování zohledňující jazykovou verzi se zachovat číselná data nebo data pro datum a čas ve formátu řetězce.</span><span class="sxs-lookup"><span data-stu-id="53415-136">Do not use culture-sensitive formatting to persist numeric data or date and time data in string form.</span></span>  
  
 [<span data-ttu-id="53415-137">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-137">Back to top</span></span>](#top)  
  
<a name="specifying_string_comparisons_explicitly"></a>   
## <a name="specifying-string-comparisons-explicitly"></a><span data-ttu-id="53415-138">Odstranit explicitním zadáním porovnávání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-138">Specifying String Comparisons Explicitly</span></span>  
 <span data-ttu-id="53415-139">Většina metod manipulace s řetězci v .NET jsou přetížené.</span><span class="sxs-lookup"><span data-stu-id="53415-139">Most of the string manipulation methods in .NET are overloaded.</span></span> <span data-ttu-id="53415-140">Jeden nebo více přetížení obvykle přijmout výchozí nastavení, zatímco ostatní přijměte žádné výchozí hodnoty a místo toho určit přesné způsob, jakým jsou řetězce k porovnání nebo s nimi pracovat.</span><span class="sxs-lookup"><span data-stu-id="53415-140">Typically, one or more overloads accept default settings, whereas others accept no defaults and instead define the precise way in which strings are to be compared or manipulated.</span></span> <span data-ttu-id="53415-141">Většina metod, které nespoléhejte na výchozím nastavení zahrnují parametr typu <xref:System.StringComparison>, což je výčet, který explicitně určuje pravidla pro porovnání řetězců podle jazykové verze a případ.</span><span class="sxs-lookup"><span data-stu-id="53415-141">Most of the methods that do not rely on defaults include a parameter of type <xref:System.StringComparison>, which is an enumeration that explicitly specifies rules for string comparison by culture and case.</span></span> <span data-ttu-id="53415-142">V následující tabulce jsou popsány <xref:System.StringComparison> členy výčtu.</span><span class="sxs-lookup"><span data-stu-id="53415-142">The following table describes the <xref:System.StringComparison> enumeration members.</span></span>  
  
|<span data-ttu-id="53415-143">Člen StringComparison</span><span class="sxs-lookup"><span data-stu-id="53415-143">StringComparison member</span></span>|<span data-ttu-id="53415-144">Popis</span><span class="sxs-lookup"><span data-stu-id="53415-144">Description</span></span>|  
|-----------------------------|-----------------|  
|<xref:System.StringComparison.CurrentCulture>|<span data-ttu-id="53415-145">Provádí velká a malá písmena porovnání použitím aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-145">Performs a case-sensitive comparison using the current culture.</span></span>|  
|<xref:System.StringComparison.CurrentCultureIgnoreCase>|<span data-ttu-id="53415-146">Provádí porovnávání bez použitím aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-146">Performs a case-insensitive comparison using the current culture.</span></span>|  
|<xref:System.StringComparison.InvariantCulture>|<span data-ttu-id="53415-147">Provádí porovnání velká a malá písmena pomocí neutrální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-147">Performs a case-sensitive comparison using the invariant culture.</span></span>|  
|<xref:System.StringComparison.InvariantCultureIgnoreCase>|<span data-ttu-id="53415-148">Provádí porovnávání pomocí neutrální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-148">Performs a case-insensitive comparison using the invariant culture.</span></span>|  
|<xref:System.StringComparison.Ordinal>|<span data-ttu-id="53415-149">Provádí řadové porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-149">Performs an ordinal comparison.</span></span>|  
|<xref:System.StringComparison.OrdinalIgnoreCase>|<span data-ttu-id="53415-150">Provádí pořadové porovnávání.</span><span class="sxs-lookup"><span data-stu-id="53415-150">Performs a case-insensitive ordinal comparison.</span></span>|  
  
 <span data-ttu-id="53415-151">Například <xref:System.String.IndexOf%2A> metodu, která vrátí index podřetězce v <xref:System.String> objekt, který odpovídá znaku nebo řetězec, obsahuje devět přetížení:</span><span class="sxs-lookup"><span data-stu-id="53415-151">For example, the <xref:System.String.IndexOf%2A> method, which returns the index of a substring in a <xref:System.String> object that matches either a character or a string, has nine overloads:</span></span>  
  
- <span data-ttu-id="53415-152"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29>, a <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29>, která ve výchozím nastavení provádí ordinální vyhledávání (malá a velká písmena a nezávislé na jazykové verzi) pro znak v řetězci.</span><span class="sxs-lookup"><span data-stu-id="53415-152"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29>, which by default perform an ordinal (case-sensitive and culture-insensitive) search for a character in the string.</span></span>  
  
- <span data-ttu-id="53415-153"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29>, a <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29>, která ve výchozím nastavení provádí velká a malá písmena a zohledňující jazykovou verzi vyhledávání podřetězce v řetězci.</span><span class="sxs-lookup"><span data-stu-id="53415-153"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29>, which by default perform a case-sensitive and culture-sensitive search for a substring in the string.</span></span>  
  
- <span data-ttu-id="53415-154"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29>, a <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29>, které obsahují parametr typu <xref:System.StringComparison> , která umožňuje formu porovnání zadání.</span><span class="sxs-lookup"><span data-stu-id="53415-154"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29>, which include a parameter of type <xref:System.StringComparison> that allows the form of the comparison to be specified.</span></span>  
  
 <span data-ttu-id="53415-155">Doporučujeme vám, že vyberete přetížení, která nepoužívá výchozí hodnoty z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="53415-155">We recommend that you select an overload that does not use default values, for the following reasons:</span></span>  
  
- <span data-ttu-id="53415-156">Některá přetížení s výchozími parametry (těch, které hledají <xref:System.Char> v instanci string) provádět pořadové porovnávání, zatímco jiné (těch, které hledají řetězce v instanci string) jsou závislé na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-156">Some overloads with default parameters (those that search for a <xref:System.Char> in the string instance) perform an ordinal comparison, whereas others (those that search for a string in the string instance) are culture-sensitive.</span></span> <span data-ttu-id="53415-157">Je obtížné mějte na paměti, která metoda používá které výchozí hodnotu a snadno zaměnit přetížení.</span><span class="sxs-lookup"><span data-stu-id="53415-157">It is difficult to remember which method uses which default value, and easy to confuse the overloads.</span></span>  
  
- <span data-ttu-id="53415-158">Záměr kódu, který závisí na výchozí hodnoty pro volání metody není jasný.</span><span class="sxs-lookup"><span data-stu-id="53415-158">The intent of the code that relies on default values for method calls is not clear.</span></span> <span data-ttu-id="53415-159">V následujícím příkladu, který závisí na výchozí hodnoty, je obtížné zjistit, jestli vývojář skutečně určený ordinální číslo nebo jazykové porovnání dvou řetězců nebo zda případu rozdíl mezi `protocol` a "http" může způsobit, že testování rovnosti Chcete-li vrátit `false`.</span><span class="sxs-lookup"><span data-stu-id="53415-159">In the following example, which relies on defaults, it is difficult to know whether the developer actually intended an ordinal or a linguistic comparison of two strings, or whether a case difference between `protocol` and "http" might cause the test for equality to return `false`.</span></span>  
  
     [!code-csharp[Conceptual.Strings.BestPractices#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#1)]
     [!code-vb[Conceptual.Strings.BestPractices#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#1)]  
  
 <span data-ttu-id="53415-160">Obecně platí doporučujeme volání metody, který není závislý na výchozí hodnoty, protože záměr kód je jednoznačný.</span><span class="sxs-lookup"><span data-stu-id="53415-160">In general, we recommend that you call a method that does not rely on defaults, because it makes the intent of the code unambiguous.</span></span> <span data-ttu-id="53415-161">Díky tomu kód lépe čitelný a snadněji vyladit a udržovat.</span><span class="sxs-lookup"><span data-stu-id="53415-161">This, in turn, makes the code more readable and easier to debug and maintain.</span></span> <span data-ttu-id="53415-162">V následujícím příkladu řeší otázky o z předchozího příkladu.</span><span class="sxs-lookup"><span data-stu-id="53415-162">The following example addresses the questions raised about the previous example.</span></span> <span data-ttu-id="53415-163">Umožňuje vymazat to ordinálního porovnání se používá a že rozdíly v případě jsou ignorovány.</span><span class="sxs-lookup"><span data-stu-id="53415-163">It makes it clear that ordinal comparison is used and that differences in case are ignored.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#2)]
 [!code-vb[Conceptual.Strings.BestPractices#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#2)]  
  
 [<span data-ttu-id="53415-164">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-164">Back to top</span></span>](#top)  
  
<a name="the_details_of_string_comparison"></a>   
## <a name="the-details-of-string-comparison"></a><span data-ttu-id="53415-165">Podrobnosti o porovnání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-165">The Details of String Comparison</span></span>  
 <span data-ttu-id="53415-166">Porovnání řetězců je srdcem mnoho řetězec operací souvisejících se zabezpečením, zejména řazení a testování rovnosti.</span><span class="sxs-lookup"><span data-stu-id="53415-166">String comparison is the heart of many string-related operations, particularly sorting and testing for equality.</span></span> <span data-ttu-id="53415-167">Řazení řetězců v určeném pořadí: Pokud se "my" před "string" v seřazený seznam řetězců, "my" musí porovnat menší než nebo rovno "string".</span><span class="sxs-lookup"><span data-stu-id="53415-167">Strings sort in a determined order: If "my" appears before "string" in a sorted list of strings, "my" must compare less than or equal to "string".</span></span> <span data-ttu-id="53415-168">Kromě toho porovnání implicitně definuje rovnosti.</span><span class="sxs-lookup"><span data-stu-id="53415-168">Additionally, comparison implicitly defines equality.</span></span> <span data-ttu-id="53415-169">Operace porovnání vrátí hodnotu 0 pro řetězce, které považuje za stejné.</span><span class="sxs-lookup"><span data-stu-id="53415-169">The comparison operation returns zero for strings it deems equal.</span></span> <span data-ttu-id="53415-170">Dobré výkladu je, že žádný řetězec není menší než ten druhý.</span><span class="sxs-lookup"><span data-stu-id="53415-170">A good interpretation is that neither string is less than the other.</span></span> <span data-ttu-id="53415-171">Smysluplných operací zahrnujících řetězce obsahuje jedno nebo obě z následujících postupů: Výsledkem porovnání s jiným řetězcem a provádění operace jasně definované řazení.</span><span class="sxs-lookup"><span data-stu-id="53415-171">Most meaningful operations involving strings include one or both of these procedures: comparing with another string, and executing a well-defined sort operation.</span></span>  

> [!NOTE]
> <span data-ttu-id="53415-172">Můžete stáhnout [řazení váhy tabulky](https://www.microsoft.com/download/details.aspx?id=10921), sadu textové soubory, které obsahují informace o tom váhy znaků použitých v operacích řazení a porovnávání pro operační systémy Windows, a [výchozí kódování Unicode Kolace elementu Table](https://www.unicode.org/Public/UCA/latest/allkeys.txt), nejnovější verze tabulky váhy řazení pro systémy Linux a macOS.</span><span class="sxs-lookup"><span data-stu-id="53415-172">You can download the [Sorting Weight Tables](https://www.microsoft.com/download/details.aspx?id=10921), a set of text files that contain information on the character weights used in sorting and comparison operations for Windows operating systems, and the [Default Unicode Collation Element Table](https://www.unicode.org/Public/UCA/latest/allkeys.txt), the latest version of the sort weight table for Linux and macOS.</span></span> <span data-ttu-id="53415-173">Konkrétní verze tabulky váhy řazení v Linuxu a macOS závisí na verzi [mezinárodní součásti pro kódování Unicode](http://site.icu-project.org/) knihovny nainstalované v systému.</span><span class="sxs-lookup"><span data-stu-id="53415-173">The specific version of the sort weight table on Linux and macOS depends on the version of the [International Components for Unicode](http://site.icu-project.org/) libraries installed on the system.</span></span> <span data-ttu-id="53415-174">Informace o verzích ICU a Unicode verze, které implementují najdete v tématu [stahování ICU](http://site.icu-project.org/download).</span><span class="sxs-lookup"><span data-stu-id="53415-174">For information on ICU versions and the Unicode versions that they implement, see [Downloading ICU](http://site.icu-project.org/download).</span></span>

 <span data-ttu-id="53415-175">Však vaše rozhodnutí vyzkoušet dva řetězce pro rovnost nebo pořadí řazení nevydává jeden správný výsledek. Výsledek závisí na kritéria použitá pro porovnání řetězců.</span><span class="sxs-lookup"><span data-stu-id="53415-175">However, evaluating two strings for equality or sort order does not yield a single, correct result; the outcome depends on the criteria used to compare the strings.</span></span> <span data-ttu-id="53415-176">Zejména řetězec porovnání, která se podle pořadového čísla nebo které jsou založeny malých a velkých písmen a řazení konvence aktuální jazykové verze nebo [invariantní jazyková verze](xref:System.Globalization.CultureInfo.InvariantCulture) může vytvořit (národní prostředí bez ohledu na jazykovou verzi na základě v anglickém jazyce) různé výsledky.</span><span class="sxs-lookup"><span data-stu-id="53415-176">In particular, string comparisons that are ordinal or that are based on the casing and sorting conventions of the current culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) (a locale-agnostic culture based on the English language) may produce different results.</span></span>  

<span data-ttu-id="53415-177">Porovnání řetězců pomocí různých verzí rozhraní .NET nebo pomocí rozhraní .NET na různé operační systémy nebo verze operačního systému kromě toho může vrátit různé výsledky.</span><span class="sxs-lookup"><span data-stu-id="53415-177">In addition, string comparisons using different versions of .NET or using .NET on different operating systems or operating system versions may return different results.</span></span> <span data-ttu-id="53415-178">Další informace najdete v tématu [řetězce a standardu Unicode](xref:System.String#Unicode).</span><span class="sxs-lookup"><span data-stu-id="53415-178">For more information, see [Strings and the Unicode Standard](xref:System.String#Unicode).</span></span> 

<a name="current_culture"></a>   
### <a name="string-comparisons-that-use-the-current-culture"></a><span data-ttu-id="53415-179">Porovnávání řetězců, které používají aktuální jazykovou verzi</span><span class="sxs-lookup"><span data-stu-id="53415-179">String Comparisons that Use the Current Culture</span></span>  
 <span data-ttu-id="53415-180">Jedno kritérium zahrnuje při porovnávání řetězců pomocí konvencí aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-180">One criterion involves using the conventions of the current culture when comparing strings.</span></span> <span data-ttu-id="53415-181">Porovnání, které jsou založeny na aktuální jazykovou verzi pomocí aktuální jazykové verze vlákna nebo národní prostředí.</span><span class="sxs-lookup"><span data-stu-id="53415-181">Comparisons that are based on the current culture use the thread's current culture or locale.</span></span> <span data-ttu-id="53415-182">Pokud uživatel není nastavena jazyková verze, použije se výchozí nastavení **místní nastavení** okno v Ovládacích panelech.</span><span class="sxs-lookup"><span data-stu-id="53415-182">If the culture is not set by the user, it defaults to the setting in the **Regional Options** window in Control Panel.</span></span> <span data-ttu-id="53415-183">Vždy byste měli použít porovnávání, které jsou založeny na aktuální jazykové verze, pokud jsou jazykově relevantní data a odráží interakci s uživatelem zohledňující jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-183">You should always use comparisons that are based on the current culture when data is linguistically relevant, and when it reflects culture-sensitive user interaction.</span></span>  
  
 <span data-ttu-id="53415-184">Chování porovnání a malých a velkých písmen v .NET změny však po změně jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-184">However, comparison and casing behavior in .NET changes when the culture changes.</span></span> <span data-ttu-id="53415-185">To se stane, když je aplikace spuštěna v počítači, který má jinou jazykovou verzi, než počítač, na kterém byla vyvinuta aplikace nebo při změně spuštěné vlákno jeho jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-185">This happens when an application executes on a computer that has a different culture than the computer on which the application was developed, or when the executing thread changes its culture.</span></span> <span data-ttu-id="53415-186">Toto chování je záměrné, ale zůstane není zřejmé celá řada vývojářů.</span><span class="sxs-lookup"><span data-stu-id="53415-186">This behavior is intentional, but it remains non-obvious to many developers.</span></span> <span data-ttu-id="53415-187">Následující příklad ukazuje rozdíly v řazení mezi USA Angličtina ("en US") a švédština jazykové verze ("sv-SE").</span><span class="sxs-lookup"><span data-stu-id="53415-187">The following example illustrates differences in sort order between the U.S. English ("en-US") and Swedish ("sv-SE") cultures.</span></span> <span data-ttu-id="53415-188">Všimněte si, že na různých místech v polích seřazený řetězec nezobrazí slova "ångström", "Windows" a "Sada Visual Studio".</span><span class="sxs-lookup"><span data-stu-id="53415-188">Note that the words "ångström", "Windows", and "Visual Studio" appear in different positions in the sorted string arrays.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison1.cs#3)]
 [!code-vb[Conceptual.Strings.BestPractices#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison1.vb#3)]  
  
 <span data-ttu-id="53415-189">Porovnávání, které používají aktuální jazykovou verzi jsou stejné jako Porovnání zohledňující jazykovou verzi, s tím rozdílem, že ignorovat velikost písmen podle aktuální jazykové verze vlákna.</span><span class="sxs-lookup"><span data-stu-id="53415-189">Case-insensitive comparisons that use the current culture are the same as culture-sensitive comparisons, except that they ignore case as dictated by the thread's current culture.</span></span> <span data-ttu-id="53415-190">Toto chování se může projevit v pořadí řazení i.</span><span class="sxs-lookup"><span data-stu-id="53415-190">This behavior may manifest itself in sort orders as well.</span></span>  
  
 <span data-ttu-id="53415-191">Porovnání, která používají sémantiku aktuální jazykové verze se na výchozí hodnoty pro následující metody:</span><span class="sxs-lookup"><span data-stu-id="53415-191">Comparisons that use current culture semantics are the default for the following methods:</span></span>  
  
- <span data-ttu-id="53415-192"><xref:System.String.Compare%2A?displayProperty=nameWithType> přetížení, které nejsou zahrnuté <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-192"><xref:System.String.Compare%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> parameter.</span></span>  
  
- <span data-ttu-id="53415-193"><xref:System.String.CompareTo%2A?displayProperty=nameWithType> přetížení.</span><span class="sxs-lookup"><span data-stu-id="53415-193"><xref:System.String.CompareTo%2A?displayProperty=nameWithType> overloads.</span></span>  
  
- <span data-ttu-id="53415-194">Výchozí hodnota <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> metoda a <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> metodou `null` <xref:System.Globalization.CultureInfo> parametr.</span><span class="sxs-lookup"><span data-stu-id="53415-194">The default <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>  
  
- <span data-ttu-id="53415-195">Výchozí hodnota <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> metoda a <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> metodou `null` <xref:System.Globalization.CultureInfo> parametr.</span><span class="sxs-lookup"><span data-stu-id="53415-195">The default <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>  
  
- <span data-ttu-id="53415-196"><xref:System.String.IndexOf%2A?displayProperty=nameWithType> přetížení, které přijímají <xref:System.String> jako hledání parametr a které nemají <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-196"><xref:System.String.IndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>  
  
- <span data-ttu-id="53415-197"><xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> přetížení, které přijímají <xref:System.String> jako hledání parametr a které nemají <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-197"><xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>  
  
 <span data-ttu-id="53415-198">V každém případě doporučujeme volat přetížení, která má <xref:System.StringComparison> parametr, chcete záměr metody jasný volání.</span><span class="sxs-lookup"><span data-stu-id="53415-198">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter to make the intent of the method call clear.</span></span>  
  
 <span data-ttu-id="53415-199">Jednoduchý a proto drobné chyby můžete objeví, když data nejazykové řetězec je interpretován lingvistických, nebo když řetězcovými daty z konkrétní jazykové verze je interpretován pomocí konvencí jinou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-199">Subtle and not so subtle bugs can emerge when non-linguistic string data is interpreted linguistically, or when string data from a particular culture is interpreted using the conventions of another culture.</span></span> <span data-ttu-id="53415-200">Canonical příkladu je turečtina-jsem problém.</span><span class="sxs-lookup"><span data-stu-id="53415-200">The canonical example is the Turkish-I problem.</span></span>  
  
 <span data-ttu-id="53415-201">Pro téměř všechna latinky písmena abecedy, včetně USA Angličtina, znak "i" (\u0069) je malá verze znaku "I" (\u0049).</span><span class="sxs-lookup"><span data-stu-id="53415-201">For nearly all Latin alphabets, including U.S. English, the character "i" (\u0069) is the lowercase version of the character "I" (\u0049).</span></span> <span data-ttu-id="53415-202">Toto pravidlo malých a velkých písmen rychle stane výchozí někdo programování v těchto jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-202">This casing rule quickly becomes the default for someone programming in such a culture.</span></span> <span data-ttu-id="53415-203">Ale obsahuje abecedy turečtina ("tr-TR") "I s tečkou" znak "İ" (\u0130), což je velká verze z "i".</span><span class="sxs-lookup"><span data-stu-id="53415-203">However, the Turkish ("tr-TR") alphabet includes an "I with a dot" character "İ" (\u0130), which is the capital version of "i".</span></span> <span data-ttu-id="53415-204">Turečtina také obsahuje znak malé písmeno "i bez tečky", "ı" (\u0131), jehož velká "I".</span><span class="sxs-lookup"><span data-stu-id="53415-204">Turkish also includes a lowercase "i without a dot" character, "ı" (\u0131), which capitalizes to "I".</span></span> <span data-ttu-id="53415-205">K tomuto chování dochází v jazykové verzi Ázerbájdžánština ("az") i.</span><span class="sxs-lookup"><span data-stu-id="53415-205">This behavior occurs in the Azerbaijani ("az") culture as well.</span></span>  
  
 <span data-ttu-id="53415-206">Proto předpoklady o "i" na velká písmena nebo předpoklady "I" nejsou platné pro všechny jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-206">Therefore, assumptions made about capitalizing "i" or lowercasing "I" are not valid among all cultures.</span></span> <span data-ttu-id="53415-207">Pokud používáte výchozí přetížení rutin pro porovnávání řetězců, budou platit odchylky mezi jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-207">If you use the default overloads for string comparison routines, they will be subject to variance between cultures.</span></span> <span data-ttu-id="53415-208">Pokud jsou data k porovnání nejazykové, pomocí přetížení výchozí může způsobit nežádoucí výsledky, jako je následující pokus o provádění porovnávání řetězců "file" a ukazuje "FILE".</span><span class="sxs-lookup"><span data-stu-id="53415-208">If the data to be compared is non-linguistic, using the default overloads can produce undesirable results, as the following attempt to perform a case-insensitive comparison of the strings "file" and "FILE" illustrates.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#11)]
 [!code-vb[Conceptual.Strings.BestPractices#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#11)]  
  
 <span data-ttu-id="53415-209">Toto porovnání může způsobit významné problémy, pokud citlivá nastavení zabezpečení, jako v následujícím příkladu neúmyslně používané jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-209">This comparison could cause significant problems if the culture is inadvertently used in security-sensitive settings, as in the following example.</span></span> <span data-ttu-id="53415-210">Volání metody, jako `IsFileURI("file:")` vrátí `true` Pokud je aktuální jazyková verze Angličtina, ale `false` Pokud je aktuální jazyková verze turečtinu.</span><span class="sxs-lookup"><span data-stu-id="53415-210">A method call such as `IsFileURI("file:")` returns `true` if the current culture is U.S. English, but `false` if the current culture is Turkish.</span></span> <span data-ttu-id="53415-211">Proto v turecké systémech někdo mohl obejít bezpečnostních opatření, které blokují přístup k malá a velká písmena identifikátorů URI, který začíná pod "souboru:".</span><span class="sxs-lookup"><span data-stu-id="53415-211">Thus, on Turkish systems, someone could circumvent security measures that block access to case-insensitive URIs that begin with "FILE:".</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#12)]
 [!code-vb[Conceptual.Strings.BestPractices#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#12)]  
  
 <span data-ttu-id="53415-212">V tomto případě protože "souboru:" je určená, je interpretován jako identifikátor nejazykové, nezávislých na jazykové verzi, kód by měl místo zapsání jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="53415-212">In this case, because "file:" is meant to be interpreted as a non-linguistic, culture-insensitive identifier, the code should instead be written as shown in the following example.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#13)]
 [!code-vb[Conceptual.Strings.BestPractices#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#13)]  
  
### <a name="ordinal-string-operations"></a><span data-ttu-id="53415-213">Ordinální operace s řetězci</span><span class="sxs-lookup"><span data-stu-id="53415-213">Ordinal String Operations</span></span>  
 <span data-ttu-id="53415-214">Zadání <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> nebo <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> hodnotu ve volání metody označuje nejazykové porovnání, ve kterém jsou ignorovány funkcí přirozeného jazyka.</span><span class="sxs-lookup"><span data-stu-id="53415-214">Specifying the <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> value in a method call signifies a non-linguistic comparison in which the features of natural languages are ignored.</span></span> <span data-ttu-id="53415-215">Metody, které jsou vyvolány pomocí těchto <xref:System.StringComparison> hodnoty základní řetězec operace rozhodnutí o porovnání jednoduché bajtů namísto malých a velkých písmen nebo ekvivalence tabulek, které jsou parametrizovány podle jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-215">Methods that are invoked with these <xref:System.StringComparison> values base string operation decisions on simple byte comparisons instead of casing or equivalence tables that are parameterized by culture.</span></span> <span data-ttu-id="53415-216">Ve většině případů se tento přístup nejlépe odpovídá určené interpretace řetězce při provádění kódu rychlejší a spolehlivější.</span><span class="sxs-lookup"><span data-stu-id="53415-216">In most cases, this approach best fits the intended interpretation of strings while making code faster and more reliable.</span></span>  
  
 <span data-ttu-id="53415-217">Ordinální porovnání jsou porovnávání řetězců, ve kterých každý bajt každého řetězce je porovnán bez lingvistické interpretace. například "windows" neodpovídá "Windows".</span><span class="sxs-lookup"><span data-stu-id="53415-217">Ordinal comparisons are string comparisons in which each byte of each string is compared without linguistic interpretation; for example, "windows" does not match "Windows".</span></span> <span data-ttu-id="53415-218">Toto je v podstatě volání modulu C Runtime `strcmp` funkce.</span><span class="sxs-lookup"><span data-stu-id="53415-218">This is essentially a call to the C runtime `strcmp` function.</span></span> <span data-ttu-id="53415-219">Porovnání použijte, pokud kontext určuje, že by řetězců přesně odpovídat nebo požadavků konzervativní odpovídající zásady.</span><span class="sxs-lookup"><span data-stu-id="53415-219">Use this comparison when the context dictates that strings should be matched exactly or demands conservative matching policy.</span></span> <span data-ttu-id="53415-220">Kromě toho řadové porovnání je nejrychlejší operace porovnání, protože žádná jazyková pravidla platí při stanovení výsledku.</span><span class="sxs-lookup"><span data-stu-id="53415-220">Additionally, ordinal comparison is the fastest comparison operation because it applies no linguistic rules when determining a result.</span></span>  
  
 <span data-ttu-id="53415-221">Řetězců v .NET může obsahovat vložené znaky null.</span><span class="sxs-lookup"><span data-stu-id="53415-221">Strings in .NET can contain embedded null characters.</span></span> <span data-ttu-id="53415-222">Jedním z s nejjednoznačnějším rozdílů mezi porovnání podle pořadového čísla a zohledňující jazykovou verzi (včetně porovnání, která používají invariantní jazyková verze) se týká zpracování vložené znaky null v řetězci.</span><span class="sxs-lookup"><span data-stu-id="53415-222">One of the clearest differences between ordinal and culture-sensitive comparison (including comparisons that use the invariant culture) concerns the handling of embedded null characters in a string.</span></span> <span data-ttu-id="53415-223">Tyto znaky jsou ignorovány, pokud použijete <xref:System.String.Compare%2A?displayProperty=nameWithType> a <xref:System.String.Equals%2A?displayProperty=nameWithType> metody k provádění porovnání zohledňující jazykovou verzi (včetně porovnání, která používají invariantní jazyková verze).</span><span class="sxs-lookup"><span data-stu-id="53415-223">These characters are ignored when you use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.Equals%2A?displayProperty=nameWithType> methods to perform culture-sensitive comparisons (including comparisons that use the invariant culture).</span></span> <span data-ttu-id="53415-224">V důsledku toho v porovnání zohledňující jazykovou verzi, řetězce obsahující vložené znaky null lze považovat za rovno řetězci, které nepodporují.</span><span class="sxs-lookup"><span data-stu-id="53415-224">As a result, in culture-sensitive comparisons, strings that contain embedded null characters can be considered equal to strings that do not.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="53415-225">I když metod pro porovnávání řetězců ignorovat vložené znaky null, řetězec hledání metody jako <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>, a <xref:System.String.StartsWith%2A?displayProperty=nameWithType> nepodporují.</span><span class="sxs-lookup"><span data-stu-id="53415-225">Although string comparison methods disregard embedded null characters, string search methods such as <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>, and <xref:System.String.StartsWith%2A?displayProperty=nameWithType> do not.</span></span>  
  
 <span data-ttu-id="53415-226">Následující příklad provádí porovnání zohledňující jazykovou verzi řetězec "Aa" podobně jako řetězec, který obsahuje několik vložené znaky null mezi "A" a "a" a ukazuje, jak dva řetězce považovány za shodné.</span><span class="sxs-lookup"><span data-stu-id="53415-226">The following example performs a culture-sensitive comparison of the string "Aa" with a similar string that contains several embedded null characters between "A" and "a", and shows how the two strings are considered equal.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls1.cs#19)]
 [!code-vb[Conceptual.Strings.BestPractices#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls1.vb#19)]  
  
 <span data-ttu-id="53415-227">Ale řetězce nejsou považovány za shodné při použít řadové porovnání, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="53415-227">However, the strings are not considered equal when you use ordinal comparison, as the following example shows.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls2.cs#20)]
 [!code-vb[Conceptual.Strings.BestPractices#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls2.vb#20)]  
  
 <span data-ttu-id="53415-228">Ordinální porovnání velká a malá písmena jsou další nejrestriktivnější přístup.</span><span class="sxs-lookup"><span data-stu-id="53415-228">Case-insensitive ordinal comparisons are the next most conservative approach.</span></span> <span data-ttu-id="53415-229">Tato porovnání ignorovat většina malých a velkých písmen; například "windows" odpovídá "Windows".</span><span class="sxs-lookup"><span data-stu-id="53415-229">These comparisons ignore most casing; for example, "windows" matches "Windows".</span></span> <span data-ttu-id="53415-230">Při zpracování komplexnějších znaky ASCII, tato zásada je ekvivalentní <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>, s tím rozdílem, že je ignorován obvykle ASCII velká a malá písmena.</span><span class="sxs-lookup"><span data-stu-id="53415-230">When dealing with ASCII characters, this policy is equivalent to <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>, except that it ignores the usual ASCII casing.</span></span> <span data-ttu-id="53415-231">Proto jakémukoliv znaku v [A, Z] (\u0041-\u005A) odpovídá na odpovídající znak v [, z] (\u0061-\007A).</span><span class="sxs-lookup"><span data-stu-id="53415-231">Therefore, any character in [A, Z] (\u0041-\u005A) matches the corresponding character in [a,z] (\u0061-\007A).</span></span> <span data-ttu-id="53415-232">Velká a malá písmena mimo rozsah ASCII používá invariantní jazyková verze tabulky.</span><span class="sxs-lookup"><span data-stu-id="53415-232">Casing outside the ASCII range uses the invariant culture's tables.</span></span> <span data-ttu-id="53415-233">Proto se na toto porovnání:</span><span class="sxs-lookup"><span data-stu-id="53415-233">Therefore, the following comparison:</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#4)]
 [!code-vb[Conceptual.Strings.BestPractices#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#4)]  
  
 <span data-ttu-id="53415-234">je ekvivalentní k (ale rychlejší než) Toto porovnání:</span><span class="sxs-lookup"><span data-stu-id="53415-234">is equivalent to (but faster than) this comparison:</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#5)]
 [!code-vb[Conceptual.Strings.BestPractices#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#5)]  
  
 <span data-ttu-id="53415-235">Tato porovnání jsou stále velmi rychle.</span><span class="sxs-lookup"><span data-stu-id="53415-235">These comparisons are still very fast.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="53415-236">Řetězec chování systému souborů, klíčů registru a hodnoty a proměnné prostředí je reprezentována nejlépe <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-236">The string behavior of the file system, registry keys and values, and environment variables is best represented by <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-237">Obě <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> a <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> přímo použít binární hodnoty a jsou nejvhodnější pro porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-237">Both <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> and <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> use the binary values directly, and are best suited for matching.</span></span> <span data-ttu-id="53415-238">Pokud si nejste jisti o porovnání nastavení, použijte jednu z těchto dvou hodnot.</span><span class="sxs-lookup"><span data-stu-id="53415-238">When you are not sure about your comparison settings, use one of these two values.</span></span> <span data-ttu-id="53415-239">Ale protože provádějí porovnání bajt po bajtu, neposkytují řazení lingvistické řazení (např. angličtinu slovník), ale binární řazení.</span><span class="sxs-lookup"><span data-stu-id="53415-239">However, because they perform a byte-by-byte comparison, they do not sort by a linguistic sort order (like an English dictionary) but by a binary sort order.</span></span> <span data-ttu-id="53415-240">Ve většině případů, pokud se zobrazí uživatelům může připadat výsledky.</span><span class="sxs-lookup"><span data-stu-id="53415-240">The results may look odd in most contexts if displayed to users.</span></span>  
  
 <span data-ttu-id="53415-241">Ordinální sémantika je výchozí nastavení pro <xref:System.String.Equals%2A?displayProperty=nameWithType> přetížení, které nejsou zahrnuté <xref:System.StringComparison> argument (včetně operátor rovnosti).</span><span class="sxs-lookup"><span data-stu-id="53415-241">Ordinal semantics are the default for <xref:System.String.Equals%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> argument (including the equality operator).</span></span> <span data-ttu-id="53415-242">V každém případě doporučujeme volat přetížení, která má <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-242">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter.</span></span>  
  
### <a name="string-operations-that-use-the-invariant-culture"></a><span data-ttu-id="53415-243">Operace s řetězci, které používají neutrální jazykovou verzi</span><span class="sxs-lookup"><span data-stu-id="53415-243">String Operations that Use the Invariant Culture</span></span>  
 <span data-ttu-id="53415-244">Porovnávání pomocí neutrální jazykové verze <xref:System.Globalization.CultureInfo.CompareInfo%2A> vrácené statickou vlastnost <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-244">Comparisons with the invariant culture use the <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="53415-245">Toto chování je stejné ve všech systémech. převádí všechny znaky mimo rozsah na co považuje za ekvivalentní invariantní znaků.</span><span class="sxs-lookup"><span data-stu-id="53415-245">This behavior is the same on all systems; it translates any characters outside its range into what it believes are equivalent invariant characters.</span></span> <span data-ttu-id="53415-246">Tato zásada může být užitečné pro zachování jednu sadu řetězec chování mezi jazykové verze, ale často poskytuje neočekávané výsledky.</span><span class="sxs-lookup"><span data-stu-id="53415-246">This policy can be useful for maintaining one set of string behavior across cultures, but it often provides unexpected results.</span></span>  
  
 <span data-ttu-id="53415-247">Porovnávání pomocí neutrální jazykové verze používá statickou <xref:System.Globalization.CultureInfo.CompareInfo%2A> vrácené statickou vlastnost <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> vlastnost pro informace o porovnávání.</span><span class="sxs-lookup"><span data-stu-id="53415-247">Case-insensitive comparisons with the invariant culture use the static <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property for comparison information as well.</span></span> <span data-ttu-id="53415-248">Všechny velikosti písmen rozdíly mezi těmito přeloženými znaky se ignorují.</span><span class="sxs-lookup"><span data-stu-id="53415-248">Any case differences among these translated characters are ignored.</span></span>  
  
 <span data-ttu-id="53415-249">Porovnání, která používají <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> pracovat stejně jako na řetězce ASCII.</span><span class="sxs-lookup"><span data-stu-id="53415-249">Comparisons that use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> and <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> work identically on ASCII strings.</span></span> <span data-ttu-id="53415-250">Ale <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> díky lingvistické rozhodnutí, které nemusí být vhodný pro řetězce, které mají být vykládány jako řadu bajtů.</span><span class="sxs-lookup"><span data-stu-id="53415-250">However, <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> makes linguistic decisions that might not be appropriate for strings that have to be interpreted as a set of bytes.</span></span> <span data-ttu-id="53415-251">`CultureInfo.InvariantCulture.CompareInfo` Objektu provede <xref:System.String.Compare%2A> metoda interpretovat jako ekvivalentní určité sady znaků.</span><span class="sxs-lookup"><span data-stu-id="53415-251">The `CultureInfo.InvariantCulture.CompareInfo` object makes the <xref:System.String.Compare%2A> method interpret certain sets of characters as equivalent.</span></span> <span data-ttu-id="53415-252">Například následující rovnost je platný pro invariantní jazykovou verzi:</span><span class="sxs-lookup"><span data-stu-id="53415-252">For example, the following equivalence is valid under the invariant culture:</span></span>  
  
 <span data-ttu-id="53415-253">InvariantCulture: + ̊ =</span><span class="sxs-lookup"><span data-stu-id="53415-253">InvariantCulture: a + ̊ = å</span></span>  
  
 <span data-ttu-id="53415-254">LATIN malé písmeno A znak "a" (\u0061), když je vedle KOMBINOVÁNÍ KROUŽKEM znak "+"̊"(\u030a), je interpretován jako LATINCE malé písmeno s KROUŽKEM znak"å"(\u00e5).</span><span class="sxs-lookup"><span data-stu-id="53415-254">The LATIN SMALL LETTER A character "a"  (\u0061), when it is next to the COMBINING RING ABOVE character "+ " ̊" (\u030a), is interpreted as the LATIN SMALL LETTER A WITH RING ABOVE character "å" (\u00e5).</span></span> <span data-ttu-id="53415-255">Jak ukazuje následující příklad, toto chování se liší od ordinálního porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-255">As the following example shows, this behavior differs from ordinal comparison.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison3.cs#15)]
 [!code-vb[Conceptual.Strings.BestPractices#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison3.vb#15)]  
  
 <span data-ttu-id="53415-256">Při interpretaci názvů souborů, souborů cookie nebo cokoli jiného, kde se mohou objevit kombinaci, jako je například "å", pořadové porovnávání stále nabízet chování nejtransparentnější a nejvhodnější.</span><span class="sxs-lookup"><span data-stu-id="53415-256">When interpreting file names, cookies, or anything else where a combination such as "å" can appear, ordinal comparisons still offer the most transparent and fitting behavior.</span></span>  
  
 <span data-ttu-id="53415-257">Neutrální jazykovou verzi na zůstatek, má jen několik vlastností, které jsou užitečné pro porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-257">On balance, the invariant culture has very few properties that make it useful for comparison.</span></span> <span data-ttu-id="53415-258">Provede porovnání lingvistických relevantní způsobem, který brání jeho zaručení plné ekvivalence, ale není to volbou pro zobrazení v žádné jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-258">It does comparison in a linguistically relevant manner, which prevents it from guaranteeing full symbolic equivalence, but it is not the choice for display in any culture.</span></span> <span data-ttu-id="53415-259">Jeden z několika důvodů, proč používat <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> pro porovnání je pro trvalé ukládání seřazený napříč kulturami stejné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="53415-259">One of the few reasons to use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> for comparison is to persist ordered data for a cross-culturally identical display.</span></span> <span data-ttu-id="53415-260">Například pokud soubor velkých objemů dat, který obsahuje seznam seřazený identifikátory pro zobrazení doprovází aplikace, přidání do tohoto seznamu vyžadovat vložení pomocí řazení ve stylu invariantní.</span><span class="sxs-lookup"><span data-stu-id="53415-260">For example, if a large data file that contains a list of sorted identifiers for display accompanies an application, adding to this list would require an insertion with invariant-style sorting.</span></span>  
  
 [<span data-ttu-id="53415-261">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-261">Back to top</span></span>](#top)  
  
<a name="choosing_a_stringcomparison_member_for_your_method_call"></a>   
## <a name="choosing-a-stringcomparison-member-for-your-method-call"></a><span data-ttu-id="53415-262">Výběr člena StringComparison, který vaše volání metody</span><span class="sxs-lookup"><span data-stu-id="53415-262">Choosing a StringComparison Member for Your Method Call</span></span>  
 <span data-ttu-id="53415-263">Následující tabulka uvádí mapování z kontextu sémantického <xref:System.StringComparison> člena výčtu.</span><span class="sxs-lookup"><span data-stu-id="53415-263">The following table outlines the mapping from semantic string context to a <xref:System.StringComparison> enumeration member.</span></span>  
  
|<span data-ttu-id="53415-264">Data</span><span class="sxs-lookup"><span data-stu-id="53415-264">Data</span></span>|<span data-ttu-id="53415-265">Chování</span><span class="sxs-lookup"><span data-stu-id="53415-265">Behavior</span></span>|<span data-ttu-id="53415-266">Odpovídající System.StringComparison</span><span class="sxs-lookup"><span data-stu-id="53415-266">Corresponding System.StringComparison</span></span><br /><br /> <span data-ttu-id="53415-267">value</span><span class="sxs-lookup"><span data-stu-id="53415-267">value</span></span>|  
|----------|--------------|-----------------------------------------------------|  
|<span data-ttu-id="53415-268">Malá a velká písmena identifikátorů interní.</span><span class="sxs-lookup"><span data-stu-id="53415-268">Case-sensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="53415-269">Malá a velká písmena identifikátorů standardů, jako jsou XML a HTTP.</span><span class="sxs-lookup"><span data-stu-id="53415-269">Case-sensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="53415-270">Malá a velká písmena nastavení související se zabezpečením.</span><span class="sxs-lookup"><span data-stu-id="53415-270">Case-sensitive security-related settings.</span></span>|<span data-ttu-id="53415-271">Nejazykové identifikátor, kde se přesně shodují bajtů.</span><span class="sxs-lookup"><span data-stu-id="53415-271">A non-linguistic identifier, where bytes match exactly.</span></span>|<xref:System.StringComparison.Ordinal>|  
|<span data-ttu-id="53415-272">Malá a velká písmena identifikátorů interní.</span><span class="sxs-lookup"><span data-stu-id="53415-272">Case-insensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="53415-273">Malá a velká písmena identifikátorů standardů, jako jsou XML a HTTP.</span><span class="sxs-lookup"><span data-stu-id="53415-273">Case-insensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="53415-274">Cesty k souborům.</span><span class="sxs-lookup"><span data-stu-id="53415-274">File paths.</span></span><br /><br /> <span data-ttu-id="53415-275">Klíče registru a hodnoty.</span><span class="sxs-lookup"><span data-stu-id="53415-275">Registry keys and values.</span></span><br /><br /> <span data-ttu-id="53415-276">Proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="53415-276">Environment variables.</span></span><br /><br /> <span data-ttu-id="53415-277">Identifikátory prostředků (například názvy popisovač).</span><span class="sxs-lookup"><span data-stu-id="53415-277">Resource identifiers (for example, handle names).</span></span><br /><br /> <span data-ttu-id="53415-278">Malá a velká písmena nastavení související se zabezpečením.</span><span class="sxs-lookup"><span data-stu-id="53415-278">Case-insensitive security-related settings.</span></span>|<span data-ttu-id="53415-279">Nejazykové identifikátor, kde je bezvýznamná; případ zejména data uložená v většina služeb systému Windows.</span><span class="sxs-lookup"><span data-stu-id="53415-279">A non-linguistic identifier, where case is irrelevant; especially data stored in most Windows system services.</span></span>|<xref:System.StringComparison.OrdinalIgnoreCase>|  
|<span data-ttu-id="53415-280">Trvalé, lingvistických relevantní data.</span><span class="sxs-lookup"><span data-stu-id="53415-280">Some persisted, linguistically relevant data.</span></span><br /><br /> <span data-ttu-id="53415-281">Zobrazit údaje o jazyku, který vyžaduje pořadí opravené seřadit.</span><span class="sxs-lookup"><span data-stu-id="53415-281">Display of linguistic data that requires a fixed sort order.</span></span>|<span data-ttu-id="53415-282">Jazykově nezávislá data, která je stále lingvistických relevantní.</span><span class="sxs-lookup"><span data-stu-id="53415-282">Culturally agnostic data that still is linguistically relevant.</span></span>|<xref:System.StringComparison.InvariantCulture><br /><br /> <span data-ttu-id="53415-283">-nebo-</span><span class="sxs-lookup"><span data-stu-id="53415-283">-or-</span></span><br /><br /> <xref:System.StringComparison.InvariantCultureIgnoreCase>|  
|<span data-ttu-id="53415-284">Data zobrazená pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="53415-284">Data displayed to the user.</span></span><br /><br /> <span data-ttu-id="53415-285">Většina vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="53415-285">Most user input.</span></span>|<span data-ttu-id="53415-286">Data, která vyžaduje místní lingvistické.</span><span class="sxs-lookup"><span data-stu-id="53415-286">Data that requires local linguistic customs.</span></span>|<xref:System.StringComparison.CurrentCulture><br /><br /> <span data-ttu-id="53415-287">-nebo-</span><span class="sxs-lookup"><span data-stu-id="53415-287">-or-</span></span><br /><br /> <xref:System.StringComparison.CurrentCultureIgnoreCase>|  
  
 [<span data-ttu-id="53415-288">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-288">Back to top</span></span>](#top)  
  
<a name="common_string_comparison_methods_in_the_net_framework"></a>   
## <a name="common-string-comparison-methods-in-net"></a><span data-ttu-id="53415-289">Běžné metody pro porovnávání řetězců v .NET</span><span class="sxs-lookup"><span data-stu-id="53415-289">Common String Comparison Methods in .NET</span></span>  
 <span data-ttu-id="53415-290">Následující části popisují metody, které se nejčastěji používají pro porovnání řetězců.</span><span class="sxs-lookup"><span data-stu-id="53415-290">The following sections describe the methods that are most commonly used for string comparison.</span></span>  
  
### <a name="stringcompare"></a><span data-ttu-id="53415-291">String.Compare</span><span class="sxs-lookup"><span data-stu-id="53415-291">String.Compare</span></span>  
 <span data-ttu-id="53415-292">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-292">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-293">Jako většina centrální k interpretaci řetězec operace by měla být prozkoumána všech instancí těchto volání metod určit, zda řetězce by měla být interpretováno podle aktuální jazykové verze nebo oddělen od jazykovou verzi (symbolicky).</span><span class="sxs-lookup"><span data-stu-id="53415-293">As the operation most central to string interpretation, all instances of these method calls should be examined to determine whether strings should be interpreted according to the current culture, or dissociated from the culture (symbolically).</span></span> <span data-ttu-id="53415-294">Obvykle je ten a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> porovnání by místo toho používat.</span><span class="sxs-lookup"><span data-stu-id="53415-294">Typically, it is the latter, and a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> comparison should be used instead.</span></span>  
  
 <span data-ttu-id="53415-295"><xref:System.Globalization.CompareInfo?displayProperty=nameWithType> Třída, která je vrácena <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> také obsahuje vlastnosti, <xref:System.Globalization.CompareInfo.Compare%2A> metodu, která obsahuje velký počet odpovídající možnosti (řádové, ignorování prázdných znaků, typu ignoruje kana a tak dále) prostřednictvím <xref:System.Globalization.CompareOptions> příznak výčet.</span><span class="sxs-lookup"><span data-stu-id="53415-295">The <xref:System.Globalization.CompareInfo?displayProperty=nameWithType> class, which is returned by the <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property, also includes a <xref:System.Globalization.CompareInfo.Compare%2A> method that provides a large number of matching options (ordinal, ignoring white space, ignoring kana type, and so on) by means of the <xref:System.Globalization.CompareOptions> flag enumeration.</span></span>  
  
### <a name="stringcompareto"></a><span data-ttu-id="53415-296">String.CompareTo</span><span class="sxs-lookup"><span data-stu-id="53415-296">String.CompareTo</span></span>  
 <span data-ttu-id="53415-297">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-297">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-298">Tato metoda aktuálně nenabízí přetížení, která určuje <xref:System.StringComparison> typu.</span><span class="sxs-lookup"><span data-stu-id="53415-298">This method does not currently offer an overload that specifies a <xref:System.StringComparison> type.</span></span> <span data-ttu-id="53415-299">Obvykle je možné převést tuto metodu na doporučenou <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> formuláře.</span><span class="sxs-lookup"><span data-stu-id="53415-299">It is usually possible to convert this method to the recommended <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> form.</span></span>  
  
 <span data-ttu-id="53415-300">Typy, které implementují <xref:System.IComparable> a <xref:System.IComparable%601> tuto metodu implementovat rozhraní.</span><span class="sxs-lookup"><span data-stu-id="53415-300">Types that implement the <xref:System.IComparable> and <xref:System.IComparable%601> interfaces implement this method.</span></span> <span data-ttu-id="53415-301">Vzhledem k tomu, že nenabízí možnost <xref:System.StringComparison> parametr, implementace typy často umožní uživateli zadat <xref:System.StringComparer> v jejich konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="53415-301">Because it does not offer the option of a <xref:System.StringComparison> parameter, implementing types often let the user specify a <xref:System.StringComparer> in their constructor.</span></span> <span data-ttu-id="53415-302">Následující příklad definuje `FileName` třídy, jejíž konstruktor třídy zahrnuje <xref:System.StringComparer> parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-302">The following example defines a `FileName` class whose class constructor includes a <xref:System.StringComparer> parameter.</span></span> <span data-ttu-id="53415-303">To <xref:System.StringComparer> objekt se pak použije v `FileName.CompareTo` metody.</span><span class="sxs-lookup"><span data-stu-id="53415-303">This <xref:System.StringComparer> object is then used in the `FileName.CompareTo` method.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/api1.cs#6)]
 [!code-vb[Conceptual.Strings.BestPractices#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/api1.vb#6)]  
  
### <a name="stringequals"></a><span data-ttu-id="53415-304">String.Equals</span><span class="sxs-lookup"><span data-stu-id="53415-304">String.Equals</span></span>  
 <span data-ttu-id="53415-305">Výchozí interpretaci: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-305">Default interpretation: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-306"><xref:System.String> Třída umožňuje testovat rovnost voláním buď statické, nebo instanci <xref:System.String.Equals%2A> přetížení metody, nebo pomocí operátoru rovnosti statické.</span><span class="sxs-lookup"><span data-stu-id="53415-306">The <xref:System.String> class lets you test for equality by calling either the static or instance <xref:System.String.Equals%2A> method overloads, or by using the static equality operator.</span></span> <span data-ttu-id="53415-307">Přetížení a operátor použít řadové porovnání ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="53415-307">The overloads and operator use ordinal comparison by default.</span></span> <span data-ttu-id="53415-308">Ale doporučujeme, že můžete volat přetížení, které explicitně určuje <xref:System.StringComparison> typ i v případě, že chcete provést řadové porovnání; to usnadňuje vyhledávání kódu pro určité interpretace řetězce.</span><span class="sxs-lookup"><span data-stu-id="53415-308">However, we still recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type even if you want to perform an ordinal comparison; this makes it easier to search code for a certain string interpretation.</span></span>  
  
### <a name="stringtoupper-and-stringtolower"></a><span data-ttu-id="53415-309">String.ToUpper a String.ToLower</span><span class="sxs-lookup"><span data-stu-id="53415-309">String.ToUpper and String.ToLower</span></span>  
 <span data-ttu-id="53415-310">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-310">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-311">Měli byste být opatrní při použití těchto metod, protože vynucení řetězec na velká nebo malá písmena se často používá jako malé normalizace pro porovnávání řetězců bez ohledu na malá.</span><span class="sxs-lookup"><span data-stu-id="53415-311">You should be careful when you use these methods, because forcing a string to a uppercase or lowercase is often used as a small normalization for comparing strings regardless of case.</span></span> <span data-ttu-id="53415-312">V takovém případě zvažte použití porovnávání.</span><span class="sxs-lookup"><span data-stu-id="53415-312">If so, consider using a case-insensitive comparison.</span></span>  
  
 <span data-ttu-id="53415-313"><xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> a <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> metody jsou také k dispozici.</span><span class="sxs-lookup"><span data-stu-id="53415-313">The <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> and <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> methods are also available.</span></span> <span data-ttu-id="53415-314"><xref:System.String.ToUpperInvariant%2A> je standardní způsob, jak normalizovat případ.</span><span class="sxs-lookup"><span data-stu-id="53415-314"><xref:System.String.ToUpperInvariant%2A> is the standard way to normalize case.</span></span> <span data-ttu-id="53415-315">Porovnání pomocí <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> jsou složením dvě volání: volání <xref:System.String.ToUpperInvariant%2A> na řetězcové argumenty a to v porovnání s použitím <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-315">Comparisons made using <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> are behaviorally the composition of two calls: calling <xref:System.String.ToUpperInvariant%2A> on both string arguments, and doing a comparison using <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-316">Přetížení jsou také k dispozici pro převod na velká a malá písmena v konkrétní jazykovou verzi, tím, že předáte <xref:System.Globalization.CultureInfo> objekt, který představuje tuto jazykovou verzi k metodě.</span><span class="sxs-lookup"><span data-stu-id="53415-316">Overloads are also available for converting to uppercase and lowercase in a specific culture, by passing a <xref:System.Globalization.CultureInfo> object that represents that culture to the method.</span></span>  
  
### <a name="chartoupper-and-chartolower"></a><span data-ttu-id="53415-317">Char.ToUpper – a Char.ToLower</span><span class="sxs-lookup"><span data-stu-id="53415-317">Char.ToUpper and Char.ToLower</span></span>  
 <span data-ttu-id="53415-318">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-318">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-319">Tyto metody fungují podobně jako <xref:System.String.ToUpper%2A?displayProperty=nameWithType> a <xref:System.String.ToLower%2A?displayProperty=nameWithType> metod popsaných v předchozí části.</span><span class="sxs-lookup"><span data-stu-id="53415-319">These methods work similarly to the <xref:System.String.ToUpper%2A?displayProperty=nameWithType> and <xref:System.String.ToLower%2A?displayProperty=nameWithType> methods described in the previous section.</span></span>  
  
### <a name="stringstartswith-and-stringendswith"></a><span data-ttu-id="53415-320">String.StartsWith a String.EndsWith</span><span class="sxs-lookup"><span data-stu-id="53415-320">String.StartsWith and String.EndsWith</span></span>  
 <span data-ttu-id="53415-321">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-321">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-322">Ve výchozím nastavení obě tyto metody provádět porovnání zohledňující jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-322">By default, both of these methods perform a culture-sensitive comparison.</span></span>  
  
### <a name="stringindexof-and-stringlastindexof"></a><span data-ttu-id="53415-323">String.IndexOf a String.LastIndexOf</span><span class="sxs-lookup"><span data-stu-id="53415-323">String.IndexOf and String.LastIndexOf</span></span>  
 <span data-ttu-id="53415-324">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-324">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-325">Existuje souvisí s nedostatečnou konzistencí v jak výchozím přetížením metod provést porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-325">There is a lack of consistency in how the default overloads of these methods perform comparisons.</span></span> <span data-ttu-id="53415-326">Všechny <xref:System.String.IndexOf%2A?displayProperty=nameWithType> a <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> metody, které patří <xref:System.Char> parametru provede pořadové porovnávání, ale výchozí <xref:System.String.IndexOf%2A?displayProperty=nameWithType> a <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> metody, které obsahují <xref:System.String> parametru provede zohledňující jazykovou verzi porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-326">All <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.Char> parameter perform an ordinal comparison, but the default <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.String> parameter perform a culture-sensitive comparison.</span></span>  
  
 <span data-ttu-id="53415-327">Při volání <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> nebo <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> metoda a předejte jí řetězec pro vyhledání v aktuální instanci aplikace, doporučujeme vám, že můžete volat přetížení, které explicitně určuje <xref:System.StringComparison> typu.</span><span class="sxs-lookup"><span data-stu-id="53415-327">If you call the <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> method and pass it a string to locate in the current instance, we recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type.</span></span> <span data-ttu-id="53415-328">Přetížení, které obsahují <xref:System.Char> argument neumožňuje zadat <xref:System.StringComparison> typu.</span><span class="sxs-lookup"><span data-stu-id="53415-328">The overloads that include a <xref:System.Char> argument do not allow you to specify a <xref:System.StringComparison> type.</span></span>  
  
 [<span data-ttu-id="53415-329">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-329">Back to top</span></span>](#top)  
  
<a name="methods_that_perform_string_comparison_indirectly"></a>   
## <a name="methods-that-perform-string-comparison-indirectly"></a><span data-ttu-id="53415-330">Metody, které nepřímo provést porovnání řetězců</span><span class="sxs-lookup"><span data-stu-id="53415-330">Methods that Perform String Comparison Indirectly</span></span>  
 <span data-ttu-id="53415-331">Některé neřetězcové metody, které mají porovnání řetězců jako použití centrální operaci <xref:System.StringComparer> typu.</span><span class="sxs-lookup"><span data-stu-id="53415-331">Some non-string methods that have string comparison as a central operation use the <xref:System.StringComparer> type.</span></span> <span data-ttu-id="53415-332"><xref:System.StringComparer> Třída obsahuje šest statické vlastnosti, které vracejí <xref:System.StringComparer> instance, jejíž <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> metody provádět následující typy porovnávání řetězců:</span><span class="sxs-lookup"><span data-stu-id="53415-332">The <xref:System.StringComparer> class includes six static properties that return <xref:System.StringComparer> instances whose <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> methods perform the following types of string comparisons:</span></span>  
  
- <span data-ttu-id="53415-333">Porovnání řetězců zohledňující jazykovou verzi pomocí aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-333">Culture-sensitive string comparisons using the current culture.</span></span> <span data-ttu-id="53415-334">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-334">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="53415-335">Malá a velká písmena porovnání použitím aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-335">Case-insensitive comparisons using the current culture.</span></span> <span data-ttu-id="53415-336">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-336">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="53415-337">Porovnání nezávislá na jazykové verzi pomocí pravidel pro slova porovnání invariantní jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-337">Culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="53415-338">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-338">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="53415-339">Porovnání velká a malá písmena a nezávislé na jazykové verzi pomocí pravidel pro slova porovnání invariantní jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-339">Case-insensitive and culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="53415-340">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-340">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="53415-341">Ordinálního porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-341">Ordinal comparison.</span></span> <span data-ttu-id="53415-342">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-342">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="53415-343">Malá a velká písmena ordinálního porovnání.</span><span class="sxs-lookup"><span data-stu-id="53415-343">Case-insensitive ordinal comparison.</span></span> <span data-ttu-id="53415-344">To <xref:System.StringComparer> objekt je vrácen rutinou <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-344">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>  
  
### <a name="arraysort-and-arraybinarysearch"></a><span data-ttu-id="53415-345">Array.Sort a Array.BinarySearch</span><span class="sxs-lookup"><span data-stu-id="53415-345">Array.Sort and Array.BinarySearch</span></span>  
 <span data-ttu-id="53415-346">Výchozí interpretaci: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="53415-346">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="53415-347">Při ukládání dat v kolekci, nebo přečíst trvalá data ze souboru nebo databáze do kolekce, mohou zneplatnit přepínání aktuální jazykové verze výstupních podmínek v kolekci.</span><span class="sxs-lookup"><span data-stu-id="53415-347">When you store any data in a collection, or read persisted data from a file or database into a collection, switching the current culture can invalidate the invariants in the collection.</span></span> <span data-ttu-id="53415-348"><xref:System.Array.BinarySearch%2A?displayProperty=nameWithType> Metoda předpokládá, že jsou již seřazeny prvků v poli pro hledání.</span><span class="sxs-lookup"><span data-stu-id="53415-348">The <xref:System.Array.BinarySearch%2A?displayProperty=nameWithType> method assumes that the elements in the array to be searched are already sorted.</span></span> <span data-ttu-id="53415-349">Řazení libovolný prvek řetězce v poli, <xref:System.Array.Sort%2A?displayProperty=nameWithType> volání metod <xref:System.String.Compare%2A?displayProperty=nameWithType> metody pro řazení jednotlivých prvků.</span><span class="sxs-lookup"><span data-stu-id="53415-349">To sort any string element in the array, the <xref:System.Array.Sort%2A?displayProperty=nameWithType> method calls the <xref:System.String.Compare%2A?displayProperty=nameWithType> method to order individual elements.</span></span> <span data-ttu-id="53415-350">Použití porovnávání zohledňující jazykovou verzi může být nebezpečné, pokud jsou prohledávány změny jazykové verze mezi časem, který je seřazen pole a jeho obsah.</span><span class="sxs-lookup"><span data-stu-id="53415-350">Using a culture-sensitive comparer can be dangerous if the culture changes between the time that the array is sorted and its contents are searched.</span></span> <span data-ttu-id="53415-351">Například v následujícím kódu, ukládání a načítání provádět porovnávací metody, která je k dispozici implicitně `Thread.CurrentThread.CurrentCulture` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-351">For example, in the following code, storage and retrieval operate on the comparer that is provided implicitly by the `Thread.CurrentThread.CurrentCulture` property.</span></span> <span data-ttu-id="53415-352">Pokud jazykovou verzi může změnit mezi volání `StoreNames` a `DoesNameExist`, a zejména v případě, že je obsah pole jsou trvalé někde mezi dvěma voláními, binární vyhledávání může selhat.</span><span class="sxs-lookup"><span data-stu-id="53415-352">If the culture can change between the calls to `StoreNames` and `DoesNameExist`, and especially if the array contents are persisted somewhere between the two method calls, the binary search may fail.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#7)]
 [!code-vb[Conceptual.Strings.BestPractices#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#7)]  
  
 <span data-ttu-id="53415-353">V následujícím příkladu, který používá stejné metody porovnání podle pořadového čísla (nezávislých na jazykové verzi), řazení a vyhledávání pole se zobrazí doporučená varianta.</span><span class="sxs-lookup"><span data-stu-id="53415-353">A recommended variation appears in the following example, which uses the same ordinal (culture-insensitive) comparison method both to sort and to search the array.</span></span> <span data-ttu-id="53415-354">Změna kódu se projeví v řádcích označené `Line A` a `Line B` v obou příkladech.</span><span class="sxs-lookup"><span data-stu-id="53415-354">The change code is reflected in the lines labeled `Line A` and `Line B` in the two examples.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#8)]
 [!code-vb[Conceptual.Strings.BestPractices#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#8)]  
  
 <span data-ttu-id="53415-355">Pokud tato data je trvalá a přesouvat mezi jazykové verze a řazení se používá k zobrazení těchto dat pro uživatele, můžete zvážit použití <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType>, jež pracuje lingvistických pro lepší uživatelský výstup je ale nebudou výpadkem ovlivněny změnami v jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-355">If this data is persisted and moved across cultures, and sorting is used to present this data to the user, you might consider using <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType>, which operates linguistically for better user output but is unaffected by changes in culture.</span></span> <span data-ttu-id="53415-356">Následující příklad upravuje tyto dva příklady předchozí použití invariantní jazykovou verzi pro řazení a vyhledávání pole.</span><span class="sxs-lookup"><span data-stu-id="53415-356">The following example modifies the two previous examples to use the invariant culture for sorting and searching the array.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#9)]
 [!code-vb[Conceptual.Strings.BestPractices#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#9)]  
  
### <a name="collections-example-hashtable-constructor"></a><span data-ttu-id="53415-357">Příklad kolekcí: Konstruktor zatřiďovací tabulky</span><span class="sxs-lookup"><span data-stu-id="53415-357">Collections Example: Hashtable Constructor</span></span>  
 <span data-ttu-id="53415-358">Druhý příklad: operace, která je tím ovlivněná tím, jak ve kterém jsou řetězce porovnány algoritmu hash řetězců poskytuje.</span><span class="sxs-lookup"><span data-stu-id="53415-358">Hashing strings provides a second example of an operation that is affected by the way in which strings are compared.</span></span>  
  
 <span data-ttu-id="53415-359">Následující příklad vytvoří <xref:System.Collections.Hashtable> objekt ji <xref:System.StringComparer> objekt, který je vrácený <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-359">The following example instantiates a <xref:System.Collections.Hashtable> object by passing it the <xref:System.StringComparer> object that is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="53415-360">Protože třída <xref:System.StringComparer> , která je odvozena od <xref:System.StringComparer> implementuje <xref:System.Collections.IEqualityComparer> rozhraní, jeho <xref:System.Collections.IEqualityComparer.GetHashCode%2A> metoda se používá k výpočtu kódů hash řetězců v zatřiďovací tabulce.</span><span class="sxs-lookup"><span data-stu-id="53415-360">Because a class <xref:System.StringComparer> that is derived from <xref:System.StringComparer> implements the <xref:System.Collections.IEqualityComparer> interface, its <xref:System.Collections.IEqualityComparer.GetHashCode%2A> method is used to compute the hash code of strings in the hash table.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect2.cs#10)]
 [!code-vb[Conceptual.Strings.BestPractices#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect2.vb#10)]  
  
 [<span data-ttu-id="53415-361">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="53415-361">Back to top</span></span>](#top)  
  
<a name="Formatted"></a>   
## <a name="displaying-and-persisting-formatted-data"></a><span data-ttu-id="53415-362">Zobrazení a uchování formátovaných dat</span><span class="sxs-lookup"><span data-stu-id="53415-362">Displaying and Persisting Formatted Data</span></span>

<span data-ttu-id="53415-363">Při zobrazení neřetězcová data, jako je například čísla a kalendářní data a časy pro uživatele, naformátujte s použitím nastavení jazykové verze uživatele.</span><span class="sxs-lookup"><span data-stu-id="53415-363">When you display non-string data such as numbers and dates and times to users, format them by using the user's cultural settings.</span></span> <span data-ttu-id="53415-364">Ve výchozím nastavení používají aktuální jazykovou verzi vlákna v operacích formátování všechny následující:</span><span class="sxs-lookup"><span data-stu-id="53415-364">By default, the following all use the current thread culture in formatting operations:</span></span>

- <span data-ttu-id="53415-365">Interpolované řetězce se nepodporuje [ C# ](../../csharp/language-reference/tokens/interpolated.md) a [jazyka Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) kompilátory.</span><span class="sxs-lookup"><span data-stu-id="53415-365">Interpolated strings supported by the [C#](../../csharp/language-reference/tokens/interpolated.md) and [Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) compilers.</span></span>

- <span data-ttu-id="53415-366">Operace sřetězení, které používají řetězec [ C# ](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) nebo [jazyka Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md ) operátory zřetězení nebo toto volání <xref:System.String.Concat%2A?displayProperty=nameWithType> metoda přímo.</span><span class="sxs-lookup"><span data-stu-id="53415-366">String concatenation operations that use the [C#](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) or [Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md ) concatenation operators or that call the <xref:System.String.Concat%2A?displayProperty=nameWithType> method directly.</span></span>

- <span data-ttu-id="53415-367"><xref:System.String.Format%2A?displayProperty=nameWithType> Metody.</span><span class="sxs-lookup"><span data-stu-id="53415-367">The <xref:System.String.Format%2A?displayProperty=nameWithType> method.</span></span>

- <span data-ttu-id="53415-368">`ToString` Metody číselné typy a typy data a času.</span><span class="sxs-lookup"><span data-stu-id="53415-368">The `ToString` methods of the numeric types and the date and time types.</span></span>

<span data-ttu-id="53415-369">S ohledem na řetězec by měl naformátovat pomocí konvencí jiné určené jazykové verze nebo [invariantní jazyková verze](xref:System.Globalization.CultureInfo.InvariantCulture), můžete provádět následující:</span><span class="sxs-lookup"><span data-stu-id="53415-369">To explicitly specify that a string should be formatted by using the conventions of a designated culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture), you can do the following:</span></span>

- <span data-ttu-id="53415-370">Při použití <xref:System.String.Format%2A?displayProperty=nameWithType> a `ToString` metody, volejte přetížení, která má `provider` parametr, jako <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> nebo <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType>a předat ji <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> vlastnost, <xref:System.Globalization.CultureInfo> instanci, která představuje požadovaný jazykovou verzi, nebo <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-370">When using the <xref:System.String.Format%2A?displayProperty=nameWithType> and `ToString` methods, call an overload that has a `provider` parameter, such as <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> or <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType>, and pass it the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property, a <xref:System.Globalization.CultureInfo> instance that represents the desired culture, or the <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType> property.</span></span>  

- <span data-ttu-id="53415-371">Pro zřetězení řetězců neumožňují kompilátoru k provádění jakýchkoli implicitních převodů.</span><span class="sxs-lookup"><span data-stu-id="53415-371">For string concatenation, do not allow the compiler to perform any implicit conversions.</span></span> <span data-ttu-id="53415-372">Místo toho provést explicitní převod pomocí volání `ToString` přetížení, která má `provider` parametru.</span><span class="sxs-lookup"><span data-stu-id="53415-372">Instead, perform an explicit conversion by calling a `ToString` overload that has a `provider` parameter.</span></span> <span data-ttu-id="53415-373">Například kompilátor implicitně používá aktuální jazyková verze při převodu <xref:System.Double> hodnotu na řetězec v následujícím C# kódu:</span><span class="sxs-lookup"><span data-stu-id="53415-373">For example, the compiler implicitly uses the current culture when converting a <xref:System.Double> value to a string in the following C# code:</span></span>

  [!code-csharp[Implicit String Conversion](~/samples/snippets/standard/base-types/string-practices/cs/tostring.cs#1)]

  <span data-ttu-id="53415-374">Místo toho můžete explicitně určit jazykové verze, jejíž úmluvy formátování se používají v převodu pomocí volání <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType> metody, stejně jako následující C# kód dělá:</span><span class="sxs-lookup"><span data-stu-id="53415-374">Instead, you can explicitly specify the culture whose formatting conventions are used in the conversion by calling the <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType> method, as the following C# code does:</span></span>

  [!code-csharp[Explicit String Conversion](~/samples/snippets/standard/base-types/string-practices/cs/tostring.cs#2)]

- <span data-ttu-id="53415-375">Interpolace řetězců místo interpolovaného řetězce k přiřazení <xref:System.String> instance, přiřadit ji ke <xref:System.FormattableString>.</span><span class="sxs-lookup"><span data-stu-id="53415-375">For string interpolation, rather than assigning an interpolated string to a <xref:System.String> instance, assign it to a <xref:System.FormattableString>.</span></span> <span data-ttu-id="53415-376">Pak můžete volat jeho <xref:System.FormattableString.ToString?displayProperty=nameWithType> metoda vytvořit výsledný řetězec, který odráží konvence aktuální jazykové verze, nebo můžete volat <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> metodu za účelem vytvoření výsledný řetězec, který odráží konvencí zadané jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-376">You can then call its <xref:System.FormattableString.ToString?displayProperty=nameWithType> method produce a result string that reflects the conventions of the current culture, or you can call the <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> method to produce a result string that reflects the conventions of a specified culture.</span></span> <span data-ttu-id="53415-377">Můžete také předat formátovatelného řetězec statické <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> metodu za účelem vytvoření výsledný řetězec, který odráží konvencí neutrální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-377">You can also pass the formattable string to the static <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> method to produce a result string that reflects the conventions of the invariant culture.</span></span> <span data-ttu-id="53415-378">Tento postup znázorňuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="53415-378">The following example illustrates this approach.</span></span> <span data-ttu-id="53415-379">(Výstup z příkladu odráží aktuální jazykové verze en-us).</span><span class="sxs-lookup"><span data-stu-id="53415-379">(The output from the example reflects a current culture of en-US.)</span></span>

  [!code-csharp[String interpolation](~/samples/snippets/standard/base-types/string-practices/cs/formattable.cs)]
  [!code-vb[String interpolation](~/samples/snippets/standard/base-types/string-practices/vb/formattable.vb)]

<span data-ttu-id="53415-380">Jako binární data nebo jako formátovaná data je možné zachovat neřetězcová data.</span><span class="sxs-lookup"><span data-stu-id="53415-380">You can persist non-string data either as binary data or as formatted data.</span></span> <span data-ttu-id="53415-381">Pokud se rozhodnete ji uložit jako formátovaných dat, měli byste zavolat formátování přetížení metody, která zahrnuje `provider` parametr a předat ji <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="53415-381">If you choose to save it as formatted data, you should call a formatting method overload that includes a `provider` parameter and pass it the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="53415-382">Neutrální jazykové verze poskytuje konzistentní formát pro formátovaných dat, který je nezávislý na jazykové verzi a počítače.</span><span class="sxs-lookup"><span data-stu-id="53415-382">The invariant culture provides a consistent format for formatted data that is independent of culture and machine.</span></span> <span data-ttu-id="53415-383">Naproti tomu zachovává data, který je naformátovaný pomocí jazykové verze než neutrální jazykové verze má několik omezení:</span><span class="sxs-lookup"><span data-stu-id="53415-383">In contrast, persisting data that is formatted by using cultures other than the invariant culture has a number of limitations:</span></span>  
  
- <span data-ttu-id="53415-384">Data jsou pravděpodobně nebude možné použít, pokud je načten v systému, který má jinou jazykovou verzi, nebo pokud uživatel aktuálního systému změní aktuální jazykovou verzi a pokusí se načíst data.</span><span class="sxs-lookup"><span data-stu-id="53415-384">The data is likely to be unusable if it is retrieved on a system that has a different culture, or if the user of the current system changes the current culture and tries to retrieve the data.</span></span>  
  
- <span data-ttu-id="53415-385">Vlastnosti v určitém počítači jazykové verze se může lišit od standardních hodnot.</span><span class="sxs-lookup"><span data-stu-id="53415-385">The properties of a culture on a specific computer can differ from standard values.</span></span> <span data-ttu-id="53415-386">V každém okamžiku může uživatel přizpůsobit nastavení zobrazení zohledňující jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="53415-386">At any time, a user can customize culture-sensitive display settings.</span></span> <span data-ttu-id="53415-387">Z tohoto důvodu nemusí být formátovaná data, která je uložena v systému čitelné po uživatel upraví nastavení jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-387">Because of this, formatted data that is saved on a system may not be readable after the user customizes cultural settings.</span></span> <span data-ttu-id="53415-388">Přenositelnost formátovaných dat mezi počítači by mohla být ještě více omezit.</span><span class="sxs-lookup"><span data-stu-id="53415-388">The portability of formatted data across computers is likely to be even more limited.</span></span>  
  
- <span data-ttu-id="53415-389">Mezinárodní, místní nebo národní standardy, které řídí formátování čísla nebo kalendářní data a časy v průběhu času měnit a tyto změny jsou součástí aktualizací operačního systému Windows.</span><span class="sxs-lookup"><span data-stu-id="53415-389">International, regional, or national standards that govern the formatting of numbers or dates and times change over time, and these changes are incorporated into Windows operating system updates.</span></span> <span data-ttu-id="53415-390">Při změně konvence formátování, může stává se nečitelnou dat, který se naformátoval pomocí předchozí konvencí.</span><span class="sxs-lookup"><span data-stu-id="53415-390">When formatting conventions change, data that was formatted by using the previous conventions may become unreadable.</span></span>  
  
 <span data-ttu-id="53415-391">Následující příklad ukazuje omezené přenositelnost, která je výsledkem použití formátování zohledňující jazykovou verzi uchovávat data.</span><span class="sxs-lookup"><span data-stu-id="53415-391">The following example illustrates the limited portability that results from using culture-sensitive formatting to persist data.</span></span> <span data-ttu-id="53415-392">Příklad uloží do souboru pole hodnoty data a času.</span><span class="sxs-lookup"><span data-stu-id="53415-392">The example saves an array of date and time values to a file.</span></span> <span data-ttu-id="53415-393">Tyto jsou formátovány pomocí úmluv jazykové verze Angličtina (Spojené státy).</span><span class="sxs-lookup"><span data-stu-id="53415-393">These are formatted by using the conventions of the English (United States) culture.</span></span> <span data-ttu-id="53415-394">Po aplikaci se změní aktuální jazykovou verzi vlákna na Francouzština (Švýcarsko), pokusí se načíst uložené hodnoty pomocí formátovacích úmluv aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="53415-394">After the application changes the current thread culture to French (Switzerland), it tries to read the saved values by using the formatting conventions of the current culture.</span></span> <span data-ttu-id="53415-395">Pokus o čtení dat dvě položky, vyvolá výjimku <xref:System.FormatException> výjimky a pole data nyní obsahuje dva nesprávné elementy, které se rovná <xref:System.DateTime.MinValue>.</span><span class="sxs-lookup"><span data-stu-id="53415-395">The attempt to read two of the data items throws a <xref:System.FormatException> exception, and the array of dates now contains two incorrect elements that are equal to <xref:System.DateTime.MinValue>.</span></span>  
  
 [!code-csharp[Conceptual.Strings.BestPractices#21](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/persistence.cs#21)]
 [!code-vb[Conceptual.Strings.BestPractices#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/persistence.vb#21)]  
  
 <span data-ttu-id="53415-396">Ale pokud nahradíte <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> vlastnost s <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> ve volání do <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> a <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, trvalý datum a čas, data se úspěšně obnovila, jak ukazuje následující výstup.</span><span class="sxs-lookup"><span data-stu-id="53415-396">However, if you replace the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property with <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> in the calls to <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> and <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>,   the persisted date and time data is successfully restored, as the following output shows.</span></span>  
  
```console  
06.05.1758 21:26  
05.05.1818 07:19  
22.04.1870 23:54  
08.09.1890 06:47  
18.02.1905 15:12  
```  
  
## <a name="see-also"></a><span data-ttu-id="53415-397">Viz také:</span><span class="sxs-lookup"><span data-stu-id="53415-397">See also</span></span>

- [<span data-ttu-id="53415-398">Práce s řetězci</span><span class="sxs-lookup"><span data-stu-id="53415-398">Manipulating Strings</span></span>](../../../docs/standard/base-types/manipulating-strings.md)
