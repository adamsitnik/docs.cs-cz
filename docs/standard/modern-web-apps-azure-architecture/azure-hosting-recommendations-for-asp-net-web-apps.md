---
title: Doporučení pro webové aplikace ASP.NET Core hostování Azure
description: Navrhování moderních webových aplikací pomocí ASP.NET Core a Azure | Doporučení pro webové aplikace ASP.NET hostování Azure
author: ardalis
ms.author: wiwagn
ms.date: 01/30/2019
ms.openlocfilehash: 136ad9992ea94b027f095f47df0388408029f24e
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/15/2019
ms.locfileid: "65638908"
---
# <a name="azure-hosting-recommendations-for-aspnet-core-web-apps"></a><span data-ttu-id="cdea4-103">Doporučení pro webové aplikace ASP.NET Core hostování Azure</span><span class="sxs-lookup"><span data-stu-id="cdea4-103">Azure hosting recommendations for ASP.NET Core web apps</span></span>

> <span data-ttu-id="cdea4-104">"Řádku obchodní vedení všude, kde jsou obcházení oddělení IT získat aplikace z cloudu (označuje se také jako SaaS) a platit za ně je stejně, jako kdyby je sdíleli předplatné magazine.</span><span class="sxs-lookup"><span data-stu-id="cdea4-104">"Line-of-business leaders everywhere are bypassing IT departments to get applications from the cloud (aka SaaS) and paying for them like they would a magazine subscription.</span></span> <span data-ttu-id="cdea4-105">A když služby se už nevyžaduje, se předplatné zrušit se žádná zařízení left nepoužívané v pravém rohu."</span><span class="sxs-lookup"><span data-stu-id="cdea4-105">And when the service is no longer required, they can cancel the subscription with no equipment left unused in the corner."</span></span>  
> <span data-ttu-id="cdea4-106">_\- Daryl Plummer, analytik společnosti Gartner_</span><span class="sxs-lookup"><span data-stu-id="cdea4-106">_\- Daryl Plummer, Gartner analyst_</span></span>

<span data-ttu-id="cdea4-107">Všechno, co vaše aplikace potřebám a architekturu, Windows Azure může podporovat.</span><span class="sxs-lookup"><span data-stu-id="cdea4-107">Whatever your application's needs and architecture, Windows Azure can support it.</span></span> <span data-ttu-id="cdea4-108">Hostování potřeb může být stejně snadné jako statický web sofistikované aplikace tvořené řadě služeb.</span><span class="sxs-lookup"><span data-stu-id="cdea4-108">Your hosting needs can be as simple as a static website to a sophisticated application made up of dozens of services.</span></span> <span data-ttu-id="cdea4-109">Monolitické webové aplikace ASP.NET Core a podpůrných služeb existují některé známé konfigurace, které se doporučují.</span><span class="sxs-lookup"><span data-stu-id="cdea4-109">For ASP.NET Core monolithic web applications and supporting services, there are several well-known configurations that are recommended.</span></span> <span data-ttu-id="cdea4-110">Doporučení v tomto článku se seskupují podle druhu prostředku hostovat, zda celé aplikace, jednotlivé procesy nebo data.</span><span class="sxs-lookup"><span data-stu-id="cdea4-110">The recommendations on this article are grouped based on the kind of resource to be hosted, whether full applications, individual processes, or data.</span></span>

## <a name="web-applications"></a><span data-ttu-id="cdea4-111">Webové aplikace</span><span class="sxs-lookup"><span data-stu-id="cdea4-111">Web applications</span></span>

<span data-ttu-id="cdea4-112">Pomocí se dají hostovat webové aplikace:</span><span class="sxs-lookup"><span data-stu-id="cdea4-112">Web applications can be hosted with:</span></span>

- <span data-ttu-id="cdea4-113">App Service Web Apps</span><span class="sxs-lookup"><span data-stu-id="cdea4-113">App Service Web Apps</span></span>

- <span data-ttu-id="cdea4-114">Kontejnery</span><span class="sxs-lookup"><span data-stu-id="cdea4-114">Containers</span></span>

- <span data-ttu-id="cdea4-115">Virtuální počítače (VM)</span><span class="sxs-lookup"><span data-stu-id="cdea4-115">Virtual Machines (VMs)</span></span>

<span data-ttu-id="cdea4-116">App Service Web Apps z nich je doporučený postup pro většinu scénářů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-116">Of these, App Service Web Apps is the recommended approach for most scenarios.</span></span> <span data-ttu-id="cdea4-117">Pro architekturu mikroslužeb zvažte přístupu založených na kontejnerech.</span><span class="sxs-lookup"><span data-stu-id="cdea4-117">For microservice architectures, consider a container-based approach.</span></span> <span data-ttu-id="cdea4-118">Pokud potřebujete větší kontrolu nad počítače spuštěné aplikace, zvažte Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="cdea4-118">If you need more control over the machines running your application, consider Azure Virtual Machines.</span></span>

### <a name="app-service-web-apps"></a><span data-ttu-id="cdea4-119">App Service Web Apps</span><span class="sxs-lookup"><span data-stu-id="cdea4-119">App Service Web Apps</span></span>

<span data-ttu-id="cdea4-120">App Service Web Apps nabízí plně spravovaná platforma optimalizovaná pro hostování webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="cdea4-120">App Service Web Apps offers a fully managed platform optimized for hosting web applications.</span></span> <span data-ttu-id="cdea4-121">Je platforma jako služba (PaaS), nabídky, že vám umožní soustředit na obchodní logiku, zatímco Azure zajistí infrastrukturu potřebné k spouštění a škálování aplikace.</span><span class="sxs-lookup"><span data-stu-id="cdea4-121">It's a platform as a service (PaaS) offering that lets you focus on your business logic, while Azure takes care of the infrastructure needed to run and scale the app.</span></span> <span data-ttu-id="cdea4-122">Některé klíčové funkce služby App Service Web Apps:</span><span class="sxs-lookup"><span data-stu-id="cdea4-122">Some key features of App Service Web Apps:</span></span>

- <span data-ttu-id="cdea4-123">Optimalizace DevOps (průběžná integrace a doručování, více prostředí, A / B testování, podpora skriptování).</span><span class="sxs-lookup"><span data-stu-id="cdea4-123">DevOps optimization (continuous integration and delivery, multiple environments, A/B testing, scripting support).</span></span>

- <span data-ttu-id="cdea4-124">Globální škálování a vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="cdea4-124">Global scale and high availability.</span></span>

- <span data-ttu-id="cdea4-125">Připojení k platformám SaaS a firemními daty.</span><span class="sxs-lookup"><span data-stu-id="cdea4-125">Connections to SaaS platforms and your on-premises data.</span></span>

- <span data-ttu-id="cdea4-126">Zabezpečení a dodržování předpisů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-126">Security and compliance.</span></span>

- <span data-ttu-id="cdea4-127">Integrace se sadou Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cdea4-127">Visual Studio integration.</span></span>

- <span data-ttu-id="cdea4-128">Podpora kontejnerů Linuxu a Windows přes [Web App for Containers](https://azure.microsoft.com/en-us/services/app-service/containers/).</span><span class="sxs-lookup"><span data-stu-id="cdea4-128">Support for Linux and Windows containers via [Web App for Containers](https://azure.microsoft.com/en-us/services/app-service/containers/).</span></span>

<span data-ttu-id="cdea4-129">Azure App Service je nejlepší volbou pro většinu webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="cdea4-129">Azure App Service is the best choice for most web apps.</span></span> <span data-ttu-id="cdea4-130">Nasazení a správa jsou integrované do platformy, weby se rychle škálují pro zvládnutí vysokého přenosového zatížení a integrované zatížení vyrovnávání a traffic manager zajišťují vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="cdea4-130">Deployment and management are integrated into the platform, sites can scale quickly to handle high traffic loads, and the built-in load balancing and traffic manager provide high availability.</span></span> <span data-ttu-id="cdea4-131">Můžete přesunout existující weby do služby Azure App Service snadno se online nástroje pro migraci, použijte open source aplikaci z Galerie webových aplikací nebo vytvoření nového webu pomocí rozhraní a nástrojů podle vašeho výběru.</span><span class="sxs-lookup"><span data-stu-id="cdea4-131">You can move existing sites to Azure App Service easily with an online migration tool, use an open-source app from the Web Application Gallery, or create a new site using the framework and tools of your choice.</span></span> <span data-ttu-id="cdea4-132">Funkce WebJobs umožňuje snadno přidat úlohy na pozadí zpracování do webové aplikace služby App Service.</span><span class="sxs-lookup"><span data-stu-id="cdea4-132">The WebJobs feature makes it easy to add background job processing to your App Service web app.</span></span>

### <a name="azure-kubernetes-service"></a><span data-ttu-id="cdea4-133">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="cdea4-133">Azure Kubernetes Service</span></span>

<span data-ttu-id="cdea4-134">Azure Kubernetes Service (AKS) spravuje hostované prostředí Kubernetes, tak rychle a snadno nasazovat a spravovat kontejnerizované aplikace bez znalosti Orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-134">Azure Kubernetes Service (AKS) manages your hosted Kubernetes environment, making it quick and easy to deploy and manage containerized applications without container orchestration expertise.</span></span> <span data-ttu-id="cdea4-135">Také odstraní starosti související s probíhajícími operacemi a údržbou díky zřizování, upgradování a škálování prostředků na vyžádání, bez nutnosti přepínat aplikace do offline režimu.</span><span class="sxs-lookup"><span data-stu-id="cdea4-135">It also eliminates the burden of ongoing operations and maintenance by provisioning, upgrading, and scaling resources on demand, without taking your applications offline.</span></span>

<span data-ttu-id="cdea4-136">AKS snižuje složitost a provozní režií při správě clusteru Kubernetes tím spojenou díky přenášení většiny zodpovědnosti na Azure.</span><span class="sxs-lookup"><span data-stu-id="cdea4-136">AKS reduces the complexity and operational overhead of managing a Kubernetes cluster by offloading much of that responsibility to Azure.</span></span> <span data-ttu-id="cdea4-137">Jako hostovaná služba Kubernetes, Azure stará o důležité úlohy jako sledování stavu a údržby za vás.</span><span class="sxs-lookup"><span data-stu-id="cdea4-137">As a hosted Kubernetes service, Azure handles critical tasks like health monitoring and maintenance for you.</span></span> <span data-ttu-id="cdea4-138">Navíc Platíte pouze za agentské uzly v rámci vašich clusterů, ne za hlavní uzly.</span><span class="sxs-lookup"><span data-stu-id="cdea4-138">Also, you pay only for the agent nodes within your clusters, not for the masters.</span></span> <span data-ttu-id="cdea4-139">Jako spravovaná služba Kubernetes poskytuje AKS:</span><span class="sxs-lookup"><span data-stu-id="cdea4-139">As a managed Kubernetes service, AKS provides:</span></span>

- <span data-ttu-id="cdea4-140">Automatické upgrady verzí Kubernetes a opravy chyb.</span><span class="sxs-lookup"><span data-stu-id="cdea4-140">Automated Kubernetes version upgrades and patching.</span></span>
- <span data-ttu-id="cdea4-141">Snadné škálování clusterů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-141">Easy cluster scaling.</span></span>
- <span data-ttu-id="cdea4-142">Hostovanou rovinu řízení (hlavní uzly).</span><span class="sxs-lookup"><span data-stu-id="cdea4-142">Self-healing hosted control plane (masters).</span></span>
- <span data-ttu-id="cdea4-143">Úspory nákladů – Platíte pouze za spuštěné uzly fondu agentů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-143">Cost savings - pay only for running agent pool nodes.</span></span>

<span data-ttu-id="cdea4-144">S Azure stará o správu uzlů ve vašem clusteru AKS už nepotřebujete provádět mnoho úloh ručně, například upgrady clusteru.</span><span class="sxs-lookup"><span data-stu-id="cdea4-144">With Azure handling the management of the nodes in your AKS cluster, you no longer need to perform many tasks manually, like cluster upgrades.</span></span> <span data-ttu-id="cdea4-145">Protože Azure stará o tyto důležité úlohy údržby za vás, neposkytuje AKS přímý přístup (například pomocí protokolu SSH) do clusteru.</span><span class="sxs-lookup"><span data-stu-id="cdea4-145">Because Azure handles these critical maintenance tasks for you, AKS doesn't provide direct access (such as with SSH) to the cluster.</span></span>

### <a name="azure-virtual-machines"></a><span data-ttu-id="cdea4-146">Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="cdea4-146">Azure Virtual Machines</span></span>

<span data-ttu-id="cdea4-147">Pokud máte existující aplikace, které by vyžadovaly výrazné změny ke spuštění ve službě App Service, můžete zvolením služby Virtual Machines pro zjednodušení migrace do cloudu.</span><span class="sxs-lookup"><span data-stu-id="cdea4-147">If you have an existing application that would require substantial modifications to run in App Service, you could choose Virtual Machines in order to simplify migrating to the cloud.</span></span> <span data-ttu-id="cdea4-148">Ale správně konfiguraci, zabezpečení a správu virtuálních počítačů vyžaduje mnohem více času a znalosti v oboru IT ve srovnání s Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="cdea4-148">However, correctly configuring, securing, and maintaining VMs requires much more time and IT expertise compared to Azure App Service.</span></span> <span data-ttu-id="cdea4-149">Pokud zvažujete Azure Virtual Machines, nezapomeňte že vzít v úvahu náročnost průběžné údržby vyžaduje opravu, aktualizovat a spravovat prostředí virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="cdea4-149">If you're considering Azure Virtual Machines, make sure you take into account the ongoing maintenance effort required to patch, update, and manage your VM environment.</span></span> <span data-ttu-id="cdea4-150">Azure Virtual Machines je infrastruktura jako služba (IaaS), zatímco App Service nabízí PaaS.</span><span class="sxs-lookup"><span data-stu-id="cdea4-150">Azure Virtual Machines is infrastructure as a service (IaaS), while App Service is PaaS.</span></span> <span data-ttu-id="cdea4-151">Měli byste také zvážit, zda nasazení vaší aplikace jako kontejner Windows do služby Web App for Containers může být vhodným řešením pro váš scénář.</span><span class="sxs-lookup"><span data-stu-id="cdea4-151">You should also consider whether deploying your app as a Windows Container to Web App for Containers might be a viable option for your scenario.</span></span>

## <a name="logical-processes"></a><span data-ttu-id="cdea4-152">Logické procesy</span><span class="sxs-lookup"><span data-stu-id="cdea4-152">Logical processes</span></span>

<span data-ttu-id="cdea4-153">Jednotlivé logické procesy, které mohou být oddělené od zbytku aplikace může nezávisle nasadit do služby Azure Functions v podobě "bez serveru".</span><span class="sxs-lookup"><span data-stu-id="cdea4-153">Individual logical processes that can be decoupled from the rest of the application may be deployed independently to Azure Functions in a "serverless" manner.</span></span> <span data-ttu-id="cdea4-154">Azure Functions umožňuje stačí napsat kód, který budete potřebovat pro daný problém, ale nemusíme se starat o aplikaci nebo infrastrukturu k jeho spuštění.</span><span class="sxs-lookup"><span data-stu-id="cdea4-154">Azure Functions lets you just write the code you need for a given problem, without worrying about the application or infrastructure to run it.</span></span> <span data-ttu-id="cdea4-155">Můžete si vybrat z nejrůznějších programovacích jazyků, včetně C\#, F\#, Node.js, Python a PHP, umožní vám vybrat nejproduktivnější jazyk pro úlohy po ruce.</span><span class="sxs-lookup"><span data-stu-id="cdea4-155">You can choose from a variety of programming languages, including C\#, F\#, Node.js, Python, and PHP, allowing you to pick the most productive language for the task at hand.</span></span> <span data-ttu-id="cdea4-156">Jako většina řešení založené na cloudu platíte jenom po zadanou dobu používání a Azure Functions vertikálně navýšit kapacitu podle potřeby můžete důvěřovat.</span><span class="sxs-lookup"><span data-stu-id="cdea4-156">Like most cloud-based solutions, you pay only for the amount of time your use, and you can trust Azure Functions to scale up as needed.</span></span>

## <a name="data"></a><span data-ttu-id="cdea4-157">Data</span><span class="sxs-lookup"><span data-stu-id="cdea4-157">Data</span></span>

<span data-ttu-id="cdea4-158">Azure nabízí širokou škálu možnosti ukládání dat, tak, aby aplikace můžete používat poskytovatele příslušná data pro dotyčný data.</span><span class="sxs-lookup"><span data-stu-id="cdea4-158">Azure offers a wide variety of data storage options, so that your application can use the appropriate data provider for the data in question.</span></span>

<span data-ttu-id="cdea4-159">Pro transakční, relační data Azure SQL Database se nejlepší možností.</span><span class="sxs-lookup"><span data-stu-id="cdea4-159">For transactional, relational data, Azure SQL Databases are the best option.</span></span> <span data-ttu-id="cdea4-160">Pro vysoký výkon pro čtení – většinou data mezipaměti Redis se opírá o službě Azure SQL Database je dobrým řešením.</span><span class="sxs-lookup"><span data-stu-id="cdea4-160">For high performance read-mostly data, a Redis cache backed by an Azure SQL Database is a good solution.</span></span>

<span data-ttu-id="cdea4-161">Nestrukturovaná data JSON mohou být uloženy v různými způsoby, z databáze SQL sloupců pro objekty BLOB nebo tabulek ve službě Azure Storage k DocumentDB.</span><span class="sxs-lookup"><span data-stu-id="cdea4-161">Unstructured JSON data can be stored in a variety of ways, from SQL Database columns to Blobs or Tables in Azure Storage, to DocumentDB.</span></span> <span data-ttu-id="cdea4-162">Z těchto DocumentDB nabízí nejlepší funkcích pro dotazování a možnost se doporučuje pro velké počty dokumentů založenými na JSON, které musí podporovat dotazování.</span><span class="sxs-lookup"><span data-stu-id="cdea4-162">Of these, DocumentDB offers the best querying functionality, and is the recommended option for large numbers of JSON-based documents that must support querying.</span></span>

<span data-ttu-id="cdea4-163">Přechodné příkazu - nebo založený na událostech data použít k orchestrování chování aplikace pomocí Azure Service Bus nebo front Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="cdea4-163">Transient command- or event-based data used to orchestrate application behavior can use Azure Service Bus or Azure Storage Queues.</span></span> <span data-ttu-id="cdea4-164">Azure Service Bus úložiště nabízí větší flexibilitu a je doporučenou službu pro netriviální zasílání zpráv v rámci a mezi aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="cdea4-164">Azure Storage Bus offers more flexibility and is the recommended service for non-trivial messaging within and between applications.</span></span>

## <a name="architecture-recommendations"></a><span data-ttu-id="cdea4-165">Doporučení pro architekturu</span><span class="sxs-lookup"><span data-stu-id="cdea4-165">Architecture recommendations</span></span>

<span data-ttu-id="cdea4-166">Podle požadavků vaší aplikace by měly určovat jeho architektura.</span><span class="sxs-lookup"><span data-stu-id="cdea4-166">Your application's requirements should dictate its architecture.</span></span> <span data-ttu-id="cdea4-167">Nejsou k dispozici mnoho různých služeb Azure.</span><span class="sxs-lookup"><span data-stu-id="cdea4-167">There are many different Azure services available.</span></span> <span data-ttu-id="cdea4-168">Důležité rozhodnutí je výběr ten správný.</span><span class="sxs-lookup"><span data-stu-id="cdea4-168">Choosing the right one is an important decision.</span></span> <span data-ttu-id="cdea4-169">Společnost Microsoft nabízí Galerie referenční architektury, které pomáhají identifikovat typických architekturách, které jsou optimalizované pro běžné scénáře.</span><span class="sxs-lookup"><span data-stu-id="cdea4-169">Microsoft offers a gallery of reference architectures to help identify typical architectures optimized for common scenarios.</span></span> <span data-ttu-id="cdea4-170">Může se stát referenční architekturu, map, pečlivě sledují a podle požadavků vaší aplikace nebo na nejméně nabízí, počáteční bod.</span><span class="sxs-lookup"><span data-stu-id="cdea4-170">You may find a reference architecture that maps closely to your application's requirements, or at least offers a starting point.</span></span>

<span data-ttu-id="cdea4-171">Obrázek 11-2 je znázorněný příklad referenční architekturu.</span><span class="sxs-lookup"><span data-stu-id="cdea4-171">Figure 11-2 shows an example reference architecture.</span></span> <span data-ttu-id="cdea4-172">Tento diagram znázorňuje postup doporučené architektury pro web systém správy obsahu Sitecore optimalizované pro uvedení na trh.</span><span class="sxs-lookup"><span data-stu-id="cdea4-172">This diagram describes a recommended architecture approach for a Sitecore content management system website optimized for marketing.</span></span>

![](./media/image11-2.png)

<span data-ttu-id="cdea4-173">**Obrázek 11-1.**</span><span class="sxs-lookup"><span data-stu-id="cdea4-173">**Figure 11-1.**</span></span> <span data-ttu-id="cdea4-174">Sitecore marketingový web referenční architekturu.</span><span class="sxs-lookup"><span data-stu-id="cdea4-174">Sitecore marketing website reference architecture.</span></span>

<span data-ttu-id="cdea4-175">**Odkazy – hostování doporučení pro Azure**</span><span class="sxs-lookup"><span data-stu-id="cdea4-175">**References – Azure hosting recommendations**</span></span>

- <span data-ttu-id="cdea4-176">Architectures\ řešení Azure</span><span class="sxs-lookup"><span data-stu-id="cdea4-176">Azure Solution Architectures\\</span></span>
  <https://azure.microsoft.com/solutions/architecture/>

- <span data-ttu-id="cdea4-177">Azure Developer Guide\\</span><span class="sxs-lookup"><span data-stu-id="cdea4-177">Azure Developer Guide\\</span></span>
  <https://azure.microsoft.com/campaigns/developer-guide/>

- <span data-ttu-id="cdea4-178">Overview\ webové aplikace</span><span class="sxs-lookup"><span data-stu-id="cdea4-178">Web Apps overview\\</span></span>
  <https://docs.microsoft.com/azure/app-service/app-service-web-overview>

- <span data-ttu-id="cdea4-179">Web App for Containers\\</span><span class="sxs-lookup"><span data-stu-id="cdea4-179">Web App for Containers\\</span></span>
  <https://azure.microsoft.com/en-us/services/app-service/containers/>

- <span data-ttu-id="cdea4-180">Úvod do služby Azure Kubernetes Service (AKS) \\</span><span class="sxs-lookup"><span data-stu-id="cdea4-180">Introduction to Azure Kubernetes Service (AKS)\\</span></span>
  <https://docs.microsoft.com/azure/aks/intro-kubernetes>

>[!div class="step-by-step"]
>[<span data-ttu-id="cdea4-181">Předchozí</span><span class="sxs-lookup"><span data-stu-id="cdea4-181">Previous</span></span>](development-process-for-azure.md)
