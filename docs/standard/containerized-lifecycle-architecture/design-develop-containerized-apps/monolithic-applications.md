---
title: Monolitické aplikace
description: Základní koncepce pro kontejnerizování monolitických aplikací.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.openlocfilehash: e7454100b09f602e1e103c38685609e1dab62fe9
ms.sourcegitcommit: 69bf8b719d4c289eec7b45336d0b933dd7927841
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2019
ms.locfileid: "57843542"
---
# <a name="monolithic-applications"></a><span data-ttu-id="08d24-103">Monolitické aplikace</span><span class="sxs-lookup"><span data-stu-id="08d24-103">Monolithic applications</span></span>

<span data-ttu-id="08d24-104">V tomto scénáři provedete sestavování jednoho a monolitické webové aplikaci nebo službě a jeho nasazení jako kontejner.</span><span class="sxs-lookup"><span data-stu-id="08d24-104">In this scenario, you're building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="08d24-105">V rámci aplikace nemusí být struktura monolitické; To může se skládat z několika knihoven, komponenty nebo dokonce vrstvy (aplikační vrstva, vrstva domény, vrstva přístupu k datům atd.).</span><span class="sxs-lookup"><span data-stu-id="08d24-105">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="08d24-106">Externě je jedním kontejnerem, jako je jeden proces, jednu webovou aplikaci nebo jedinou službou.</span><span class="sxs-lookup"><span data-stu-id="08d24-106">Externally, it's a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="08d24-107">Správa tohoto modelu, nasadíte jedním kontejnerem pro reprezentaci aplikace.</span><span class="sxs-lookup"><span data-stu-id="08d24-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="08d24-108">Pro její škálování, stačí přidáte několik více kopií s nástroji pro vyrovnávání zatížení v popředí.</span><span class="sxs-lookup"><span data-stu-id="08d24-108">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="08d24-109">Jednoduchost pochází z Správa jedno nasazení z jednoho kontejneru nebo virtuální počítač (VM).</span><span class="sxs-lookup"><span data-stu-id="08d24-109">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="08d24-110">Následující objekt zabezpečení, že kontejner provádí pouze jednu věc a nemá v jednom procesu monolitické vzor je v konfliktu.</span><span class="sxs-lookup"><span data-stu-id="08d24-110">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="08d24-111">Může zahrnovat více komponenty a knihovny nebo interní vrstvy v rámci každého kontejneru, jak je znázorněno na obrázku 4-1.</span><span class="sxs-lookup"><span data-stu-id="08d24-111">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![Monolitické aplikace má všech nebo většiny ze svých funkcí v rámci jednoho procesu nebo kontejneru, a to je komponentní v interní vrstvy nebo knihovny.](./media/image1.png)

<span data-ttu-id="08d24-113">**Obrázek 4-1.**</span><span class="sxs-lookup"><span data-stu-id="08d24-113">**Figure 4-1.**</span></span> <span data-ttu-id="08d24-114">Příklad architektury monolitické aplikace</span><span class="sxs-lookup"><span data-stu-id="08d24-114">An example of monolithic application architecture</span></span>

<span data-ttu-id="08d24-115">Nevýhodou tento přístup se dodává spolu Pokud nebo když aplikace poroste, požadují škálování.</span><span class="sxs-lookup"><span data-stu-id="08d24-115">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="08d24-116">Pokud v celé aplikaci škálovat, není ve skutečnosti k problému.</span><span class="sxs-lookup"><span data-stu-id="08d24-116">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="08d24-117">Ve většině případů několik částí aplikace ale potlačení body, které vyžadují škálování, zatímco ostatní součásti jsou méně používaná.</span><span class="sxs-lookup"><span data-stu-id="08d24-117">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="08d24-118">Použijeme příklad typické elektronického obchodování, budete pravděpodobně potřebovat, je škálování informace součást produktu.</span><span class="sxs-lookup"><span data-stu-id="08d24-118">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="08d24-119">Mnoho zákazníků další procházet produktů, než je koupit.</span><span class="sxs-lookup"><span data-stu-id="08d24-119">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="08d24-120">Větší počet zákazníků pomocí nákupního košíku, než použití kanálu platby.</span><span class="sxs-lookup"><span data-stu-id="08d24-120">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="08d24-121">Méně zákazníky přidat komentáře nebo zobrazení jejich historie nákupů.</span><span class="sxs-lookup"><span data-stu-id="08d24-121">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="08d24-122">A pravděpodobně máte pouze několik zaměstnanců, v jedné oblasti, které potřebují spravovat obsah a marketingových kampaní.</span><span class="sxs-lookup"><span data-stu-id="08d24-122">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="08d24-123">Díky škálování monolitický návrh, veškerý kód nasazuje více než jednou.</span><span class="sxs-lookup"><span data-stu-id="08d24-123">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="08d24-124">Kromě "škálovací – všechno, co" problém, změny jedinou komponentu vyžadovat úplné opakované celé aplikace, stejně jako úplné opětovné nasazení všech instancí.</span><span class="sxs-lookup"><span data-stu-id="08d24-124">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="08d24-125">Monolitického přístupu je běžné a mnoha organizacích jsou vývoj s využitím této architektury metody.</span><span class="sxs-lookup"><span data-stu-id="08d24-125">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="08d24-126">Mnoho vám přinesou jistotu kvalitní dostatek výsledky, zatímco ostatní dojde k omezení.</span><span class="sxs-lookup"><span data-stu-id="08d24-126">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="08d24-127">Mnoho navržené svých aplikací v tomto modelu, protože byly příliš obtížné sestavení SOAs nástroje a infrastruktura a jejich nezobrazila potřebu – dokud zvětšoval aplikace.</span><span class="sxs-lookup"><span data-stu-id="08d24-127">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="08d24-128">Každý server z hlediska infrastruktury, můžete spustit mnoho aplikací v rámci stejného hostitele a mají přijatelné poměr efektivitu ve využití prostředků, jak ukazuje obrázek 4-2.</span><span class="sxs-lookup"><span data-stu-id="08d24-128">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![Je jeden hostitel můžete spustit několik aplikací v samostatných kontejnery.](./media/image2.png)

<span data-ttu-id="08d24-130">**Obrázek 4-2.**</span><span class="sxs-lookup"><span data-stu-id="08d24-130">**Figure 4-2.**</span></span> <span data-ttu-id="08d24-131">Hostitele se více aplikací nebo kontejnerů</span><span class="sxs-lookup"><span data-stu-id="08d24-131">A host running multiple apps/containers</span></span>

<span data-ttu-id="08d24-132">Nakonec se z hlediska dostupnosti, monolitické aplikace musí být nasazený jako celek; To znamená, že v případě, že je potřeba *zastavení a spuštění*, všechny funkce a všech uživatelů ovlivněných během časového intervalu pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="08d24-132">Finally, from an availability perspective, monolithic applications must be deployed as a whole; that means that in case you must *stop and start*, all functionality and all users will be affected during the deployment window.</span></span> <span data-ttu-id="08d24-133">V některých případech použití Azure a kontejnery minimalizovat těchto situacích a snížit pravděpodobnost výpadku aplikace, jak je vidět v obrázek 4-3.</span><span class="sxs-lookup"><span data-stu-id="08d24-133">In certain situations, the use of Azure and containers can minimize these situations and reduce the probability of downtime of your application, as you can see in Figure 4-3.</span></span>

<span data-ttu-id="08d24-134">Monolitické aplikace v Azure můžete nasadit pomocí vyhrazených virtuálních počítačů pro každou instanci.</span><span class="sxs-lookup"><span data-stu-id="08d24-134">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="08d24-135">Pomocí [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), je možné snadno škálovat virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="08d24-135">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span>

<span data-ttu-id="08d24-136">Můžete také použít [Azure App Services](https://azure.microsoft.com/services/app-service/) spouštět monolitické aplikace a snadno škálovat instance, aniž byste museli spravovat virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="08d24-136">You can also use [Azure App Services](https://azure.microsoft.com/services/app-service/) to run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="08d24-137">Služba Azure App Services můžete spustit jedné instance kontejnerů Dockeru, také zjednodušit nasazení.</span><span class="sxs-lookup"><span data-stu-id="08d24-137">Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span>

<span data-ttu-id="08d24-138">Můžete nasadit několik virtuálních počítačů jako hostitelů Docker a spustit libovolný počet kontejnerů na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="08d24-138">You can deploy multiple VMs as Docker hosts and run any number of containers per VM.</span></span> <span data-ttu-id="08d24-139">Potom pomocí služby Azure Load Balancer, jak je znázorněno v 3 – obrázek 4, můžete spravovat škálování.</span><span class="sxs-lookup"><span data-stu-id="08d24-139">Then, by using an Azure Load Balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![Monolitické aplikace může být horizontálním navýšením kapacity na různých hostitelích, kde každý z nich je spuštění aplikace v kontejnerech.](./media/image3.png)

<span data-ttu-id="08d24-141">**Obrázek 4-3**.</span><span class="sxs-lookup"><span data-stu-id="08d24-141">**Figure 4-3**.</span></span> <span data-ttu-id="08d24-142">Více hostitelů škálování na více instancí jednu aplikaci aplikace/kontejnery Dockeru</span><span class="sxs-lookup"><span data-stu-id="08d24-142">Multiple hosts scaling-out a single Docker application apps/containers</span></span>

<span data-ttu-id="08d24-143">Můžete spravovat nasazení hostitele sami prostřednictvím nasazení tradiční techniky.</span><span class="sxs-lookup"><span data-stu-id="08d24-143">You can manage the deployment of the hosts themselves via traditional deployment techniques.</span></span>

<span data-ttu-id="08d24-144">Kontejnery Dockeru můžete spravovat z příkazového řádku pomocí příkazů, jako jsou `docker run` a `docker-compose up`, a můžete také automatizovat v průběžné doručování (CD) kanálů a nasazovat do hostitelů Docker ze služeb Azure DevOps, pro instanci.</span><span class="sxs-lookup"><span data-stu-id="08d24-144">You can manage Docker containers from the command line by using commands like `docker run` and `docker-compose up`, and you can also automate it in Continuous Delivery (CD) pipelines and deploy to Docker hosts from Azure DevOps Services, for instance.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="08d24-145">Monolitické aplikace nasazená jako kontejner</span><span class="sxs-lookup"><span data-stu-id="08d24-145">Monolithic application deployed as a container</span></span>

<span data-ttu-id="08d24-146">Existují výhody použití kontejnerů pro správu monolitické nasazení.</span><span class="sxs-lookup"><span data-stu-id="08d24-146">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="08d24-147">Škálování instance kontejnerů je mnohem jednodušší a rychlejší než nasazení dalších virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="08d24-147">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span>

<span data-ttu-id="08d24-148">Nasazení aktualizací, je mnohem rychlejší imagí Dockeru a efektivní sítě.</span><span class="sxs-lookup"><span data-stu-id="08d24-148">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="08d24-149">Kontejnery dockeru jsou obvykle spustí během několika sekund, tím i urychlení uvedení.</span><span class="sxs-lookup"><span data-stu-id="08d24-149">Docker containers typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="08d24-150">Opětné kontejneru Dockeru je stejně jednoduché jako volání obsluhy `docker stop` příkaz obvykle dokončení v menší než druhý.</span><span class="sxs-lookup"><span data-stu-id="08d24-150">Tearing down a Docker container is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="08d24-151">Vzhledem k tomu, že kontejnery jsou ze své podstaty neměnné záměrné, potřebujete nikdy starat o poškozená virtuálních počítačů, protože aktualizační skript si vzpomenout na některé konkrétní konfiguraci nebo soubor na disku.</span><span class="sxs-lookup"><span data-stu-id="08d24-151">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="08d24-152">Přestože monolitických aplikací můžete využívat Docker, jsme se dotýká na pouze tipy výhody.</span><span class="sxs-lookup"><span data-stu-id="08d24-152">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="08d24-153">Větší výhody správy kontejnerů, pocházejí z nasazení pomocí orchestrátorů kontejnerů, které spravují různé instance a životního cyklu každou instanci kontejneru.</span><span class="sxs-lookup"><span data-stu-id="08d24-153">The larger benefits of managing containers come from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="08d24-154">Rozdělení monolitické aplikace do subsystémů, které můžete škálovat, vyvinuli a nasazují samostatně je vstupním bodem do sféry mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="08d24-154">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

<span data-ttu-id="08d24-155">Další informace o tom, jak "metodou lift and shift" monolitické aplikace s kontejnery a jak můžete modernizovat aplikace, najdete další příručky Microsoftu [modernizace stávajících aplikací .NET pomocí cloudu Azure a kontejnery Windows ](../../modernize-with-azure-and-containers/index.md), kterou můžete také stáhnout ve formátu PDF z <https://aka.ms/LiftAndShiftWithContainersEbook>.</span><span class="sxs-lookup"><span data-stu-id="08d24-155">To learn about how to “lift and shift” monolithic applications with containers and how you can modernize your applications, you can read this additional Microsoft guide, [Modernize existing .NET applications with Azure cloud and Windows Containers](../../modernize-with-azure-and-containers/index.md), that you can also download as PDF from <https://aka.ms/LiftAndShiftWithContainersEbook>.</span></span>

## <a name="publish-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="08d24-156">Publikovat jedinou aplikaci kontejneru Dockeru do služby Azure App Service</span><span class="sxs-lookup"><span data-stu-id="08d24-156">Publish a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="08d24-157">Buď vzhledem k tomu, že chcete získat rychlé ověření kontejneru nasadit do Azure, nebo protože aplikace je jednoduše jedním – aplikace typu kontejner, Azure App Service nabízí skvělý způsob, jak poskytnout škálovatelných služeb určených jeden kontejner.</span><span class="sxs-lookup"><span data-stu-id="08d24-157">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="08d24-158">Pomocí služby Azure App Service je intuitivní a můžete a rychlý, protože poskytuje skvělé Git integrace kódu, sestavení v sadě Microsoft Visual Studio a nasaďte ji přímo do Azure.</span><span class="sxs-lookup"><span data-stu-id="08d24-158">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="08d24-159">Ale tradičně (žádné Dockeru), v případě potřeby další možnosti, rozhraní nebo závislosti, které nejsou podporovány v App Services, jste museli čekat, dokud nebude tým Azure aktualizace těchto závislostí ve službě App Service nebo přepnout do jiných služeb, třeba Service Fabric, Cloud Services nebo dokonce prostý virtuálních počítačů, pro které mají další kontrolu a můžete nainstalovat na požadovanou součást nebo architekturu pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="08d24-159">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="08d24-160">Nyní, jak ukazuje obrázek 4-4 při používání sady Visual Studio 2017, podpora kontejnerů ve službě Azure App Service poskytuje možnost zahrnout cokoliv, co chcete v prostředí aplikace.</span><span class="sxs-lookup"><span data-stu-id="08d24-160">Now, as shown in Figure 4-4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="08d24-161">Přidat závislost do vaší aplikace, protože ji používáte v kontejneru, získáte možnost do své image soubor Dockerfile nebo Docker, včetně těchto závislostí.</span><span class="sxs-lookup"><span data-stu-id="08d24-161">If you added a dependency to your app, because you're running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![Zobrazit průvodce Visual Studio k publikování do služby Azure app service, zvýraznění selektor pro registr kontejneru.](./media/image4.png)

<span data-ttu-id="08d24-163">**Obrázek 4-4**.</span><span class="sxs-lookup"><span data-stu-id="08d24-163">**Figure 4-4**.</span></span> <span data-ttu-id="08d24-164">Publikování z aplikace Visual Studio/kontejnery kontejneru do služby Azure App Service</span><span class="sxs-lookup"><span data-stu-id="08d24-164">Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="08d24-165">Obrázek 4-4 také ukazuje, že tok publikovat nabízených oznámení image do registru kontejneru, který může být Azure Container Registry (registr téměř svá nasazení v Azure a zabezpečené pomocí skupin Azure Active Directory a účty) nebo jiné registru Dockeru například Docker Hub nebo v místním Registry.</span><span class="sxs-lookup"><span data-stu-id="08d24-165">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="08d24-166">[Předchozí](common-container-design-principles.md)
>[další](state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="08d24-166">[Previous](common-container-design-principles.md)
[Next](state-and-data-in-docker-applications.md)</span></span>
