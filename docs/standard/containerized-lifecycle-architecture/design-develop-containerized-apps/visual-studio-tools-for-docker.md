---
title: Visual Studio Tools for Docker ve Windows
description: Seznámení s nástroji Dockeru k dispozici v sadě Visual Studio 2017 verze 15.7 nebo novější.
ms.date: 02/15/2019
ms.custom: vs-dotnet
ms.openlocfilehash: 2b6fdc33f9cf850cf9e52fca4a1a9754cd412567
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/15/2019
ms.locfileid: "65644661"
---
# <a name="use-docker-tools-in-visual-studio-2017-on-windows"></a><span data-ttu-id="d3a56-103">Použití nástrojů Dockeru v sadě Visual Studio 2017 na Windows</span><span class="sxs-lookup"><span data-stu-id="d3a56-103">Use Docker Tools in Visual Studio 2017 on Windows</span></span>

<span data-ttu-id="d3a56-104">Pracovní postup pro vývojáře při používání nástroje Dockeru, které jsou zahrnuty v sadě Visual Studio 2017 verze 15.7 nebo novější, je podobný používání Visual Studio Code a rozhraní příkazového řádku Dockeru (ve skutečnosti vychází stejné rozhraní příkazového řádku Dockeru), ale je snadné začít, zjednodušuje proces, a poskytuje větší produktivitu pro sestavení, spouštět a vytvořit úkolů.</span><span class="sxs-lookup"><span data-stu-id="d3a56-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="d3a56-105">Můžete také spustit a ladit své kontejnery pomocí obvyklého `F5` a `Ctrl+F5` klíče ze sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d3a56-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="d3a56-106">Můžete dokonce i ladění celé řešení, pokud jeho kontejnery jsou definovány ve stejném `docker-compose.yml` souboru na úrovni řešení.</span><span class="sxs-lookup"><span data-stu-id="d3a56-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="d3a56-107">Konfigurace vašeho místního prostředí</span><span class="sxs-lookup"><span data-stu-id="d3a56-107">Configure your local environment</span></span>

<span data-ttu-id="d3a56-108">S nejnovější verzí Docker pro Windows je jednodušší než někdy k vývoji aplikací Dockeru vzhledem k tomu, že instalační program je jasné, jak je vysvětleno v následující odkazy.</span><span class="sxs-lookup"><span data-stu-id="d3a56-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="d3a56-109">Další informace o instalaci Dockeru pro Windows, přejděte na (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="d3a56-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio-2017"></a><span data-ttu-id="d3a56-110">Podpora dockeru v sadě Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d3a56-110">Docker support in Visual Studio 2017</span></span>

<span data-ttu-id="d3a56-111">Existují dvě úrovně podpory Dockeru, které můžete přidat do projektu.</span><span class="sxs-lookup"><span data-stu-id="d3a56-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="d3a56-112">V projektech ASP.NET Core, lze přidat `Dockerfile` soubor do projektu povolení podpory Dockeru.</span><span class="sxs-lookup"><span data-stu-id="d3a56-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="d3a56-113">Další úrovní je podpora Orchestrace kontejnerů, které přidává `Dockerfile` do projektu (pokud ještě neexistuje) a `docker-compose.yml` souboru na úrovni řešení.</span><span class="sxs-lookup"><span data-stu-id="d3a56-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="d3a56-114">Podpora Orchestrace kontejnerů pomocí Docker Compose, se přidá ve výchozím nastavení v sadě Visual Studio 2017 verze 15.0: 15.7.</span><span class="sxs-lookup"><span data-stu-id="d3a56-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="d3a56-115">Podpora Orchestrace kontejnerů je přihlašovaná funkce v sadě Visual Studio 2017 verze 15,8 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="d3a56-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="d3a56-116">Na novější verzi 15.8 podporu Docker Compose a Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="d3a56-116">Version 15.8 an later support Docker Compose and Service Fabric.</span></span>

<span data-ttu-id="d3a56-117">**Přidat > Podpora Dockeru** a **Přidat > Podpora Orchestrátoru kontejnerů** příkazy jsou umístěné v místní nabídce (nebo kontextovou nabídku) uzel projektu pro projekt ASP.NET Core v  **Průzkumník řešení**, jak ukazuje obrázek 4-31:</span><span class="sxs-lookup"><span data-stu-id="d3a56-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Přidejte podporu Dockeru nabídky v sadě Visual Studio](./media/add-docker-support-menu.png)

<span data-ttu-id="d3a56-119">**Obrázek 4-31**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-119">**Figure 4-31**.</span></span> <span data-ttu-id="d3a56-120">Přidání podpory Dockeru do projektu sady Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d3a56-120">Adding Docker support to a Visual Studio 2017 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="d3a56-121">Přidání podpory Dockeru</span><span class="sxs-lookup"><span data-stu-id="d3a56-121">Add Docker support</span></span>

<span data-ttu-id="d3a56-122">Můžete přidat podporu Dockeru do existujícího projektu ASP.NET Core tak, že vyberete **přidat** > **podporu Dockeru** v **Průzkumníka řešení**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-122">You can add Docker support to an existing ASP.NET Core project by selecting **Add** > **Docker Support** in **Solution Explorer**.</span></span> <span data-ttu-id="d3a56-123">Můžete také povolit podporu Dockeru během vytváření projektu tak, že vyberete **povolit podporu Dockeru** v **nová webová aplikace ASP.NET Core** dialogové okno, které se otevře po kliknutí na **OK** v **nový projekt** dialogové okno, jak ukazuje obrázek 4-32.</span><span class="sxs-lookup"><span data-stu-id="d3a56-123">You can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Povolit podporu Dockeru pro novou webovou aplikaci ASP.NET Core v sadě Visual Studio](./media/enable-docker-support-visual-studio.png)

<span data-ttu-id="d3a56-125">**Obrázek 4 – 32**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-125">**Figure 4-32**.</span></span> <span data-ttu-id="d3a56-126">Povolit podporu Dockeru během vytváření projektu v sadě Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d3a56-126">Enable Docker support during project creation in Visual Studio 2017</span></span>

<span data-ttu-id="d3a56-127">Když přidáváte nebo povolit podporu Dockeru, sada Visual Studio přidá *soubor Dockerfile* soubor do projektu.</span><span class="sxs-lookup"><span data-stu-id="d3a56-127">When you add or enable Docker support, Visual Studio adds a *Dockerfile* file to the project.</span></span>

> [!NOTE]
> <span data-ttu-id="d3a56-128">Když povolíte podporu Docker Compose během vytváření projektu pro projekt ASP.NET (.NET Framework, ne k projektu .NET Core), jak ukazuje obrázek 4-33, přidá se také podpora Orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="d3a56-128">When you enable Docker Compose support during project creation for a ASP.NET project (.NET Framework, not a .NET Core project) as shown in Figure 4-33, container orchestration support is also added.</span></span>

![Povolit Docker compose podporu pro technologie ASP.NET](media/enable-docker-compose-support.png)

<span data-ttu-id="d3a56-130">**Obrázek 4-33**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-130">**Figure 4-33**.</span></span> <span data-ttu-id="d3a56-131">Povolení podpory Docker Compose pro projektu ASP.NET v sadě Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d3a56-131">Enabling Docker Compose support for an ASP.NET project in Visual Studio 2017</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="d3a56-132">Přidat podporu Orchestrace kontejnerů</span><span class="sxs-lookup"><span data-stu-id="d3a56-132">Add container orchestration support</span></span>

<span data-ttu-id="d3a56-133">Pokud chcete vytvořit řešení více kontejnerů, přidáte do vašich projektů podpora Orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="d3a56-133">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="d3a56-134">To vám umožní spouštět a ladit skupinu kontejnerů (celé řešení) ve stejnou dobu, pokud jsou definovány ve stejném *docker-compose.yml* souboru.</span><span class="sxs-lookup"><span data-stu-id="d3a56-134">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same *docker-compose.yml* file.</span></span>

<span data-ttu-id="d3a56-135">Chcete-li přidat podporu Orchestrace kontejnerů, klikněte pravým tlačítkem na uzel řešení nebo projektu v **Průzkumníku řešení**a zvolte **Přidat > Podpora Orchestrace kontejnerů**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-135">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="d3a56-136">Klikněte na tlačítko **Docker Compose** nebo **Service Fabric** Spravovat kontejnery.</span><span class="sxs-lookup"><span data-stu-id="d3a56-136">Then choose **Docker Compose** or **Service Fabric** to manage the containers.</span></span>

<span data-ttu-id="d3a56-137">Poté, co přidáte do projektu podporu Orchestrace kontejnerů, se zobrazí soubor Dockerfile přidat do projektu a **docker-compose** přidán do řešení ve složce **Průzkumníka řešení**, jak ukazuje obrázek 4 – 34:</span><span class="sxs-lookup"><span data-stu-id="d3a56-137">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-34:</span></span>

![Soubory docker v Průzkumníku řešení v sadě Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="d3a56-139">**Obrázek 4 – 34**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-139">**Figure 4-34**.</span></span> <span data-ttu-id="d3a56-140">Soubory docker v Průzkumníku řešení v sadě Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d3a56-140">Docker files in Solution Explorer in Visual Studio 2017</span></span>

<span data-ttu-id="d3a56-141">Pokud *docker-compose.yml* již existuje, požadovaných řádků kódu, konfigurace sady Visual Studio právě přidá k němu.</span><span class="sxs-lookup"><span data-stu-id="d3a56-141">If *docker-compose.yml* already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="d3a56-142">Konfigurace nástroje Dockeru</span><span class="sxs-lookup"><span data-stu-id="d3a56-142">Configure Docker tools</span></span>

<span data-ttu-id="d3a56-143">V hlavní nabídce zvolte **nástroje > Možnosti**a rozbalte **nástroje kontejneru sady > Nastavení**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-143">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="d3a56-144">Nastavení nástroje kontejneru se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="d3a56-144">The container tools settings appear.</span></span>

![Visual Studio Docker tools možnosti zobrazení: Automaticky získat požadované Image Dockeru při načtení projektu, automaticky spustit kontejnery na pozadí, automaticky ukončit kontejnery v řešení zavřít a nechcete zobrazovat výzvu pro důvěřující certifikát SSL.](./media/visual-studio-docker-tools-options.png)

<span data-ttu-id="d3a56-146">**Obrázek 4 – 35**.</span><span class="sxs-lookup"><span data-stu-id="d3a56-146">**Figure 4-35**.</span></span> <span data-ttu-id="d3a56-147">Možnosti nástrojů dockeru</span><span class="sxs-lookup"><span data-stu-id="d3a56-147">Docker Tools Options</span></span>

<span data-ttu-id="d3a56-148">V následující tabulce může pomoct při rozhodování, jak nastavit tyto možnosti.</span><span class="sxs-lookup"><span data-stu-id="d3a56-148">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="d3a56-149">Name</span><span class="sxs-lookup"><span data-stu-id="d3a56-149">Name</span></span> | <span data-ttu-id="d3a56-150">Výchozí nastavení</span><span class="sxs-lookup"><span data-stu-id="d3a56-150">Default Setting</span></span> | <span data-ttu-id="d3a56-151">Platí pro</span><span class="sxs-lookup"><span data-stu-id="d3a56-151">Applies To</span></span> | <span data-ttu-id="d3a56-152">Popis</span><span class="sxs-lookup"><span data-stu-id="d3a56-152">Description</span></span> |
| -----|:---------------:|:----------:| ----------- |
| <span data-ttu-id="d3a56-153">Automaticky získat požadované Image Dockeru při načtení projektu</span><span class="sxs-lookup"><span data-stu-id="d3a56-153">Automatically pull required Docker images on project load</span></span> | <span data-ttu-id="d3a56-154">On</span><span class="sxs-lookup"><span data-stu-id="d3a56-154">On</span></span> | <span data-ttu-id="d3a56-155">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="d3a56-155">Docker Compose</span></span> | <span data-ttu-id="d3a56-156">Pro zvýšení výkonu při načítání projektů sady Visual Studio spustí operaci Docker pull na pozadí tak, že až budete připraveni ke spuštění kódu, se image nestáhne již nebo probíhá stahování.</span><span class="sxs-lookup"><span data-stu-id="d3a56-156">For increased performance when loading projects, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="d3a56-157">Pokud jste právě načítá projekty a procházení kódu, můžete to vypnout aby se zabránilo stahování imagí kontejnerů, které nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="d3a56-157">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> |
| <span data-ttu-id="d3a56-158">Automaticky spustit kontejnery na pozadí</span><span class="sxs-lookup"><span data-stu-id="d3a56-158">Automatically start containers in background</span></span> | <span data-ttu-id="d3a56-159">On</span><span class="sxs-lookup"><span data-stu-id="d3a56-159">On</span></span> | <span data-ttu-id="d3a56-160">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="d3a56-160">Docker Compose</span></span> | <span data-ttu-id="d3a56-161">Znovu pro zajištění zvýšeného výkonu sady Visual Studio vytvoří kontejner s připojí svazek připravené pro když sestavíte a spustíte svůj kontejner.</span><span class="sxs-lookup"><span data-stu-id="d3a56-161">Again for increased performance, Visual Studio creates a container with volume mounts ready for when you build and run your container.</span></span> <span data-ttu-id="d3a56-162">Pokud chcete řídit, kdy se vytvoří kontejner, vypněte toto.</span><span class="sxs-lookup"><span data-stu-id="d3a56-162">If you want to control when your container is created, turn this off.</span></span> |
| <span data-ttu-id="d3a56-163">Automaticky ukončit kontejnery na řešení zavřít</span><span class="sxs-lookup"><span data-stu-id="d3a56-163">Automatically kill containers on solution close</span></span> | <span data-ttu-id="d3a56-164">On</span><span class="sxs-lookup"><span data-stu-id="d3a56-164">On</span></span> | <span data-ttu-id="d3a56-165">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="d3a56-165">Docker Compose</span></span> | <span data-ttu-id="d3a56-166">Pokud byste o ni kontejnerů pro vaše řešení, aby kontinuálně běžely po zavření řešení nebo zavření sady Visual Studio, vypnutí této funkce.</span><span class="sxs-lookup"><span data-stu-id="d3a56-166">Turn this off if you would like containers for your solution to continue to run after closing the solution or closing Visual Studio.</span></span> |
| <span data-ttu-id="d3a56-167">Nezobrazovat výzvu důvěřující certifikátu SSL pro localhost</span><span class="sxs-lookup"><span data-stu-id="d3a56-167">Do not prompt for trusting localhost SSL certificate</span></span> | <span data-ttu-id="d3a56-168">Off</span><span class="sxs-lookup"><span data-stu-id="d3a56-168">Off</span></span> | <span data-ttu-id="d3a56-169">Projekty ASP.NET Core 2.2</span><span class="sxs-lookup"><span data-stu-id="d3a56-169">ASP.NET Core 2.2 projects</span></span> | <span data-ttu-id="d3a56-170">Pokud localhost certifikát SSL není důvěryhodný, Visual Studio zobrazí výzvu pokaždé, když spuštění projektu, pokud je toto políčko zaškrtnuté.</span><span class="sxs-lookup"><span data-stu-id="d3a56-170">If the localhost SSL certificate is not trusted, Visual Studio will prompt every time you run your project, unless this checkbox is checked.</span></span> |

> [!WARNING]
> <span data-ttu-id="d3a56-171">Pokud localhost certifikát SSL není důvěryhodný a zaškrtněte políčko pro potlačení výzvy k potvrzení, nemusí podařit HTTPS webové požadavky v době běhu ve vaší aplikaci nebo službě.</span><span class="sxs-lookup"><span data-stu-id="d3a56-171">If the localhost SSL certificate is not trusted, and you check the box to suppress prompting, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="d3a56-172">V takovém případě zrušte zaškrtnutí políčka **nechcete zobrazovat výzvu** zaškrtávací políčko, spouštění vašeho projektu a označuje vztah důvěryhodnosti na řádku.</span><span class="sxs-lookup"><span data-stu-id="d3a56-172">In that case, uncheck the **Do not prompt** checkbox, run your project, and indicate trust at the prompt.</span></span>

> [!TIP]
> <span data-ttu-id="d3a56-173">Další podrobnosti o implementaci služby a použití sady Visual Studio Tools for Docker v následujících článcích:</span><span class="sxs-lookup"><span data-stu-id="d3a56-173">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
><span data-ttu-id="d3a56-174">Ladění aplikací v místním kontejneru Dockeru: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="d3a56-174">Debugging apps in a local Docker container: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span></span>
>
><span data-ttu-id="d3a56-175">Nasazení kontejneru ASP.NET do služby container registry pomocí sady Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="d3a56-175">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span></span>

>[!div class="step-by-step"]
><span data-ttu-id="d3a56-176">[Předchozí](docker-apps-inner-loop-workflow.md)
>[další](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="d3a56-176">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
