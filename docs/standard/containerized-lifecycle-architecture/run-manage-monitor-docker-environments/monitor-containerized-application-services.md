---
title: Monitorování kontejnerizovaných aplikačních služeb
description: Přečtěte si některé klíčové aspekty monitorování kontejneru architektury
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 11/23/2018
ms.openlocfilehash: e1be3c36f17fc5f85c9deacaa29031cee45226cc
ms.sourcegitcommit: 30e2fe5cc4165aa6dde7218ec80a13def3255e98
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/13/2019
ms.locfileid: "56221183"
---
# <a name="monitor-containerized-application-services"></a><span data-ttu-id="5ee0b-103">Monitorování kontejnerizovaných aplikačních služeb</span><span class="sxs-lookup"><span data-stu-id="5ee0b-103">Monitor containerized application services</span></span>

<span data-ttu-id="5ee0b-104">Je velmi důležité pro aplikace rozdělit do několika kontejnery a mikroslužby způsob, jak monitorovat a analyzovat chování aplikace.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-104">It is critical for applications split into multiple containers and microservices to have a way to monitor and analyze the behavior of the application.</span></span>

## <a name="microsoft-application-insights"></a><span data-ttu-id="5ee0b-105">Microsoft Application Insights</span><span class="sxs-lookup"><span data-stu-id="5ee0b-105">Microsoft Application Insights</span></span>

<span data-ttu-id="5ee0b-106">[Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview) je rozšiřitelnou analytickou službu, která monitoruje vaše živé aplikace.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-106">[Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview) is an extensible analytics service that monitors your live application.</span></span> <span data-ttu-id="5ee0b-107">Pomáhá detekovat a diagnostikovat problémy s výkonem a pochopit, co uživatelé dělají s vaší aplikací.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-107">It helps you to detect and diagnose performance issues and to understand what users actually do with your app.</span></span> <span data-ttu-id="5ee0b-108">Je určená pro vývojáře se záměrem pomáhá průběžně zlepšit výkon a použitelnost služby nebo aplikace.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-108">It's designed for developers, with the intent of helping you to continuously improve the performance and usability of your services or applications.</span></span> <span data-ttu-id="5ee0b-109">Application Insights pracuje s webovou nebo služeb Team Foundation a samostatné aplikace na různých platformách jako .NET, Java, Node.js a mnoho dalších platforem hostovaný místně nebo v cloudu.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-109">Application Insights works with both web/services and standalone apps on a wide variety of platforms like .NET, Java, Node.js and many other platforms, hosted on-premises or in the cloud.</span></span>

### <a name="analyzing-docker-apps-in-qa-environments-using-application-insights"></a><span data-ttu-id="5ee0b-110">Analýza aplikací Dockeru v prostředí QA pomocí Application Insights</span><span class="sxs-lookup"><span data-stu-id="5ee0b-110">Analyzing Docker apps in QA environments using Application Insights</span></span>

<span data-ttu-id="5ee0b-111">Protože se týkají Dockeru, můžete graf události životního cyklu a čítače výkonu z kontejnerů Dockeru v Application Insights.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-111">As it pertains to Docker, you can chart life-cycle events and performance counters from Docker containers on Application Insights.</span></span> <span data-ttu-id="5ee0b-112">Stačí spustit [image Dockeru Application Insights](https://hub.docker.com/r/microsoft/applicationinsights/) jako kontejner v hostiteli který se zobrazí čítače výkonu pro hostitele stejně jako u jiných Image Dockeru.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-112">You just need to run the [Application Insights Docker image](https://hub.docker.com/r/microsoft/applicationinsights/) as a container in your host, and it will display performance counters for the host as well as for the other Docker images.</span></span> <span data-ttu-id="5ee0b-113">Tato image Dockeru Application Insights (obrázek 6 - 1) vám umožní monitorovat své kontejnerizované aplikace pomocí shromažďování telemetrických dat o výkonu a aktivitu (to znamená, že vaše virtuální počítače s Linuxem) hostitele Docker, kontejnery Docker a aplikace běžící v nich.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-113">This Application Insights Docker image (Figure 6-1) helps you to monitor your containerized applications by collecting telemetry about the performance and activity of your Docker host (that is, your Linux VMs), Docker containers and the applications running within them.</span></span>

![příklad](./media/image1.png)

<span data-ttu-id="5ee0b-115">Obrázek 6-1: Application Insights, monitorování hostitelů Docker a kontejnery</span><span class="sxs-lookup"><span data-stu-id="5ee0b-115">Figure 6-1: Application Insights monitoring Docker hosts and containers</span></span>

<span data-ttu-id="5ee0b-116">Při spuštění [image Dockeru Application Insights](https://hub.docker.com/r/microsoft/applicationinsights/) na hostiteli Dockeru, můžete využívat následující:</span><span class="sxs-lookup"><span data-stu-id="5ee0b-116">When you run the [Application Insights Docker image](https://hub.docker.com/r/microsoft/applicationinsights/) on your Docker host, you benefit from the following:</span></span>

-   <span data-ttu-id="5ee0b-117">Životní cyklus telemetrická data o všechny kontejnery běží na hostiteli, spuštění, zastavení a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-117">Life-cycle telemetry about all the containers running on the host—start, stop, and so on.</span></span>

-   <span data-ttu-id="5ee0b-118">Čítače výkonu pro všechny kontejnery: Procesoru, paměti, využití sítě a další.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-118">Performance counters for all the containers: CPU, memory, network usage, and more.</span></span>

-   <span data-ttu-id="5ee0b-119">Pokud jste nainstalovali také [Application Insights SDK](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net) v aplikace spuštěné v kontejnerech, bude mít veškerá telemetrická data těchto aplikací další vlastnosti identifikující kontejner a hostitele počítače.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-119">If you also installed [Application Insights SDK](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net) in the apps running in the containers, all the telemetry of those apps will have additional properties identifying the container and host machine.</span></span> <span data-ttu-id="5ee0b-120">Ano například pokud máte instancí aplikace běžící ve více než jednoho hostitele, snadno budete mít k filtrování telemetrie vaší aplikace hostitel.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-120">So, for example, if you have instances of an app running in more than one host, you'll easily be able to filter your app telemetry by host.</span></span>

### <a name="setting-up-application-insights-to-monitor-docker-applications-and-docker-hosts"></a><span data-ttu-id="5ee0b-121">Nastavení Application Insights pro monitorování aplikací Dockeru a hostitelů Docker</span><span class="sxs-lookup"><span data-stu-id="5ee0b-121">Setting up Application Insights to monitor Docker applications and Docker hosts</span></span>

<span data-ttu-id="5ee0b-122">Vytvořte prostředek Application Insights, postupujte podle pokynů v článcích, které jsou uvedeny v následujícím seznamu.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-122">To create an Application Insights resource, follow the instructions in the articles presented in the list that follows.</span></span> <span data-ttu-id="5ee0b-123">Azure Portal vytvoří nezbytné skript za vás.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-123">Azure Portal will create the necessary script for you.</span></span>

-   <span data-ttu-id="5ee0b-124">**Monitorování aplikací Dockeru ve službě Application Insights:**  [https://docs.microsoft.com/azure/application-insights/app-insights-docker](https://docs.microsoft.com/azure/application-insights/app-insights-docker)</span><span class="sxs-lookup"><span data-stu-id="5ee0b-124">**Monitor Docker applications in Application Insights:**  [https://docs.microsoft.com/azure/application-insights/app-insights-docker](https://docs.microsoft.com/azure/application-insights/app-insights-docker)</span></span>

-   <span data-ttu-id="5ee0b-125">**Aplikace Insights Docker image v Docker Hubu a Githubu:**</span><span class="sxs-lookup"><span data-stu-id="5ee0b-125">**Application Insights Docker image at Docker Hub and Github:**</span></span>  
<span data-ttu-id="5ee0b-126">[https://hub.docker.com/r/microsoft/applicationinsights/](https://hub.docker.com/r/microsoft/applicationinsights/) a <https://github.com/Microsoft/ApplicationInsights-Docker></span><span class="sxs-lookup"><span data-stu-id="5ee0b-126">[https://hub.docker.com/r/microsoft/applicationinsights/](https://hub.docker.com/r/microsoft/applicationinsights/) and <https://github.com/Microsoft/ApplicationInsights-Docker></span></span>

-   <span data-ttu-id="5ee0b-127">**Nastavení Application Insights pro ASP.NET:**</span><span class="sxs-lookup"><span data-stu-id="5ee0b-127">**Set up Application Insights for ASP.NET:**</span></span>  
[https://docs.microsoft.com/azure/application-insights/app-insights-asp-net](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net)

-   <span data-ttu-id="5ee0b-128">**Application Insights pro webové stránky:**</span><span class="sxs-lookup"><span data-stu-id="5ee0b-128">**Application Insights for web pages:**</span></span>  
<https://docs.microsoft.com/azure/application-insights/app-insights-javascript>

## <a name="microsoft-operations-management-suite"></a><span data-ttu-id="5ee0b-129">Microsoft Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="5ee0b-129">Microsoft Operations Management Suite</span></span>

<span data-ttu-id="5ee0b-130">[Operations Management Suite](https://microsoft.com/oms) je zjednodušené řešení správy IT, které nabízí log analytics, automation, backup a site recovery.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-130">[Operations Management Suite](https://microsoft.com/oms) is a simplified IT management solution that provides log analytics, automation, backup, and site recovery.</span></span> <span data-ttu-id="5ee0b-131">Na základě [dotazy](https://blogs.technet.microsoft.com/msoms/2016/01/21/easy-microsoft-operations-management-suite-search-queries/) v Operations Management Suite, můžete zvýšit [výstrahy](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-monitoring-alerts) a nápravu prostřednictvím [Azure Automation](https://docs.microsoft.com/azure/automation/).</span><span class="sxs-lookup"><span data-stu-id="5ee0b-131">Based on [queries](https://blogs.technet.microsoft.com/msoms/2016/01/21/easy-microsoft-operations-management-suite-search-queries/) in Operations Management Suite, you can raise [alerts](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-monitoring-alerts) and set remediation via [Azure Automation](https://docs.microsoft.com/azure/automation/).</span></span> <span data-ttu-id="5ee0b-132">I hladce integrují s vaší stávající řešení pro správu pro poskytovat jednotné zobrazení podokně ze skla.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-132">It also seamlessly integrates with your existing management solutions to provide a single pane-of-glass view.</span></span> <span data-ttu-id="5ee0b-133">Operations Management Suite vám umožní spravovat a chránit svoje místní a cloudovou infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-133">Operations Management Suite helps you to manage and protect your on-premises and cloud infrastructure.</span></span>

### <a name="operations-management-suitehttpsmicrosoftcomoms-container-solution-for-docker"></a><span data-ttu-id="5ee0b-134">[Operations Management Suite](https://microsoft.com/oms) řešení kontejnerů pro Docker</span><span class="sxs-lookup"><span data-stu-id="5ee0b-134">[Operations Management Suite](https://microsoft.com/oms) Container Solution for Docker</span></span>

<span data-ttu-id="5ee0b-135">Kromě poskytování přínosných služeb sama o sobě, kontejner řešení Operations Management Suite můžete sledovat a spravovat hostitele Dockeru a kontejnerech tím, že zobrazuje informace o tom, kde jsou kontejnery a hostitelích kontejnerů, které jsou spuštěné kontejnery nebo ve stavu selhání a protokoly démonu a kontejneru Dockeru odesílat *stdout* a *stderr*.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-135">In addition to providing valuable services on its own, the Operations Management Suite Container Solution can manage and monitor Docker hosts and containers by showing information about where your containers and container hosts are, which containers are running or failed, and Docker daemon and container logs sent to *stdout* and *stderr*.</span></span> <span data-ttu-id="5ee0b-136">Také ukazuje metriky výkonu, jako je například procesoru, paměti, sítě a úložiště pro kontejner a hostitele při řešení potíží a najít hlučného souseda kontejnery.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-136">It also shows performance metrics such as CPU, memory, network, and storage for the container and hosts to help you troubleshoot and find noisy neighbor containers.</span></span>

![](./media/image2.png)

<span data-ttu-id="5ee0b-137">Obrázek 6 – 2: Informace o kontejnerech Dockeru zobrazené Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="5ee0b-137">Figure 6-2: Information about Docker containers shown by Operations Management Suite</span></span>

<span data-ttu-id="5ee0b-138">Application Insights a Operations Management Suite zaměřit na monitorování aktivit; ale Application Insights se zaměřuje více o sledování aplikací sami díky jeho SDK v rámci aplikace.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-138">Application Insights and Operations Management Suite both focus on monitoring activities; however, Application Insights focuses more on monitoring the apps themselves thanks to its SDK running within the app.</span></span> <span data-ttu-id="5ee0b-139">Ale Operations Management Suite se mnohem více zaměřuje na infrastruktuře kolem hostitele, a navíc nabízí hloubkovou analýzu protokolů ve velkém měřítku současně poskytují velmi flexibilní řízené daty hledání nebo dotaz systému.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-139">However, Operations Management Suite focuses much more on the infrastructure around the hosts, plus it offers deep analysis on logs at scale while providing a very flexible data-driven search/query system.</span></span>

<span data-ttu-id="5ee0b-140">Protože Operations Management Suite je implementovaná jako cloudová služba, můžete mít ji zprovoznit rychle s minimálními investicemi do infrastrukturních služeb.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-140">Because Operations Management Suite is implemented as a cloud-based service, you can have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="5ee0b-141">Nové funkce jsou doručovány pravidelně, ušetříte z průběžnou údržbu a upgrade náklady.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-141">New features are delivered automatically, saving you from ongoing maintenance and upgrade costs.</span></span>

<span data-ttu-id="5ee0b-142">Pomocí řešení Operations Management Suite kontejnerů, můžete provést následující:</span><span class="sxs-lookup"><span data-stu-id="5ee0b-142">Using Operations Management Suite Container Solution, you can do the following:</span></span>

-   <span data-ttu-id="5ee0b-143">Centralizovat a korelovat miliony protokoly z kontejnerů Dockeru ve velkém měřítku</span><span class="sxs-lookup"><span data-stu-id="5ee0b-143">Centralize and correlate millions of logs from Docker containers at scale</span></span>

-   <span data-ttu-id="5ee0b-144">Zobrazit informace o všech hostitelích kontejnerů na jednom místě</span><span class="sxs-lookup"><span data-stu-id="5ee0b-144">See information about all container hosts in a single location</span></span>

-   <span data-ttu-id="5ee0b-145">Zjistit, které kontejnery jsou spuštěná, jaké image spuštěnými a ve kterém běží</span><span class="sxs-lookup"><span data-stu-id="5ee0b-145">Know which containers are running, what image they're running, and where they're running</span></span>

-   <span data-ttu-id="5ee0b-146">Rychle Diagnostikujte "hlučného souseda" kontejnery, které mohou způsobovat problémy na hostitelích kontejnerů</span><span class="sxs-lookup"><span data-stu-id="5ee0b-146">Quickly diagnose "noisy neighbor" containers that can cause problems on container hosts</span></span>

-   <span data-ttu-id="5ee0b-147">V kontejnerech najdete v protokolu auditu pro akce</span><span class="sxs-lookup"><span data-stu-id="5ee0b-147">See an audit trail for actions on containers</span></span>

-   <span data-ttu-id="5ee0b-148">Řešení potíží zobrazením a hledání centralizované protokoly bez vzdálené komunikace na hostitele Docker</span><span class="sxs-lookup"><span data-stu-id="5ee0b-148">Troubleshoot by viewing and searching centralized logs without remoting to the Docker hosts</span></span>

-   <span data-ttu-id="5ee0b-149">Najít kontejnery, které mohou být "" hlučným sousedům"" a využívání nadbytečné prostředků na hostiteli</span><span class="sxs-lookup"><span data-stu-id="5ee0b-149">Find containers that might be "noisy neighbors" and consuming excess resources on a host</span></span>

-   <span data-ttu-id="5ee0b-150">Zobrazit centralizované procesoru, paměti, úložiště a využití a výkonu informace o síti pro kontejnery</span><span class="sxs-lookup"><span data-stu-id="5ee0b-150">View centralized CPU, memory, storage, and network usage and performance information for containers</span></span>

-   <span data-ttu-id="5ee0b-151">Generování testu kontejnerů Dockeru pomocí Azure Automation</span><span class="sxs-lookup"><span data-stu-id="5ee0b-151">Generate test Docker containers with Azure Automation</span></span>

<span data-ttu-id="5ee0b-152">Zobrazí se informace o výkonu spouštěním dotazů, jako je typ = Perf, jak je znázorněno v obrázek 6 – 3.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-152">You can see performance information by running queries like Type=Perf, as shown in Figure 6-3.</span></span>

![DockerPerfMetricsView](./media/image3.png)<span data-ttu-id="5ee0b-154">{width = "5.78625 v" height = "3,25 v"}</span><span class="sxs-lookup"><span data-stu-id="5ee0b-154">{width="5.78625in" height="3.25in"}</span></span>

<span data-ttu-id="5ee0b-155">Obrázek 6 – 3: Metriky výkonu hostitele Docker zobrazené Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="5ee0b-155">Figure 6-3: Performance metrics of Docker hosts shown by Operations Management Suite</span></span>

<span data-ttu-id="5ee0b-156">Ukládání dotazů je také standardní funkce v Operations Management Suite a jak vám pomůže uchovávat dotazy připadají užitečné a zjišťovat tak trendy ve vašem systému.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-156">Saving queries is also a standard feature in Operations Management Suite and can help you keep queries you've found useful and discover trends in your system.</span></span>

<span data-ttu-id="5ee0b-157">**Další informace o** najdete informace o instalaci a konfiguraci Dockeru řešení kontejnerů v [Operations Management Suite](https://microsoft.com/oms), přejděte na stránku <https://docs.microsoft.com/azure/log-analytics/log-analytics-containers>.</span><span class="sxs-lookup"><span data-stu-id="5ee0b-157">**More info** To find information on installing and configuring the Docker container solution in [Operations Management Suite](https://microsoft.com/oms), go to <https://docs.microsoft.com/azure/log-analytics/log-analytics-containers>.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="5ee0b-158">[Předchozí](manage-production-docker-environments.md)
>[další](../key-takeaways/index.md)</span><span class="sxs-lookup"><span data-stu-id="5ee0b-158">[Previous](manage-production-docker-environments.md)
[Next](../key-takeaways/index.md)</span></span>