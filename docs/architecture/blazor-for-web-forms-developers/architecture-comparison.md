---
title: Porovnání architektury webových formulářů ASP.NET a Blazor
description: Naučte se, jak se ASP.NET webové formuláře a Blazor porovnání architektury.
author: danroth27
ms.author: daroth
ms.date: 09/11/2019
ms.openlocfilehash: 1137218e1cd99a39240592be415f734223e90b77
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183957"
---
# <a name="architecture-comparison-of-aspnet-web-forms-and-blazor"></a><span data-ttu-id="2d420-103">Porovnání architektury webových formulářů ASP.NET a Blazor</span><span class="sxs-lookup"><span data-stu-id="2d420-103">Architecture comparison of ASP.NET Web Forms and Blazor</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="2d420-104">I když webové formuláře ASP.NET a Blazor mají mnoho podobných konceptů, existují rozdíly v tom, jak fungují.</span><span class="sxs-lookup"><span data-stu-id="2d420-104">While ASP.NET Web Forms and Blazor have many similar concepts, there are differences in how they work.</span></span> <span data-ttu-id="2d420-105">Tato kapitola prověřuje vnitřní pracovní účely a architektury webových formulářů ASP.NET a Blazor.</span><span class="sxs-lookup"><span data-stu-id="2d420-105">This chapter examines the inner workings and architectures of ASP.NET Web Forms and Blazor.</span></span>

## <a name="aspnet-web-forms"></a><span data-ttu-id="2d420-106">ASP.NET – webové formuláře</span><span class="sxs-lookup"><span data-stu-id="2d420-106">ASP.NET Web Forms</span></span>

<span data-ttu-id="2d420-107">Rozhraní webových formulářů ASP.NET je založené na architektuře zaměřené na stránky.</span><span class="sxs-lookup"><span data-stu-id="2d420-107">The ASP.NET Web Forms framework is based on a page-centric architecture.</span></span> <span data-ttu-id="2d420-108">Každá žádost protokolu HTTP pro umístění v aplikaci je samostatnou stránkou, se kterou ASP.NET odpoví.</span><span class="sxs-lookup"><span data-stu-id="2d420-108">Each HTTP request for a location in the app is a separate page with which ASP.NET responds.</span></span> <span data-ttu-id="2d420-109">Když se vyžadují stránky, obsah prohlížeče se nahradí výsledky požadované stránky.</span><span class="sxs-lookup"><span data-stu-id="2d420-109">As pages are requested, the contents of the browser are replaced with the results of the page requested.</span></span>

<span data-ttu-id="2d420-110">Stránky se skládají z následujících součástí:</span><span class="sxs-lookup"><span data-stu-id="2d420-110">Pages consist of the following components:</span></span>

* <span data-ttu-id="2d420-111">HTML značky</span><span class="sxs-lookup"><span data-stu-id="2d420-111">HTML markup</span></span>
* <span data-ttu-id="2d420-112">C#nebo Visual Basic kód</span><span class="sxs-lookup"><span data-stu-id="2d420-112">C# or Visual Basic code</span></span>
* <span data-ttu-id="2d420-113">Třída s kódem na pozadí obsahující logiku a funkce zpracování událostí</span><span class="sxs-lookup"><span data-stu-id="2d420-113">A code-behind class containing logic and event-handling capabilities</span></span>
* <span data-ttu-id="2d420-114">Ovládací prvky</span><span class="sxs-lookup"><span data-stu-id="2d420-114">Controls</span></span>

<span data-ttu-id="2d420-115">Ovládací prvky jsou opakovaně použitelné jednotky webového uživatelského rozhraní, které lze programově umístit a zpracovat na stránce.</span><span class="sxs-lookup"><span data-stu-id="2d420-115">Controls are reusable units of web UI that can be programmatically placed and interacted with on a page.</span></span> <span data-ttu-id="2d420-116">Stránky se skládají ze souborů, které končí *. aspx* obsahující značky, ovládací prvky a nějaký kód.</span><span class="sxs-lookup"><span data-stu-id="2d420-116">Pages are composed of files that end with *.aspx* containing markup, controls, and some code.</span></span> <span data-ttu-id="2d420-117">Třídy kódu na pozadí jsou v souborech se stejným základním názvem a příponou *. aspx.cs* nebo *. aspx. vb* v závislosti na použitém programovacím jazyce.</span><span class="sxs-lookup"><span data-stu-id="2d420-117">The code-behind classes are in files with the same base name and an *.aspx.cs* or *.aspx.vb* extension, depending on the programming language used.</span></span> <span data-ttu-id="2d420-118">Z prodlení webový server interpretuje obsah souborů *. aspx* a kompiluje je pokaždé, když se změní.</span><span class="sxs-lookup"><span data-stu-id="2d420-118">Interestingly, the web server interprets contents of the *.aspx* files and compiles them whenever they change.</span></span> <span data-ttu-id="2d420-119">Tato opětovná kompilace proběhne i v případě, že je webový server již spuštěn.</span><span class="sxs-lookup"><span data-stu-id="2d420-119">This recompilation occurs even if the web server is already running.</span></span>

<span data-ttu-id="2d420-120">Ovládací prvky lze sestavit pomocí značek a doručovat jako uživatelské ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="2d420-120">Controls can be built with markup and delivered as user controls.</span></span> <span data-ttu-id="2d420-121">Uživatelský ovládací prvek je odvozen z `UserControl` třídy a má podobnou strukturu jako stránka.</span><span class="sxs-lookup"><span data-stu-id="2d420-121">A user control derives from the `UserControl` class and has a similar structure to the Page.</span></span> <span data-ttu-id="2d420-122">Značky pro uživatelské ovládací prvky jsou uloženy v souboru *. ascx* .</span><span class="sxs-lookup"><span data-stu-id="2d420-122">Markup for user controls is stored in an *.ascx* file.</span></span> <span data-ttu-id="2d420-123">Doprovodná třída kódu na pozadí se nachází v souboru *. ascx.cs* nebo *. ascx. vb* .</span><span class="sxs-lookup"><span data-stu-id="2d420-123">An accompanying code-behind class resides in an *.ascx.cs* or *.ascx.vb* file.</span></span> <span data-ttu-id="2d420-124">Ovládací prvky lze také sestavit zcela pomocí kódu, děděním z `WebControl` nebo `CompositeControl` základní třídy.</span><span class="sxs-lookup"><span data-stu-id="2d420-124">Controls can also be built completely with code, by inheriting from either the `WebControl` or `CompositeControl` base class.</span></span>

<span data-ttu-id="2d420-125">Stránky mají také rozsáhlý životní cyklus událostí.</span><span class="sxs-lookup"><span data-stu-id="2d420-125">Pages also have an extensive event lifecycle.</span></span> <span data-ttu-id="2d420-126">Každá stránka vyvolává události pro události inicializace, načítání, PreRender a Unload, ke kterým dochází, když modul runtime ASP.NET spustí kód stránky pro každý požadavek.</span><span class="sxs-lookup"><span data-stu-id="2d420-126">Each page raises events for the initialization, load, prerender, and unload events that occur as the ASP.NET runtime executes the page's code for each request.</span></span>

<span data-ttu-id="2d420-127">Ovládací prvky na stránce se obvykle účtují zpátky na stejnou stránku, která je prezentována ovládacím prvkům, a spolu s nimi přenesou datovou část `ViewState`ze skrytého pole formuláře s názvem.</span><span class="sxs-lookup"><span data-stu-id="2d420-127">Controls on a Page typically post-back to the same page that presented the control, and carry along with them a payload from a hidden form field called `ViewState`.</span></span> <span data-ttu-id="2d420-128">`ViewState` Pole obsahuje informace o stavu ovládacích prvků v době, kdy byly vykresleny a prezentovány na stránce, což umožňuje modulu runtime ASP.NET porovnat a identifikovat změny v obsahu odeslaném na server.</span><span class="sxs-lookup"><span data-stu-id="2d420-128">The `ViewState` field contains information about the state of the controls at the time they were rendered and presented on the page, allowing the ASP.NET runtime to compare and identify changes in the content submitted to the server.</span></span>

## <a name="blazor"></a><span data-ttu-id="2d420-129">Blazor</span><span class="sxs-lookup"><span data-stu-id="2d420-129">Blazor</span></span>

<span data-ttu-id="2d420-130">Blazor je rozhraní Web UI na straně klienta podobné jako u front-end rozhraní JavaScript, jako je například úhlové nebo reagující.</span><span class="sxs-lookup"><span data-stu-id="2d420-130">Blazor is a client-side web UI framework similar in nature to JavaScript front-end frameworks like Angular or React.</span></span> <span data-ttu-id="2d420-131">Blazor zpracovává interakce uživatelů a vykresluje potřebné aktualizace uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="2d420-131">Blazor handles user interactions and renders the necessary UI updates.</span></span> <span data-ttu-id="2d420-132">Blazor *není* založen na modelu požadavek-odpověď.</span><span class="sxs-lookup"><span data-stu-id="2d420-132">Blazor *isn't* based on a request-reply model.</span></span> <span data-ttu-id="2d420-133">Interakce s uživatelem jsou zpracovávány jako události, které nejsou v kontextu žádné konkrétní žádosti HTTP.</span><span class="sxs-lookup"><span data-stu-id="2d420-133">User interactions are handled as events that aren't in the context of any particular HTTP request.</span></span>

<span data-ttu-id="2d420-134">Aplikace Blazor se skládají z jedné nebo více kořenových součástí, které jsou vykresleny na stránce HTML.</span><span class="sxs-lookup"><span data-stu-id="2d420-134">Blazor apps consist of one or more root components that are rendered on an HTML page.</span></span>

![Blazor komponenty v HTML](./media/architecture-comparison/blazor-components-in-html.png)

<span data-ttu-id="2d420-136">Způsob, jakým uživatel Určuje, kde se mají komponenty vykreslovat a jak se komponenty pak budou hostovat pro interakce s uživatelem, jsou [hostující konkrétní model](hosting-models.md) .</span><span class="sxs-lookup"><span data-stu-id="2d420-136">How the user specifies where components should render and how the components are then wired up for user interactions is [hosting model](hosting-models.md) specific.</span></span>

<span data-ttu-id="2d420-137">[Komponenty](components.md) Blazor jsou třídy .NET, které představují opakovaně použitelná část uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="2d420-137">Blazor [components](components.md) are .NET classes that represent a reusable piece of UI.</span></span> <span data-ttu-id="2d420-138">Každá komponenta udržuje svůj vlastní stav a určuje vlastní logiku vykreslování, která může zahrnovat vykreslování dalších komponent.</span><span class="sxs-lookup"><span data-stu-id="2d420-138">Each component maintains its own state and specifies its own rendering logic, which can include rendering other components.</span></span> <span data-ttu-id="2d420-139">Komponenty určují obslužné rutiny událostí pro konkrétní interakce uživatele, které aktualizují stav součásti.</span><span class="sxs-lookup"><span data-stu-id="2d420-139">Components specify event handlers for specific user interactions to update the component's state.</span></span>

<span data-ttu-id="2d420-140">Poté, co komponenta zpracuje událost, Blazor vykreslí komponentu a udržuje přehled o tom, co se změnilo ve vykresleném výstupu.</span><span class="sxs-lookup"><span data-stu-id="2d420-140">After a component handles an event, Blazor renders the component and keeps track of what changed in the rendered output.</span></span> <span data-ttu-id="2d420-141">Komponenty se nevykreslují přímo do model DOM (Document Object Model) (DOM).</span><span class="sxs-lookup"><span data-stu-id="2d420-141">Components don't render directly to the Document Object Model (DOM).</span></span> <span data-ttu-id="2d420-142">Místo toho se vykreslí do reprezentace v paměti modelu DOM s názvem a `RenderTree` , aby Blazor mohla sledovat změny.</span><span class="sxs-lookup"><span data-stu-id="2d420-142">They instead render to an in-memory representation of the DOM called a `RenderTree` so that Blazor can track the changes.</span></span> <span data-ttu-id="2d420-143">Blazor porovná nově Vykreslený výstup s předchozím výstupem a vypočte rozdíl uživatelského rozhraní, který pak bude platit pro model DOM.</span><span class="sxs-lookup"><span data-stu-id="2d420-143">Blazor compares the newly rendered output with the previous output to calculate a UI diff that it then applies efficiently to the DOM.</span></span>

![Interakce modelu DOM Blazor](./media/architecture-comparison/blazor-dom-interaction.png)

<span data-ttu-id="2d420-145">Komponenty mohou také ručně označovat, že by měly být vykresleny, pokud se jejich stav mění mimo normální událost uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="2d420-145">Components can also manually indicate that they should be rendered if their state changes outside of a normal UI event.</span></span> <span data-ttu-id="2d420-146">Blazor používá `SynchronizationContext` k vykonání jediného logického vlákna.</span><span class="sxs-lookup"><span data-stu-id="2d420-146">Blazor uses a `SynchronizationContext` to enforce a single logical thread of execution.</span></span> <span data-ttu-id="2d420-147">V tomto `SynchronizationContext`případě jsou spouštěny metody životního cyklu komponenty a všechna zpětná volání událostí, která jsou aktivována nástrojem Blazor.</span><span class="sxs-lookup"><span data-stu-id="2d420-147">A component's lifecycle methods and any event callbacks that are raised by Blazor are executed on this `SynchronizationContext`.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2d420-148">[Předchozí](introduction.md)
>[Další](hosting-models.md)</span><span class="sxs-lookup"><span data-stu-id="2d420-148">[Previous](introduction.md)
[Next](hosting-models.md)</span></span>
